(function(i){typeof define=="function"&&define.amd?define(i):i()})(function(){"use strict";var Ha=Object.defineProperty,Ba=Object.defineProperties;var Ka=Object.getOwnPropertyDescriptors;var So=Object.getOwnPropertySymbols;var za=Object.prototype.hasOwnProperty,Xa=Object.prototype.propertyIsEnumerable;var Eo=(i,e,t)=>e in i?Ha(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ao=(i,e)=>{for(var t in e||(e={}))za.call(e,t)&&Eo(i,t,e[t]);if(So)for(var t of So(e))Xa.call(e,t)&&Eo(i,t,e[t]);return i},_o=(i,e)=>Ba(i,Ka(e));function _mergeNamespaces(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var keycloak={exports:{}},sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(i){return typeof i=="object"&&i.buffer&&i.buffer.constructor===ArrayBuffer});var createOutputMethod=function(i,e){return function(t){return new Sha256(e,!0).update(t)[i]()}},createMethod=function(i){var e=createOutputMethod("hex",i);NODE_JS&&(e=nodeWrap(e,i)),e.create=function(){return new Sha256(i)},e.update=function(s){return e.create().update(s)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n,i)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(i){if(typeof i=="string")return crypto.createHash(algorithm).update(i,"utf8").digest("hex");if(i==null)throw new Error(ERROR);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),Array.isArray(i)||ArrayBuffer.isView(i)||i.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(i)).digest("hex"):method(i)};return nodeMethod},createHmacOutputMethod=function(i,e){return function(t,n){return new HmacSha256(t,e,!0).update(n)[i]()}},createHmacMethod=function(i){var e=createHmacOutputMethod("hex",i);e.create=function(s){return new HmacSha256(s,i)},e.update=function(s,r){return e.create(s).update(r)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createHmacOutputMethod(n,i)}return e};function Sha256(i,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=i}Sha256.prototype.update=function(i){if(!this.finalized){var e,t=typeof i;if(t!=="string"){if(t==="object"){if(i===null)throw new Error(ERROR);if(ARRAY_BUFFER&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(i)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,s=0,r,c=i.length,p=this.blocks;s<c;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),e)for(r=this.start;s<c&&r<64;++s)p[r>>2]|=i[s]<<SHIFT[r++&3];else for(r=this.start;s<c&&r<64;++s)n=i.charCodeAt(s),n<128?p[r>>2]|=n<<SHIFT[r++&3]:n<2048?(p[r>>2]|=(192|n>>6)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]):n<55296||n>=57344?(p[r>>2]|=(224|n>>12)<<SHIFT[r++&3],p[r>>2]|=(128|n>>6&63)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]):(n=65536+((n&1023)<<10|i.charCodeAt(++s)&1023),p[r>>2]|=(240|n>>18)<<SHIFT[r++&3],p[r>>2]|=(128|n>>12&63)<<SHIFT[r++&3],p[r>>2]|=(128|n>>6&63)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=p[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,e=this.lastByteIndex;i[16]=this.block,i[e>>2]|=EXTRA[e&3],this.block=i[16],e>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var i=this.h0,e=this.h1,t=this.h2,n=this.h3,s=this.h4,r=this.h5,c=this.h6,p=this.h7,f=this.blocks,m,Xn,Gn,Wn,xn,Yn,Rn,rr,Jn,Hn,Zn;for(m=16;m<64;++m)xn=f[m-15],Xn=(xn>>>7|xn<<25)^(xn>>>18|xn<<14)^xn>>>3,xn=f[m-2],Gn=(xn>>>17|xn<<15)^(xn>>>19|xn<<13)^xn>>>10,f[m]=f[m-16]+Xn+f[m-7]+Gn<<0;for(Zn=e&t,m=0;m<64;m+=4)this.first?(this.is224?(rr=300032,xn=f[0]-1413257819,p=xn-150054599<<0,n=xn+24177077<<0):(rr=704751109,xn=f[0]-210244248,p=xn-1521486534<<0,n=xn+143694565<<0),this.first=!1):(Xn=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),Gn=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),rr=i&e,Wn=rr^i&t^Zn,Rn=s&r^~s&c,xn=p+Gn+Rn+K[m]+f[m],Yn=Xn+Wn,p=n+xn<<0,n=xn+Yn<<0),Xn=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),Gn=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),Jn=n&i,Wn=Jn^n&e^rr,Rn=p&s^~p&r,xn=c+Gn+Rn+K[m+1]+f[m+1],Yn=Xn+Wn,c=t+xn<<0,t=xn+Yn<<0,Xn=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),Gn=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),Hn=t&n,Wn=Hn^t&i^Jn,Rn=c&p^~c&s,xn=r+Gn+Rn+K[m+2]+f[m+2],Yn=Xn+Wn,r=e+xn<<0,e=xn+Yn<<0,Xn=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),Gn=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),Zn=e&t,Wn=Zn^e&n^Hn,Rn=r&c^~r&p,xn=s+Gn+Rn+K[m+3]+f[m+3],Yn=Xn+Wn,s=i+xn<<0,i=xn+Yn<<0;this.h0=this.h0+i<<0,this.h1=this.h1+e<<0,this.h2=this.h2+t<<0,this.h3=this.h3+n<<0,this.h4=this.h4+s<<0,this.h5=this.h5+r<<0,this.h6=this.h6+c<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var i=this.h0,e=this.h1,t=this.h2,n=this.h3,s=this.h4,r=this.h5,c=this.h6,p=this.h7,f=HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15];return this.is224||(f+=HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[p&15]),f},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var i=this.h0,e=this.h1,t=this.h2,n=this.h3,s=this.h4,r=this.h5,c=this.h6,p=this.h7,f=[i>>24&255,i>>16&255,i>>8&255,i&255,e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,s>>24&255,s>>16&255,s>>8&255,s&255,r>>24&255,r>>16&255,r>>8&255,r&255,c>>24&255,c>>16&255,c>>8&255,c&255];return this.is224||f.push(p>>24&255,p>>16&255,p>>8&255,p&255),f},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(this.is224?28:32),e=new DataView(i);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),i};function HmacSha256(i,e,t){var n,s=typeof i;if(s==="string"){var r=[],c=i.length,p=0,f;for(n=0;n<c;++n)f=i.charCodeAt(n),f<128?r[p++]=f:f<2048?(r[p++]=192|f>>6,r[p++]=128|f&63):f<55296||f>=57344?(r[p++]=224|f>>12,r[p++]=128|f>>6&63,r[p++]=128|f&63):(f=65536+((f&1023)<<10|i.charCodeAt(++n)&1023),r[p++]=240|f>>18,r[p++]=128|f>>12&63,r[p++]=128|f>>6&63,r[p++]=128|f&63);i=r}else if(s==="object"){if(i===null)throw new Error(ERROR);if(ARRAY_BUFFER&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(i)))throw new Error(ERROR)}else throw new Error(ERROR);i.length>64&&(i=new Sha256(e,!0).update(i).array());var m=[],Xn=[];for(n=0;n<64;++n){var Gn=i[n]||0;m[n]=92^Gn,Xn[n]=54^Gn}Sha256.call(this,e,t),this.update(Xn),this.oKeyPad=m,this.inner=!0,this.sharedMemory=t}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()}(sha256)),sha256.exports}var base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=p,base64Js.toByteArray=m,base64Js.fromByteArray=Wn;for(var i=[],e=[],t=typeof Uint8Array!="undefined"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,r=n.length;s<r;++s)i[s]=n[s],e[n.charCodeAt(s)]=s;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function c(xn){var Yn=xn.length;if(Yn%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Rn=xn.indexOf("=");Rn===-1&&(Rn=Yn);var rr=Rn===Yn?0:4-Rn%4;return[Rn,rr]}function p(xn){var Yn=c(xn),Rn=Yn[0],rr=Yn[1];return(Rn+rr)*3/4-rr}function f(xn,Yn,Rn){return(Yn+Rn)*3/4-Rn}function m(xn){var Yn,Rn=c(xn),rr=Rn[0],Jn=Rn[1],Hn=new t(f(xn,rr,Jn)),Zn=0,tr=Jn>0?rr-4:rr,nr;for(nr=0;nr<tr;nr+=4)Yn=e[xn.charCodeAt(nr)]<<18|e[xn.charCodeAt(nr+1)]<<12|e[xn.charCodeAt(nr+2)]<<6|e[xn.charCodeAt(nr+3)],Hn[Zn++]=Yn>>16&255,Hn[Zn++]=Yn>>8&255,Hn[Zn++]=Yn&255;return Jn===2&&(Yn=e[xn.charCodeAt(nr)]<<2|e[xn.charCodeAt(nr+1)]>>4,Hn[Zn++]=Yn&255),Jn===1&&(Yn=e[xn.charCodeAt(nr)]<<10|e[xn.charCodeAt(nr+1)]<<4|e[xn.charCodeAt(nr+2)]>>2,Hn[Zn++]=Yn>>8&255,Hn[Zn++]=Yn&255),Hn}function Xn(xn){return i[xn>>18&63]+i[xn>>12&63]+i[xn>>6&63]+i[xn&63]}function Gn(xn,Yn,Rn){for(var rr,Jn=[],Hn=Yn;Hn<Rn;Hn+=3)rr=(xn[Hn]<<16&16711680)+(xn[Hn+1]<<8&65280)+(xn[Hn+2]&255),Jn.push(Xn(rr));return Jn.join("")}function Wn(xn){for(var Yn,Rn=xn.length,rr=Rn%3,Jn=[],Hn=16383,Zn=0,tr=Rn-rr;Zn<tr;Zn+=Hn)Jn.push(Gn(xn,Zn,Zn+Hn>tr?tr:Zn+Hn));return rr===1?(Yn=xn[Rn-1],Jn.push(i[Yn>>2]+i[Yn<<4&63]+"==")):rr===2&&(Yn=(xn[Rn-2]<<8)+xn[Rn-1],Jn.push(i[Yn>>10]+i[Yn>>4&63]+i[Yn<<2&63]+"=")),Jn.join("")}return base64Js}(function(i,e){(function(t,n){i.exports=n(requireSha256(),requireBase64Js())})(window,function(t,n){if(typeof Promise=="undefined")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var s=!1;function r(){s||(s=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function c(p){if(!(this instanceof c))return new c(p);for(var f=this,m,Xn=[],Gn,Wn={enable:!0,callbackList:[],interval:5},xn=document.getElementsByTagName("script"),Yn=0;Yn<xn.length;Yn++)(xn[Yn].src.indexOf("keycloak.js")!==-1||xn[Yn].src.indexOf("keycloak.min.js")!==-1)&&xn[Yn].src.indexOf("version=")!==-1&&(f.iframeVersion=xn[Yn].src.substring(xn[Yn].src.indexOf("version=")+8).split("&")[0]);var Rn=!0,rr=Vr(console.info),Jn=Vr(console.warn);f.init=function(er){f.authenticated=!1,Gn=ri();var or=["default","cordova","cordova-native"];if(er&&or.indexOf(er.adapter)>-1?m=Hr(er.adapter):er&&typeof er.adapter=="object"?m=er.adapter:window.Cordova||window.cordova?m=Hr("cordova"):m=Hr(),er){if(typeof er.useNonce!="undefined"&&(Rn=er.useNonce),typeof er.checkLoginIframe!="undefined"&&(Wn.enable=er.checkLoginIframe),er.checkLoginIframeInterval&&(Wn.interval=er.checkLoginIframeInterval),er.onLoad==="login-required"&&(f.loginRequired=!0),er.responseMode)if(er.responseMode==="query"||er.responseMode==="fragment")f.responseMode=er.responseMode;else throw"Invalid value for responseMode";if(er.flow){switch(er.flow){case"standard":f.responseType="code";break;case"implicit":f.responseType="id_token token";break;case"hybrid":f.responseType="code id_token token";break;default:throw"Invalid value for flow"}f.flow=er.flow}if(er.timeSkew!=null&&(f.timeSkew=er.timeSkew),er.redirectUri&&(f.redirectUri=er.redirectUri),er.silentCheckSsoRedirectUri&&(f.silentCheckSsoRedirectUri=er.silentCheckSsoRedirectUri),typeof er.silentCheckSsoFallback=="boolean"?f.silentCheckSsoFallback=er.silentCheckSsoFallback:f.silentCheckSsoFallback=!0,er.pkceMethod){if(er.pkceMethod!=="S256")throw"Invalid value for pkceMethod";f.pkceMethod=er.pkceMethod}typeof er.enableLogging=="boolean"?f.enableLogging=er.enableLogging:f.enableLogging=!1,typeof er.scope=="string"&&(f.scope=er.scope),typeof er.messageReceiveTimeout=="number"&&er.messageReceiveTimeout>0?f.messageReceiveTimeout=er.messageReceiveTimeout:f.messageReceiveTimeout=1e4}f.responseMode||(f.responseMode="fragment"),f.responseType||(f.responseType="code",f.flow="standard");var pr=Ir(),yr=Ir();yr.promise.then(function(){f.onReady&&f.onReady(f.authenticated),pr.setSuccess(f.authenticated)}).catch(function(Or){pr.setError(Or)});var fr=mr();function ur(){var Or=function(Mr){Mr||(Pr.prompt="none"),f.login(Pr).then(function(){yr.setSuccess()}).catch(function(si){yr.setError(si)})},_r=function(){var Mr=document.createElement("iframe"),si=f.createLoginUrl({prompt:"none",redirectUri:f.silentCheckSsoRedirectUri});Mr.setAttribute("src",si),Mr.setAttribute("title","keycloak-silent-check-sso"),Mr.style.display="none",document.body.appendChild(Mr);var Zr=function(oi){if(!(oi.origin!==window.location.origin||Mr.contentWindow!==oi.source)){var Ti=gr(oi.data);lr(Ti,yr),document.body.removeChild(Mr),window.removeEventListener("message",Zr)}};window.addEventListener("message",Zr)},Pr={};switch(er.onLoad){case"check-sso":Wn.enable?Gr().then(function(){$r().then(function(Mr){Mr?yr.setSuccess():f.silentCheckSsoRedirectUri?_r():Or(!1)}).catch(function(Mr){yr.setError(Mr)})}):f.silentCheckSsoRedirectUri?_r():Or(!1);break;case"login-required":Or(!0);break;default:throw"Invalid value for onLoad"}}function wr(){var Or=gr(window.location.href);if(Or&&window.history.replaceState(window.history.state,null,Or.newUrl),Or&&Or.valid)return Gr().then(function(){lr(Or,yr)}).catch(function(_r){yr.setError(_r)});er?er.token&&er.refreshToken?(Er(er.token,er.refreshToken,er.idToken),Wn.enable?Gr().then(function(){$r().then(function(_r){_r?(f.onAuthSuccess&&f.onAuthSuccess(),yr.setSuccess(),Ur()):yr.setSuccess()}).catch(function(_r){yr.setError(_r)})}):f.updateToken(-1).then(function(){f.onAuthSuccess&&f.onAuthSuccess(),yr.setSuccess()}).catch(function(_r){f.onAuthError&&f.onAuthError(),er.onLoad?ur():yr.setError(_r)})):er.onLoad?ur():yr.setSuccess():yr.setSuccess()}function Sr(){var Or=Ir(),_r=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",_r),Or.setSuccess())};return document.addEventListener("readystatechange",_r),_r(),Or.promise}return fr.then(function(){Sr().then(Rr).then(wr).catch(function(Or){pr.setError(Or)})}),fr.catch(function(Or){pr.setError(Or)}),pr.promise},f.login=function(er){return m.login(er)};function Hn(er){var or=null,pr=window.crypto||window.msCrypto;if(pr&&pr.getRandomValues&&window.Uint8Array)return or=new Uint8Array(er),pr.getRandomValues(or),or;or=new Array(er);for(var yr=0;yr<or.length;yr++)or[yr]=Math.floor(256*Math.random());return or}function Zn(er){return tr(er,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function tr(er,or){for(var pr=Hn(er),yr=new Array(er),fr=0;fr<er;fr++)yr[fr]=or.charCodeAt(pr[fr]%or.length);return String.fromCharCode.apply(null,yr)}function nr(er,or){switch(er){case"S256":var pr=new Uint8Array(t.arrayBuffer(or)),yr=n.fromByteArray(pr).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return yr;default:throw"Invalid value for pkceMethod"}}f.createLoginUrl=function(er){var or=kr(),pr=kr(),yr=m.redirectUri(er),fr={state:or,nonce:pr,redirectUri:encodeURIComponent(yr)};er&&er.prompt&&(fr.prompt=er.prompt);var ur;er&&er.action=="register"?ur=f.endpoints.register():ur=f.endpoints.authorize();var wr=er&&er.scope||f.scope;wr?wr.indexOf("openid")===-1&&(wr="openid "+wr):wr="openid";var Sr=ur+"?client_id="+encodeURIComponent(f.clientId)+"&redirect_uri="+encodeURIComponent(yr)+"&state="+encodeURIComponent(or)+"&response_mode="+encodeURIComponent(f.responseMode)+"&response_type="+encodeURIComponent(f.responseType)+"&scope="+encodeURIComponent(wr);if(Rn&&(Sr=Sr+"&nonce="+encodeURIComponent(pr)),er&&er.prompt&&(Sr+="&prompt="+encodeURIComponent(er.prompt)),er&&er.maxAge&&(Sr+="&max_age="+encodeURIComponent(er.maxAge)),er&&er.loginHint&&(Sr+="&login_hint="+encodeURIComponent(er.loginHint)),er&&er.idpHint&&(Sr+="&kc_idp_hint="+encodeURIComponent(er.idpHint)),er&&er.action&&er.action!="register"&&(Sr+="&kc_action="+encodeURIComponent(er.action)),er&&er.locale&&(Sr+="&ui_locales="+encodeURIComponent(er.locale)),f.pkceMethod){var Or=Zn(96);fr.pkceCodeVerifier=Or;var _r=nr(f.pkceMethod,Or);Sr+="&code_challenge="+_r,Sr+="&code_challenge_method="+f.pkceMethod}return Gn.add(fr),Sr},f.logout=function(er){return m.logout(er)},f.createLogoutUrl=function(er){var or=f.endpoints.logout()+"?redirect_uri="+encodeURIComponent(m.redirectUri(er,!1));return or},f.register=function(er){return m.register(er)},f.createRegisterUrl=function(er){return er||(er={}),er.action="register",f.createLoginUrl(er)},f.createAccountUrl=function(er){var or=sr(),pr=void 0;return typeof or!="undefined"&&(pr=or+"/account?referrer="+encodeURIComponent(f.clientId)+"&referrer_uri="+encodeURIComponent(m.redirectUri(er))),pr},f.accountManagement=function(){return m.accountManagement()},f.hasRealmRole=function(er){var or=f.realmAccess;return!!or&&or.roles.indexOf(er)>=0},f.hasResourceRole=function(er,or){if(!f.resourceAccess)return!1;var pr=f.resourceAccess[or||f.clientId];return!!pr&&pr.roles.indexOf(er)>=0},f.loadUserProfile=function(){var er=sr()+"/account",or=new XMLHttpRequest;or.open("GET",er,!0),or.setRequestHeader("Accept","application/json"),or.setRequestHeader("Authorization","bearer "+f.token);var pr=Ir();return or.onreadystatechange=function(){or.readyState==4&&(or.status==200?(f.profile=JSON.parse(or.responseText),pr.setSuccess(f.profile)):pr.setError())},or.send(),pr.promise},f.loadUserInfo=function(){var er=f.endpoints.userinfo(),or=new XMLHttpRequest;or.open("GET",er,!0),or.setRequestHeader("Accept","application/json"),or.setRequestHeader("Authorization","bearer "+f.token);var pr=Ir();return or.onreadystatechange=function(){or.readyState==4&&(or.status==200?(f.userInfo=JSON.parse(or.responseText),pr.setSuccess(f.userInfo)):pr.setError())},or.send(),pr.promise},f.isTokenExpired=function(er){if(!f.tokenParsed||!f.refreshToken&&f.flow!="implicit")throw"Not authenticated";if(f.timeSkew==null)return rr("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var or=f.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+f.timeSkew;if(er){if(isNaN(er))throw"Invalid minValidity";or-=er}return or<0},f.updateToken=function(er){var or=Ir();if(!f.refreshToken)return or.setError(),or.promise;er=er||5;var pr=function(){var fr=!1;if(er==-1?(fr=!0,rr("[KEYCLOAK] Refreshing token: forced refresh")):(!f.tokenParsed||f.isTokenExpired(er))&&(fr=!0,rr("[KEYCLOAK] Refreshing token: token expired")),!fr)or.setSuccess(!1);else{var ur="grant_type=refresh_token&refresh_token="+f.refreshToken,wr=f.endpoints.token();if(Xn.push(or),Xn.length==1){var Sr=new XMLHttpRequest;Sr.open("POST",wr,!0),Sr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Sr.withCredentials=!0,ur+="&client_id="+encodeURIComponent(f.clientId);var Or=new Date().getTime();Sr.onreadystatechange=function(){if(Sr.readyState==4)if(Sr.status==200){rr("[KEYCLOAK] Token refreshed"),Or=(Or+new Date().getTime())/2;var _r=JSON.parse(Sr.responseText);Er(_r.access_token,_r.refresh_token,_r.id_token,Or),f.onAuthRefreshSuccess&&f.onAuthRefreshSuccess();for(var Pr=Xn.pop();Pr!=null;Pr=Xn.pop())Pr.setSuccess(!0)}else{Jn("[KEYCLOAK] Failed to refresh token"),Sr.status==400&&f.clearToken(),f.onAuthRefreshError&&f.onAuthRefreshError();for(var Pr=Xn.pop();Pr!=null;Pr=Xn.pop())Pr.setError(!0)}},Sr.send(ur)}}};if(Wn.enable){var yr=$r();yr.then(function(){pr()}).catch(function(fr){or.setError(fr)})}else pr();return or.promise},f.clearToken=function(){f.token&&(Er(null,null,null),f.onAuthLogout&&f.onAuthLogout(),f.loginRequired&&f.login())};function sr(){if(typeof f.authServerUrl!="undefined")return f.authServerUrl.charAt(f.authServerUrl.length-1)=="/"?f.authServerUrl+"realms/"+encodeURIComponent(f.realm):f.authServerUrl+"/realms/"+encodeURIComponent(f.realm)}function ar(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function lr(er,or){var pr=er.code,yr=er.error,fr=er.prompt,ur=new Date().getTime();if(er.kc_action_status&&f.onActionUpdate&&f.onActionUpdate(er.kc_action_status),yr){if(fr!="none"){var wr={error:yr,error_description:er.error_description};f.onAuthError&&f.onAuthError(wr),or&&or.setError(wr)}else or&&or.setSuccess();return}else f.flow!="standard"&&(er.access_token||er.id_token)&&Pr(er.access_token,null,er.id_token,!0);if(f.flow!="implicit"&&pr){var Sr="code="+pr+"&grant_type=authorization_code",Or=f.endpoints.token(),_r=new XMLHttpRequest;_r.open("POST",Or,!0),_r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Sr+="&client_id="+encodeURIComponent(f.clientId),Sr+="&redirect_uri="+er.redirectUri,er.pkceCodeVerifier&&(Sr+="&code_verifier="+er.pkceCodeVerifier),_r.withCredentials=!0,_r.onreadystatechange=function(){if(_r.readyState==4)if(_r.status==200){var Mr=JSON.parse(_r.responseText);Pr(Mr.access_token,Mr.refresh_token,Mr.id_token,f.flow==="standard"),Ur()}else f.onAuthError&&f.onAuthError(),or&&or.setError()},_r.send(Sr)}function Pr(Mr,si,Zr,oi){ur=(ur+new Date().getTime())/2,Er(Mr,si,Zr,ur),Rn&&(f.tokenParsed&&f.tokenParsed.nonce!=er.storedNonce||f.refreshTokenParsed&&f.refreshTokenParsed.nonce!=er.storedNonce||f.idTokenParsed&&f.idTokenParsed.nonce!=er.storedNonce)?(rr("[KEYCLOAK] Invalid nonce, clearing token"),f.clearToken(),or&&or.setError()):oi&&(f.onAuthSuccess&&f.onAuthSuccess(),or&&or.setSuccess())}}function mr(er){var or=Ir(),pr;p?typeof p=="string"&&(pr=p):pr="keycloak.json";function yr(_r){_r?f.endpoints={authorize:function(){return _r.authorization_endpoint},token:function(){return _r.token_endpoint},logout:function(){if(!_r.end_session_endpoint)throw"Not supported by the OIDC server";return _r.end_session_endpoint},checkSessionIframe:function(){if(!_r.check_session_iframe)throw"Not supported by the OIDC server";return _r.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!_r.userinfo_endpoint)throw"Not supported by the OIDC server";return _r.userinfo_endpoint}}:f.endpoints={authorize:function(){return sr()+"/protocol/openid-connect/auth"},token:function(){return sr()+"/protocol/openid-connect/token"},logout:function(){return sr()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var Pr=sr()+"/protocol/openid-connect/login-status-iframe.html";return f.iframeVersion&&(Pr=Pr+"?version="+f.iframeVersion),Pr},thirdPartyCookiesIframe:function(){var Pr=sr()+"/protocol/openid-connect/3p-cookies/step1.html";return f.iframeVersion&&(Pr=Pr+"?version="+f.iframeVersion),Pr},register:function(){return sr()+"/protocol/openid-connect/registrations"},userinfo:function(){return sr()+"/protocol/openid-connect/userinfo"}}}if(pr){var fr=new XMLHttpRequest;fr.open("GET",pr,!0),fr.setRequestHeader("Accept","application/json"),fr.onreadystatechange=function(){if(fr.readyState==4)if(fr.status==200||br(fr)){var _r=JSON.parse(fr.responseText);f.authServerUrl=_r["auth-server-url"],f.realm=_r.realm,f.clientId=_r.resource,yr(null),or.setSuccess()}else or.setError()},fr.send()}else{if(!p.clientId)throw"clientId missing";f.clientId=p.clientId;var ur=p.oidcProvider;if(ur)if(typeof ur=="string"){var Or;ur.charAt(ur.length-1)=="/"?Or=ur+".well-known/openid-configuration":Or=ur+"/.well-known/openid-configuration";var fr=new XMLHttpRequest;fr.open("GET",Or,!0),fr.setRequestHeader("Accept","application/json"),fr.onreadystatechange=function(){if(fr.readyState==4)if(fr.status==200||br(fr)){var Pr=JSON.parse(fr.responseText);yr(Pr),or.setSuccess()}else or.setError()},fr.send()}else yr(ur),or.setSuccess();else{if(!p.url){for(var wr=document.getElementsByTagName("script"),Sr=0;Sr<wr.length;Sr++)if(wr[Sr].src.match(/.*keycloak\.js/)){p.url=wr[Sr].src.substr(0,wr[Sr].src.indexOf("/js/keycloak.js"));break}}if(!p.realm)throw"realm missing";f.authServerUrl=p.url,f.realm=p.realm,yr(null),or.setSuccess()}}return or.promise}function br(er){return er.status==0&&er.responseText&&er.responseURL.startsWith("file:")}function Er(er,or,pr,yr){if(f.tokenTimeoutHandle&&(clearTimeout(f.tokenTimeoutHandle),f.tokenTimeoutHandle=null),or?(f.refreshToken=or,f.refreshTokenParsed=Lr(or)):(delete f.refreshToken,delete f.refreshTokenParsed),pr?(f.idToken=pr,f.idTokenParsed=Lr(pr)):(delete f.idToken,delete f.idTokenParsed),er){if(f.token=er,f.tokenParsed=Lr(er),f.sessionId=f.tokenParsed.session_state,f.authenticated=!0,f.subject=f.tokenParsed.sub,f.realmAccess=f.tokenParsed.realm_access,f.resourceAccess=f.tokenParsed.resource_access,yr&&(f.timeSkew=Math.floor(yr/1e3)-f.tokenParsed.iat),f.timeSkew!=null&&(rr("[KEYCLOAK] Estimated time difference between browser and server is "+f.timeSkew+" seconds"),f.onTokenExpired)){var fr=(f.tokenParsed.exp-new Date().getTime()/1e3+f.timeSkew)*1e3;rr("[KEYCLOAK] Token expires in "+Math.round(fr/1e3)+" s"),fr<=0?f.onTokenExpired():f.tokenTimeoutHandle=setTimeout(f.onTokenExpired,fr)}}else delete f.token,delete f.tokenParsed,delete f.subject,delete f.realmAccess,delete f.resourceAccess,f.authenticated=!1}function Lr(er){switch(er=er.split(".")[1],er=er.replace(/-/g,"+"),er=er.replace(/_/g,"/"),er.length%4){case 0:break;case 2:er+="==";break;case 3:er+="=";break;default:throw"Invalid token"}return er=decodeURIComponent(escape(atob(er))),er=JSON.parse(er),er}function kr(){var er="0123456789abcdef",or=tr(36,er).split("");or[14]="4",or[19]=er.substr(or[19]&3|8,1),or[8]=or[13]=or[18]=or[23]="-";var pr=or.join("");return pr}function gr(er){var or=Nr(er);if(!!or){var pr=Gn.get(or.state);return pr&&(or.valid=!0,or.redirectUri=pr.redirectUri,or.storedNonce=pr.nonce,or.prompt=pr.prompt,or.pkceCodeVerifier=pr.pkceCodeVerifier),or}}function Nr(er){var or;switch(f.flow){case"standard":or=["code","state","session_state","kc_action_status"];break;case"implicit":or=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":or=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}or.push("error"),or.push("error_description"),or.push("error_uri");var pr=er.indexOf("?"),yr=er.indexOf("#"),fr,ur;if(f.responseMode==="query"&&pr!==-1?(fr=er.substring(0,pr),ur=jr(er.substring(pr+1,yr!==-1?yr:er.length),or),ur.paramsString!==""&&(fr+="?"+ur.paramsString),yr!==-1&&(fr+=er.substring(yr))):f.responseMode==="fragment"&&yr!==-1&&(fr=er.substring(0,yr),ur=jr(er.substring(yr+1),or),ur.paramsString!==""&&(fr+="#"+ur.paramsString)),ur&&ur.oauthParams){if(f.flow==="standard"||f.flow==="hybrid"){if((ur.oauthParams.code||ur.oauthParams.error)&&ur.oauthParams.state)return ur.oauthParams.newUrl=fr,ur.oauthParams}else if(f.flow==="implicit"&&(ur.oauthParams.access_token||ur.oauthParams.error)&&ur.oauthParams.state)return ur.oauthParams.newUrl=fr,ur.oauthParams}}function jr(er,or){for(var pr=er.split("&"),yr={paramsString:"",oauthParams:{}},fr=0;fr<pr.length;fr++){var ur=pr[fr].indexOf("="),wr=pr[fr].slice(0,ur);or.indexOf(wr)!==-1?yr.oauthParams[wr]=pr[fr].slice(ur+1):(yr.paramsString!==""&&(yr.paramsString+="&"),yr.paramsString+=pr[fr])}return yr}function Ir(){var er={setSuccess:function(or){er.resolve(or)},setError:function(or){er.reject(or)}};return er.promise=new Promise(function(or,pr){er.resolve=or,er.reject=pr}),er.promise.success=function(or){return r(),this.then(function(yr){or(yr)}),this},er.promise.error=function(or){return r(),this.catch(function(yr){or(yr)}),this},er}function Xr(er,or,pr){var yr=null,fr=new Promise(function(ur,wr){yr=setTimeout(function(){wr({error:pr||"Promise is not settled within timeout of "+or+"ms"})},or)});return Promise.race([er,fr]).finally(function(){clearTimeout(yr)})}function Gr(){var er=Ir();if(!Wn.enable||Wn.iframe)return er.setSuccess(),er.promise;var or=document.createElement("iframe");Wn.iframe=or,or.onload=function(){var fr=f.endpoints.authorize();fr.charAt(0)==="/"?Wn.iframeOrigin=ar():Wn.iframeOrigin=fr.substring(0,fr.indexOf("/",8)),er.setSuccess()};var pr=f.endpoints.checkSessionIframe();or.setAttribute("src",pr),or.setAttribute("title","keycloak-session-iframe"),or.style.display="none",document.body.appendChild(or);var yr=function(fr){if(!(fr.origin!==Wn.iframeOrigin||Wn.iframe.contentWindow!==fr.source)&&(fr.data=="unchanged"||fr.data=="changed"||fr.data=="error")){fr.data!="unchanged"&&f.clearToken();for(var ur=Wn.callbackList.splice(0,Wn.callbackList.length),wr=ur.length-1;wr>=0;--wr){var Sr=ur[wr];fr.data=="error"?Sr.setError():Sr.setSuccess(fr.data=="unchanged")}}};return window.addEventListener("message",yr,!1),er.promise}function Ur(){Wn.enable&&f.token&&setTimeout(function(){$r().then(function(er){er&&Ur()})},Wn.interval*1e3)}function $r(){var er=Ir();if(Wn.iframe&&Wn.iframeOrigin){var or=f.clientId+" "+(f.sessionId?f.sessionId:"");Wn.callbackList.push(er);var pr=Wn.iframeOrigin;Wn.callbackList.length==1&&Wn.iframe.contentWindow.postMessage(or,pr)}else er.setSuccess();return er.promise}function Rr(){var er=Ir();if(Wn.enable||f.silentCheckSsoRedirectUri){var or=document.createElement("iframe");or.setAttribute("src",f.endpoints.thirdPartyCookiesIframe()),or.setAttribute("title","keycloak-3p-check-iframe"),or.style.display="none",document.body.appendChild(or);var pr=function(yr){or.contentWindow===yr.source&&(yr.data!=="supported"&&yr.data!=="unsupported"||(yr.data==="unsupported"&&(Wn.enable=!1,f.silentCheckSsoFallback&&(f.silentCheckSsoRedirectUri=!1),Jn("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(or),window.removeEventListener("message",pr),er.setSuccess()))};window.addEventListener("message",pr,!1)}else er.setSuccess();return Xr(er.promise,f.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function Hr(er){if(!er||er=="default")return{login:function(ur){return window.location.replace(f.createLoginUrl(ur)),Ir().promise},logout:function(ur){return window.location.replace(f.createLogoutUrl(ur)),Ir().promise},register:function(ur){return window.location.replace(f.createRegisterUrl(ur)),Ir().promise},accountManagement:function(){var ur=f.createAccountUrl();if(typeof ur!="undefined")window.location.href=ur;else throw"Not supported by the OIDC server";return Ir().promise},redirectUri:function(ur,wr){return ur&&ur.redirectUri?ur.redirectUri:f.redirectUri?f.redirectUri:location.href}};if(er=="cordova"){Wn.enable=!1;var or=function(ur,wr,Sr){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(ur,wr,Sr):window.open(ur,wr,Sr)},pr=function(ur){return ur&&ur.cordovaOptions?Object.keys(ur.cordovaOptions).reduce(function(wr,Sr){return wr[Sr]=ur.cordovaOptions[Sr],wr},{}):{}},yr=function(ur){return Object.keys(ur).reduce(function(wr,Sr){return wr.push(Sr+"="+ur[Sr]),wr},[]).join(",")},fr=function(ur){var wr=pr(ur);return wr.location="no",ur&&ur.prompt=="none"&&(wr.hidden="yes"),yr(wr)};return{login:function(ur){var wr=Ir(),Sr=fr(ur),Or=f.createLoginUrl(ur),_r=or(Or,"_blank",Sr),Pr=!1,Mr=!1,si=function(){Mr=!0,_r.close()};return _r.addEventListener("loadstart",function(Zr){if(Zr.url.indexOf("http://localhost")==0){var oi=gr(Zr.url);lr(oi,wr),si(),Pr=!0}}),_r.addEventListener("loaderror",function(Zr){if(!Pr)if(Zr.url.indexOf("http://localhost")==0){var oi=gr(Zr.url);lr(oi,wr),si(),Pr=!0}else wr.setError(),si()}),_r.addEventListener("exit",function(Zr){Mr||wr.setError({reason:"closed_by_user"})}),wr.promise},logout:function(ur){var wr=Ir(),Sr=f.createLogoutUrl(ur),Or=or(Sr,"_blank","location=no,hidden=yes,clearcache=yes"),_r;return Or.addEventListener("loadstart",function(Pr){Pr.url.indexOf("http://localhost")==0&&Or.close()}),Or.addEventListener("loaderror",function(Pr){Pr.url.indexOf("http://localhost")==0||(_r=!0),Or.close()}),Or.addEventListener("exit",function(Pr){_r?wr.setError():(f.clearToken(),wr.setSuccess())}),wr.promise},register:function(ur){var wr=Ir(),Sr=f.createRegisterUrl(),Or=fr(ur),_r=or(Sr,"_blank",Or);return _r.addEventListener("loadstart",function(Pr){if(Pr.url.indexOf("http://localhost")==0){_r.close();var Mr=gr(Pr.url);lr(Mr,wr)}}),wr.promise},accountManagement:function(){var ur=f.createAccountUrl();if(typeof ur!="undefined"){var wr=or(ur,"_blank","location=no");wr.addEventListener("loadstart",function(Sr){Sr.url.indexOf("http://localhost")==0&&wr.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(ur){return"http://localhost"}}}if(er=="cordova-native")return Wn.enable=!1,{login:function(ur){var wr=Ir(),Sr=f.createLoginUrl(ur);return universalLinks.subscribe("keycloak",function(Or){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var _r=gr(Or.url);lr(_r,wr)}),window.cordova.plugins.browsertab.openUrl(Sr),wr.promise},logout:function(ur){var wr=Ir(),Sr=f.createLogoutUrl(ur);return universalLinks.subscribe("keycloak",function(Or){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),f.clearToken(),wr.setSuccess()}),window.cordova.plugins.browsertab.openUrl(Sr),wr.promise},register:function(ur){var wr=Ir(),Sr=f.createRegisterUrl(ur);return universalLinks.subscribe("keycloak",function(Or){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var _r=gr(Or.url);lr(_r,wr)}),window.cordova.plugins.browsertab.openUrl(Sr),wr.promise},accountManagement:function(){var ur=f.createAccountUrl();if(typeof ur!="undefined")window.cordova.plugins.browsertab.openUrl(ur);else throw"Not supported by the OIDC server"},redirectUri:function(ur){return ur&&ur.redirectUri?ur.redirectUri:f.redirectUri?f.redirectUri:"http://localhost"}};throw"invalid adapter type: "+er}var Br=function(){if(!(this instanceof Br))return new Br;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var er=this;function or(){for(var pr=new Date().getTime(),yr=0;yr<localStorage.length;yr++){var fr=localStorage.key(yr);if(fr&&fr.indexOf("kc-callback-")==0){var ur=localStorage.getItem(fr);if(ur)try{var wr=JSON.parse(ur).expires;(!wr||wr<pr)&&localStorage.removeItem(fr)}catch(Sr){localStorage.removeItem(fr)}}}}er.get=function(pr){if(!!pr){var yr="kc-callback-"+pr,fr=localStorage.getItem(yr);return fr&&(localStorage.removeItem(yr),fr=JSON.parse(fr)),or(),fr}},er.add=function(pr){or();var yr="kc-callback-"+pr.state;pr.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(yr,JSON.stringify(pr))}},Wr=function(){if(!(this instanceof Wr))return new Wr;var er=this;er.get=function(fr){if(!!fr){var ur=pr("kc-callback-"+fr);if(yr("kc-callback-"+fr,"",or(-100)),ur)return JSON.parse(ur)}},er.add=function(fr){yr("kc-callback-"+fr.state,JSON.stringify(fr),or(60))},er.removeItem=function(fr){yr(fr,"",or(-100))};var or=function(fr){var ur=new Date;return ur.setTime(ur.getTime()+fr*60*1e3),ur},pr=function(fr){for(var ur=fr+"=",wr=document.cookie.split(";"),Sr=0;Sr<wr.length;Sr++){for(var Or=wr[Sr];Or.charAt(0)==" ";)Or=Or.substring(1);if(Or.indexOf(ur)==0)return Or.substring(ur.length,Or.length)}return""},yr=function(fr,ur,wr){var Sr=fr+"="+ur+"; expires="+wr.toUTCString()+"; ";document.cookie=Sr}};function ri(){try{return new Br}catch(er){}return new Wr}function Vr(er){return function(){f.enableLogging&&er.apply(console,Array.prototype.slice.call(arguments))}}}return c})})(keycloak);const X$2=keycloak.exports;var build_umd$1={exports:{}};(function(i,e){(function(n,s){i.exports=s()})(commonjsGlobal,function(){return function(t){var n={};function s(r){if(n[r])return n[r].exports;var c=n[r]={i:r,l:!1,exports:{}};return t[r].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=t,s.c=n,s.d=function(r,c,p){s.o(r,c)||Object.defineProperty(r,c,{enumerable:!0,get:p})},s.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},s.t=function(r,c){if(c&1&&(r=s(r)),c&8||c&4&&typeof r=="object"&&r&&r.__esModule)return r;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:r}),c&2&&typeof r!="string")for(var f in r)s.d(p,f,function(m){return r[m]}.bind(null,f));return p},s.n=function(r){var c=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(c,"a",c),c},s.o=function(r,c){return Object.prototype.hasOwnProperty.call(r,c)},s.p="",s(s.s=0)}({"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(t,n){function s(r,c){(c==null||c>r.length)&&(c=r.length);for(var p=0,f=new Array(c);p<c;p++)f[p]=r[p];return f}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function c(p){if(Array.isArray(p))return r(p)}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(t,n){function s(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/createClass.js":function(t,n){function s(c,p){for(var f=0;f<p.length;f++){var m=p[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}function r(c,p,f){return p&&s(c.prototype,p),f&&s(c,f),c}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(t,n){function s(r,c,p){return c in r?Object.defineProperty(r,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[c]=p,r}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(t,n){function s(r){return r&&r.__esModule?r:{default:r}}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireWildcard.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/typeof.js").default;function c(f){if(typeof WeakMap!="function")return null;var m=new WeakMap,Xn=new WeakMap;return(c=function(Wn){return Wn?Xn:m})(f)}function p(f,m){if(!m&&f&&f.__esModule)return f;if(f===null||r(f)!=="object"&&typeof f!="function")return{default:f};var Xn=c(m);if(Xn&&Xn.has(f))return Xn.get(f);var Gn={},Wn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var xn in f)if(xn!=="default"&&Object.prototype.hasOwnProperty.call(f,xn)){var Yn=Wn?Object.getOwnPropertyDescriptor(f,xn):null;Yn&&(Yn.get||Yn.set)?Object.defineProperty(Gn,xn,Yn):Gn[xn]=f[xn]}return Gn.default=f,Xn&&Xn.set(f,Gn),Gn}t.exports=p,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(t,n){function s(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(t,n){function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function c(p,f){if(p==null)return{};var m=r(p,f),Xn,Gn;if(Object.getOwnPropertySymbols){var Wn=Object.getOwnPropertySymbols(p);for(Gn=0;Gn<Wn.length;Gn++)Xn=Wn[Gn],!(f.indexOf(Xn)>=0)&&(!Object.prototype.propertyIsEnumerable.call(p,Xn)||(m[Xn]=p[Xn]))}return m}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(t,n){function s(r,c){if(r==null)return{};var p={},f=Object.keys(r),m,Xn;for(Xn=0;Xn<f.length;Xn++)m=f[Xn],!(c.indexOf(m)>=0)&&(p[m]=r[m]);return p}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),c=s("./node_modules/@babel/runtime/helpers/iterableToArray.js"),p=s("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),f=s("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function m(Xn){return r(Xn)||c(Xn)||p(Xn)||f()}t.exports=m,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,n){function s(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(t.exports=s=function(p){return typeof p},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=s=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t.exports.default=t.exports,t.exports.__esModule=!0),s(r)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function c(p,f){if(!!p){if(typeof p=="string")return r(p,f);var m=Object.prototype.toString.call(p).slice(8,-1);if(m==="Object"&&p.constructor&&(m=p.constructor.name),m==="Map"||m==="Set")return Array.from(p);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return r(p,f)}}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/webpack/buildin/global.js":function(t,n){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(r){typeof window=="object"&&(s=window)}t.exports=s},"./packages/@apphub:logrocket-console/src/index.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(s("./packages/@apphub:logrocket-console/src/registerConsole.js")),p=c.default;n.default=p,t.exports=n.default},"./packages/@apphub:logrocket-console/src/registerConsole.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var c=r(s("./node_modules/@babel/runtime/helpers/typeof.js")),p=r(s("./packages/@apphub:logrocket-utils/src/enhanceFunc.js")),f=s("./packages/@apphub:logrocket-exceptions/src/index.js");function m(Xn){var Gn=[],Wn=["log","warn","info","error","debug"];return Wn.forEach(function(xn){Gn.push((0,p.default)(console,xn,function(){for(var Yn=arguments.length,Rn=new Array(Yn),rr=0;rr<Yn;rr++)Rn[rr]=arguments[rr];Xn.addEvent("lr.core.LogEvent",function(){var Jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Hn=Jn.isEnabled;return(0,c.default)(Hn)==="object"&&Hn[xn]===!1||Hn===!1?null:(xn==="error"&&Jn.shouldAggregateConsoleErrors&&f.Capture.captureMessage(Xn,Rn[0],{},!0),{logLevel:xn.toUpperCase(),args:Rn})})}))}),function(){Gn.forEach(function(xn){return xn()})}}t.exports=n.default},"./packages/@apphub:logrocket-exceptions/src/Capture.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.captureMessage=Gn,n.captureException=Wn;var c=r(s("./node_modules/@babel/runtime/helpers/typeof.js")),p=r(s("./packages/@apphub:logrocket-utils/src/TraceKit.js")),f=r(s("./packages/@apphub:logrocket-exceptions/src/stackTraceFromError.js"));function m(xn){return/boolean|number|string/.test((0,c.default)(xn))}function Xn(xn,Yn){if(Yn){for(var Rn=["level","logger"],rr=0,Jn=Rn;rr<Jn.length;rr++){var Hn=Jn[rr],Zn=Yn[Hn];m(Zn)&&(xn[Hn]=Zn.toString())}for(var tr=["tags","extra"],nr=0,sr=tr;nr<sr.length;nr++){for(var ar=sr[nr],lr=Yn[ar]||{},mr={},br=0,Er=Object.keys(lr);br<Er.length;br++){var Lr=Er[br],kr=lr[Lr];m(kr)&&(mr[Lr.toString()]=kr.toString())}xn[ar]=mr}}}function Gn(xn,Yn){var Rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},rr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Jn={exceptionType:rr?"CONSOLE":"MESSAGE",message:Yn,browserHref:window.location?window.location.href:""};Xn(Jn,Rn),xn.addEvent("lr.core.Exception",function(){return Jn})}function Wn(xn,Yn){var Rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},rr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Jn=rr||p.default.computeStackTrace(Yn),Hn={exceptionType:"WINDOW",errorType:Jn.name,message:Jn.message,browserHref:window.location?window.location.href:""};Xn(Hn,Rn);var Zn={_stackTrace:(0,f.default)(Jn)};xn.addEvent("lr.core.Exception",function(){return Hn},Zn)}},"./packages/@apphub:logrocket-exceptions/src/index.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),c=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"registerExceptions",{enumerable:!0,get:function(){return p.default}}),n.Capture=void 0;var p=c(s("./packages/@apphub:logrocket-exceptions/src/registerExceptions.js")),f=r(s("./packages/@apphub:logrocket-exceptions/src/Capture.js"));n.Capture=f},"./packages/@apphub:logrocket-exceptions/src/raven/raven.js":function(t,n,s){(function(r){var c=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var p=c(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),f=c(s("./node_modules/@babel/runtime/helpers/createClass.js")),m=c(s("./packages/@apphub:logrocket-utils/src/TraceKit.js")),Xn=Object.prototype;function Gn(Jn){return Jn===void 0}function Wn(Jn){return typeof Jn=="function"}function xn(Jn,Hn){return Xn.hasOwnProperty.call(Jn,Hn)}function Yn(Jn,Hn,Zn,tr){var nr=Jn[Hn];Jn[Hn]=Zn(nr),tr&&tr.push([Jn,Hn,nr])}var Rn=typeof window!="undefined"?window:typeof r!="undefined"?r:typeof self!="undefined"?self:{};Rn.document;var rr=function(){function Jn(Hn){var Zn=Hn.captureException;(0,p.default)(this,Jn),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=Zn,m.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,f.default)(Jn,[{key:"uninstall",value:function(){m.default.report.unsubscribe(this._errorHandler);for(var Zn;this._wrappedBuiltIns.length;){Zn=this._wrappedBuiltIns.shift();var tr=Zn[0],nr=Zn[1],sr=Zn[2];tr[nr]=sr}}},{key:"_errorHandler",value:function(Zn){this._ignoreOnError||this.captureException(Zn)}},{key:"_ignoreNextOnError",value:function(){var Zn=this;this._ignoreOnError+=1,setTimeout(function(){Zn._ignoreOnError-=1})}},{key:"context",value:function(Zn,tr,nr){return Wn(Zn)&&(nr=tr||[],tr=Zn,Zn=void 0),this.wrap(Zn,tr).apply(this,nr)}},{key:"wrap",value:function(Zn,tr,nr){var sr=this;if(Gn(tr)&&!Wn(Zn))return Zn;if(Wn(Zn)&&(tr=Zn,Zn=void 0),!Wn(tr))return tr;try{if(tr.__lr__)return tr;if(tr.__lr_wrapper__)return tr.__lr_wrapper__;if(!Object.isExtensible(tr))return tr}catch(mr){return tr}function ar(){var mr=[],br=arguments.length,Er=!Zn||Zn&&Zn.deep!==!1;for(nr&&Wn(nr)&&nr.apply(this,arguments);br--;)mr[br]=Er?sr.wrap(Zn,arguments[br]):arguments[br];try{return tr.apply(this,mr)}catch(Lr){throw sr._ignoreNextOnError(),sr.captureException(m.default.computeStackTrace(Lr),Zn),Lr}}for(var lr in tr)xn(tr,lr)&&(ar[lr]=tr[lr]);return ar.prototype=tr.prototype,tr.__lr_wrapper__=ar,ar.__lr__=!0,ar.__inner__=tr,ar}},{key:"_instrumentTryCatch",value:function(){var Zn=this,tr=Zn._wrappedBuiltIns;function nr(br){return function(Er,Lr){for(var kr=new Array(arguments.length),gr=0;gr<kr.length;++gr)kr[gr]=arguments[gr];var Nr=kr[0];return Wn(Nr)&&(kr[0]=Zn.wrap(Nr)),br.apply?br.apply(this,kr):br(kr[0],kr[1])}}function sr(br){var Er=Rn[br]&&Rn[br].prototype;Er&&Er.hasOwnProperty&&Er.hasOwnProperty("addEventListener")&&(Yn(Er,"addEventListener",function(Lr){return function(kr,gr,Nr,jr){try{gr&&gr.handleEvent&&(gr.handleEvent=Zn.wrap(gr.handleEvent))}catch(Xr){}var Ir;return Lr.call(this,kr,Zn.wrap(gr,void 0,Ir),Nr,jr)}},tr),Yn(Er,"removeEventListener",function(Lr){return function(kr,gr,Nr,jr){try{gr=gr&&(gr.__lr_wrapper__?gr.__lr_wrapper__:gr)}catch(Ir){}return Lr.call(this,kr,gr,Nr,jr)}},tr))}Yn(Rn,"setTimeout",nr,tr),Yn(Rn,"setInterval",nr,tr),Rn.requestAnimationFrame&&Yn(Rn,"requestAnimationFrame",function(br){return function(Er){return br(Zn.wrap(Er))}},tr);for(var ar=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],lr=0;lr<ar.length;lr++)sr(ar[lr]);var mr=Rn.jQuery||Rn.$;mr&&mr.fn&&mr.fn.ready&&Yn(mr.fn,"ready",function(br){return function(Er){return br.call(this,Zn.wrap(Er))}},tr)}}]),Jn}();n.default=rr,t.exports=n.default}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./packages/@apphub:logrocket-exceptions/src/registerExceptions.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),c=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var p=c(s("./packages/@apphub:logrocket-exceptions/src/raven/raven.js")),f=r(s("./packages/@apphub:logrocket-exceptions/src/Capture.js"));function m(Xn){var Gn=new p.default({captureException:function(Yn){f.captureException(Xn,null,null,Yn)}}),Wn=function(Yn){Xn.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:Yn.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",Wn),function(){window.removeEventListener("unhandledrejection",Wn),Gn.uninstall()}}t.exports=n.default},"./packages/@apphub:logrocket-exceptions/src/stackTraceFromError.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c){function p(f){return f===null?void 0:f}return c.stack?c.stack.map(function(f){return{lineNumber:p(f.line),columnNumber:p(f.column),fileName:p(f.url),functionName:p(f.func)}}):void 0}t.exports=n.default},"./packages/@apphub:logrocket-network/src/fetchIntercept.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),p=s("./packages/@apphub:logrocket-network/src/registerXHR.js"),f=[];function m(xn,Yn){for(var Rn=f.reduce(function(tr,nr){return[nr].concat(tr)},[]),rr=arguments.length,Jn=new Array(rr>2?rr-2:0),Hn=2;Hn<rr;Hn++)Jn[Hn-2]=arguments[Hn];var Zn=Promise.resolve(Jn);return Rn.forEach(function(tr){var nr=tr.request,sr=tr.requestError;(nr||sr)&&(Zn=Zn.then(function(ar){return nr.apply(void 0,[Yn].concat((0,c.default)(ar)))},function(ar){return sr.apply(void 0,[Yn].concat((0,c.default)(ar)))}))}),Zn=Zn.then(function(tr){(0,p.setActive)(!1);var nr,sr;try{nr=xn.apply(void 0,(0,c.default)(tr))}catch(ar){sr=ar}if((0,p.setActive)(!0),sr)throw sr;return nr}),Rn.forEach(function(tr){var nr=tr.response,sr=tr.responseError;(nr||sr)&&(Zn=Zn.then(function(ar){return nr(Yn,ar)},function(ar){return sr&&sr(Yn,ar)}))}),Zn}function Xn(xn){if(!(!xn.fetch||!xn.Promise)){var Yn=xn.fetch.polyfill;xn.fetch=function(Rn){var rr=0;return function(){for(var Jn=arguments.length,Hn=new Array(Jn),Zn=0;Zn<Jn;Zn++)Hn[Zn]=arguments[Zn];return m.apply(void 0,[Rn,rr++].concat(Hn))}}(xn.fetch),Yn&&(xn.fetch.polyfill=Yn)}}var Gn=!1,Wn={register:function(Yn){return Gn||(Gn=!0,Xn(window)),f.push(Yn),function(){var Rn=f.indexOf(Yn);Rn>=0&&f.splice(Rn,1)}},clear:function(){f=[]}};n.default=Wn,t.exports=n.default},"./packages/@apphub:logrocket-network/src/index.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=Yn;var c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/typeof.js")),f=r(s("./packages/@apphub:logrocket-network/src/registerFetch.js")),m=r(s("./packages/@apphub:logrocket-network/src/registerNetworkInformation.js")),Xn=r(s("./packages/@apphub:logrocket-network/src/registerXHR.js")),Gn=r(s("./packages/@apphub:logrocket-utils/src/mapValues.js"));function Wn(Rn,rr){var Jn=Object.keys(Rn);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(Rn);rr&&(Hn=Hn.filter(function(Zn){return Object.getOwnPropertyDescriptor(Rn,Zn).enumerable})),Jn.push.apply(Jn,Hn)}return Jn}function xn(Rn){for(var rr=1;rr<arguments.length;rr++){var Jn=arguments[rr]!=null?arguments[rr]:{};rr%2?Wn(Object(Jn),!0).forEach(function(Hn){(0,c.default)(Rn,Hn,Jn[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rn,Object.getOwnPropertyDescriptors(Jn)):Wn(Object(Jn)).forEach(function(Hn){Object.defineProperty(Rn,Hn,Object.getOwnPropertyDescriptor(Jn,Hn))})}return Rn}function Yn(Rn){var rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1},Jn=rr.isReactNative,Hn=rr.shouldAugmentNPS,Zn=rr.shouldParseXHRBlob,tr={},nr=function(kr){var gr=4096e3,Nr=kr;if((0,p.default)(kr)==="object"&&kr!=null){var jr=Object.getPrototypeOf(kr);(jr===Object.prototype||jr===null)&&(Nr=JSON.stringify(kr))}if(Nr&&Nr.length&&Nr.length>gr&&typeof Nr=="string"){var Ir=Nr.substring(0,1e3);return"".concat(Ir,` ... LogRocket truncating to first 1000 characters.
      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference#network`)}return kr},sr=function(kr,gr){var Nr=gr.method;Rn.addEvent("lr.network.RequestEvent",function(){var jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ir=jr.isEnabled,Xr=Ir===void 0?!0:Ir,Gr=jr.requestSanitizer,Ur=Gr===void 0?function(Br){return Br}:Gr;if(!Xr)return null;var $r=null;try{$r=Ur(xn(xn({},gr),{},{reqId:kr}))}catch(Br){console.error(Br)}if($r){var Rr=$r.url;if(typeof document!="undefined"&&typeof document.createElement=="function"){var Hr=document.createElement("a");Hr.href=$r.url,Rr=Hr.href}return{reqId:kr,url:Rr,headers:(0,Gn.default)($r.headers,function(Br){return"".concat(Br)}),body:nr($r.body),method:Nr,referrer:$r.referrer||void 0,mode:$r.mode||void 0,credentials:$r.credentials||void 0}}return tr[kr]=!0,null})},ar=function(kr,gr){var Nr=gr.method,jr=gr.status;Rn.addEvent("lr.network.ResponseEvent",function(){var Ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xr=Ir.isEnabled,Gr=Xr===void 0?!0:Xr,Ur=Ir.responseSanitizer,$r=Ur===void 0?function(Hr){return Hr}:Ur;if(Gr){if(tr[kr])return delete tr[kr],null}else return null;var Rr=null;try{Rr=$r(xn(xn({},gr),{},{reqId:kr}))}catch(Hr){console.error(Hr)}return Rr?{reqId:kr,status:Rr.status,headers:(0,Gn.default)(Rr.headers,function(Hr){return"".concat(Hr)}),body:nr(Rr.body),method:Nr}:{reqId:kr,status:jr,headers:{},body:null,method:Nr}})},lr=function(kr){return Rn.isDisabled||tr[kr]===!0},mr=(0,f.default)({addRequest:sr,addResponse:ar,isIgnored:lr}),br=(0,Xn.default)({addRequest:sr,addResponse:ar,isIgnored:lr,logger:Rn,shouldAugmentNPS:Hn,shouldParseXHRBlob:Zn}),Er=Jn?function(){}:(0,m.default)(Rn);return function(){Er(),mr(),br()}}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerFetch.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=Yn;var c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./packages/@apphub:logrocket-utils/src/mapValues.js")),f=r(s("./packages/@apphub:logrocket-network/src/fetchIntercept.js"));function m(Rn,rr){var Jn=Object.keys(Rn);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(Rn);rr&&(Hn=Hn.filter(function(Zn){return Object.getOwnPropertyDescriptor(Rn,Zn).enumerable})),Jn.push.apply(Jn,Hn)}return Jn}function Xn(Rn){for(var rr=1;rr<arguments.length;rr++){var Jn=arguments[rr]!=null?arguments[rr]:{};rr%2?m(Object(Jn),!0).forEach(function(Hn){(0,c.default)(Rn,Hn,Jn[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rn,Object.getOwnPropertyDescriptors(Jn)):m(Object(Jn)).forEach(function(Hn){Object.defineProperty(Rn,Hn,Object.getOwnPropertyDescriptor(Jn,Hn))})}return Rn}function Gn(Rn){if(Rn==null||typeof Rn.forEach!="function")return Rn;var rr={};return Rn.forEach(function(Jn,Hn){rr[Hn]?rr[Hn]="".concat(rr[Hn],",").concat(Jn):rr[Hn]="".concat(Jn)}),rr}var Wn=function(rr){return(0,p.default)(Gn(rr),function(Jn){return"".concat(Jn)})};function xn(){var Rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:Rn.url,headers:Wn(Rn.headers),method:Rn.method&&Rn.method.toUpperCase(),referrer:Rn.referrer||void 0,mode:Rn.mode||void 0,credentials:Rn.credentials||void 0}}function Yn(Rn){var rr=Rn.addRequest,Jn=Rn.addResponse,Hn=Rn.isIgnored,Zn="fetch-",tr={},nr=f.default.register({request:function(ar){for(var lr=arguments.length,mr=new Array(lr>1?lr-1:0),br=1;br<lr;br++)mr[br-1]=arguments[br];var Er;if(typeof Request!="undefined"&&mr[0]instanceof Request){var Lr;try{Lr=mr[0].clone().text()}catch(kr){Lr=Promise.resolve("LogRocket fetch error: ".concat(kr.message))}Er=Lr.then(function(kr){return Xn(Xn({},xn(mr[0])),{},{body:kr})},function(kr){return Xn(Xn({},xn(mr[0])),{},{body:"LogRocket fetch error: ".concat(kr.message)})})}else Er=Promise.resolve(Xn(Xn({},xn(mr[1])),{},{url:"".concat(mr[0]),body:(mr[1]||{}).body}));return Er.then(function(kr){return tr[ar]=kr.method,rr("".concat(Zn).concat(ar),kr),mr})},requestError:function(ar,lr){return Promise.reject(lr)},response:function(ar,lr){var mr;if(Hn("".concat(Zn).concat(ar)))return lr;try{mr=lr.clone().text()}catch(br){mr=Promise.resolve("LogRocket fetch error: ".concat(br.message))}return mr.catch(function(br){if(!(br.name==="AbortError"&&br instanceof DOMException))throw br}).then(function(br){var Er={url:lr.url,status:lr.status,headers:Wn(lr.headers),body:br,method:tr[ar]};delete tr[ar],Jn("".concat(Zn).concat(ar),Er)}),lr},responseError:function(ar,lr){var mr={url:void 0,status:0,headers:{},body:"".concat(lr)};return Jn("".concat(Zn).concat(ar),mr),Promise.reject(lr)}});return nr}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerNetworkInformation.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function c(p){var f=void 0;function m(){var Xn={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(Xn.effectiveType=r[window.navigator.connection.effectiveType]||"UNKNOWN"):Xn.effectiveType="NONE",!(f&&Xn.online===f.online&&Xn.effectiveType===f.effectiveType)&&(f=Xn,p.addEvent("lr.network.NetworkStatusEvent",function(){var Gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Wn=Gn.isEnabled,xn=Wn===void 0?!0:Wn;return xn?Xn:null}))}return setTimeout(m),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",m),window.addEventListener("online",m),window.addEventListener("offline",m),function(){window.removeEventListener("offline",m),window.removeEventListener("online",m),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",m)}}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerXHR.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.setActive=Gn,n.default=xn;var c=r(s("./packages/@apphub:logrocket-utils/src/mapValues.js")),p=r(s("./packages/@apphub:logrocket-utils/src/enhanceFunc.js")),f=r(s("./packages/@apphub:logrocket-utils/src/startsWith.js")),m=s("./packages/@apphub:logrocket-utils/src/constants/nps.js"),Xn=!0;function Gn(Yn){Xn=Yn}var Wn=0;function xn(Yn){var Rn=Yn.addRequest,rr=Yn.addResponse,Jn=Yn.isIgnored,Hn=Yn.logger,Zn=Yn.shouldAugmentNPS,tr=Zn===void 0?!0:Zn,nr=Yn.shouldParseXHRBlob,sr=nr===void 0?!1:nr,ar=XMLHttpRequest,lr=new WeakMap,mr=!1,br="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(Lr,kr){var gr=new ar(Lr,kr);if(!Xn)return gr;lr.set(gr,{xhrId:++Wn,headers:{}});var Nr=gr.open;function jr(){for(var Ur=arguments.length,$r=new Array(Ur),Rr=0;Rr<Ur;Rr++)$r[Rr]=arguments[Rr];try{var Hr=$r[1];if(window.URL&&typeof window.URL=="function"&&Hr.search(m.WOOTRIC_RESPONSES_REGEX)===0){var Br=new window.URL(Hn.recordingURL);Br.searchParams.set("nps","wootric");var Wr=new window.URL(Hr),ri=Wr.searchParams.get("response[text]"),Vr=ri?"".concat(ri,`

`):"";Wr.searchParams.set("response[text]","".concat(Vr,"<").concat(Br.href,"|View LogRocket session>")),$r[1]=Wr.href}}catch(er){}return Nr.apply(this,$r)}var Ir=gr.send;function Xr(){for(var Ur=arguments.length,$r=new Array(Ur),Rr=0;Rr<Ur;Rr++)$r[Rr]=arguments[Rr];try{var Hr=lr.get(gr);if(window.URL&&typeof window.URL=="function"&&Hr&&Hr.url&&Hr.url.search(m.DELIGHTED_RESPONSES_REGEX)===0&&$r.length&&$r[0].indexOf(m.DELIGHTED_FEEDBACK_PREFIX)!==-1){var Br=new window.URL(Hn.recordingURL);Br.searchParams.set("nps","delighted");var Wr=encodeURIComponent(Br.href),ri=$r[0].split("&").map(function(Vr){if((0,f.default)(Vr,m.DELIGHTED_FEEDBACK_PREFIX)){var er=Vr===m.DELIGHTED_FEEDBACK_PREFIX;return"".concat(Vr).concat(er?"":`

`,"<").concat(Wr,"|View LogRocket session>")}return Vr}).join("&");$r[0]=ri}}catch(Vr){}return Ir.apply(this,$r)}tr&&(gr.open=jr,gr.send=Xr),(0,p.default)(gr,"open",function(Ur,$r){if(!mr){var Rr=lr.get(gr);Rr.method=Ur,Rr.url=$r}}),(0,p.default)(gr,"send",function(Ur){if(!mr){var $r=lr.get(gr);if(!!$r){var Rr={url:$r.url,method:$r.method&&$r.method.toUpperCase(),headers:(0,c.default)($r.headers||{},function(Hr){return Hr.join(", ")}),body:Ur};Rn("".concat(br).concat($r.xhrId),Rr)}}}),(0,p.default)(gr,"setRequestHeader",function(Ur,$r){if(!mr){var Rr=lr.get(gr);!Rr||(Rr.headers=Rr.headers||{},Rr.headers[Ur]=Rr.headers[Ur]||[],Rr.headers[Ur].push($r))}});var Gr={readystatechange:function(){if(!mr&&gr.readyState===4){var $r=lr.get(gr);if(!$r||Jn("".concat(br).concat($r.xhrId)))return;var Rr=gr.getAllResponseHeaders()||"",Hr=Rr.split(/[\r\n]+/).reduce(function(Vr,er){var or=Vr,pr=er.split(": ");if(pr.length>0){var yr=pr.shift(),fr=pr.join(": ");Vr[yr]?or[yr]+=", ".concat(fr):or[yr]=fr}return or},{}),Br;try{switch(gr.responseType){case"json":Br=Hn._shouldCloneResponse?JSON.parse(JSON.stringify(gr.response)):gr.response;break;case"arraybuffer":case"blob":{Br=gr.response;break}case"document":{Br=gr.responseXML;break}case"text":case"":{Br=gr.responseText;break}default:Br=""}}catch(Vr){Br="LogRocket: Error accessing response."}var Wr={url:$r.url,status:gr.status,headers:Hr,body:Br,method:($r.method||"").toUpperCase()};if(sr&&Wr.body instanceof Blob){var ri=new FileReader;ri.readAsText(Wr.body),ri.onload=function(){try{Wr.body=JSON.parse(ri.result)}catch(Vr){}rr("".concat(br).concat($r.xhrId),Wr)}}else rr("".concat(br).concat($r.xhrId),Wr)}}};return Object.keys(Gr).forEach(function(Ur){gr.addEventListener(Ur,Gr[Ur])}),gr},XMLHttpRequest.prototype=ar.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(Er){XMLHttpRequest[Er]=ar[Er]}),function(){mr=!0,XMLHttpRequest=ar}}},"./packages/@apphub:logrocket-redux/src/createEnhancer.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=Gn;var c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./packages/@apphub:now/src/index.js"));function f(Wn,xn){var Yn=Object.keys(Wn);if(Object.getOwnPropertySymbols){var Rn=Object.getOwnPropertySymbols(Wn);xn&&(Rn=Rn.filter(function(rr){return Object.getOwnPropertyDescriptor(Wn,rr).enumerable})),Yn.push.apply(Yn,Rn)}return Yn}function m(Wn){for(var xn=1;xn<arguments.length;xn++){var Yn=arguments[xn]!=null?arguments[xn]:{};xn%2?f(Object(Yn),!0).forEach(function(Rn){(0,c.default)(Wn,Rn,Yn[Rn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wn,Object.getOwnPropertyDescriptors(Yn)):f(Object(Yn)).forEach(function(Rn){Object.defineProperty(Wn,Rn,Object.getOwnPropertyDescriptor(Yn,Rn))})}return Wn}var Xn=0;function Gn(Wn){var xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Yn=xn.stateSanitizer,Rn=Yn===void 0?function(Hn){return Hn}:Yn,rr=xn.actionSanitizer,Jn=rr===void 0?function(Hn){return Hn}:rr;return function(Hn){return function(Zn,tr,nr){var sr=Hn(Zn,tr,nr),ar=sr.dispatch,lr=Xn++;Wn.addEvent("lr.redux.InitialState",function(){var br;try{br=Rn(sr.getState())}catch(Er){console.error(Er.toString())}return{state:br,storeId:lr}});var mr=function(Er){var Lr=(0,p.default)(),kr,gr;try{gr=ar(Er)}catch(jr){kr=jr}finally{var Nr=(0,p.default)()-Lr;Wn.addEvent("lr.redux.ReduxAction",function(){var jr=null,Ir=null;try{jr=Rn(sr.getState()),Ir=Jn(Er)}catch(Xr){console.error(Xr.toString())}return jr&&Ir?{storeId:lr,action:Ir,duration:Nr,stateDelta:jr}:null})}if(kr)throw kr;return gr};return m(m({},sr),{},{dispatch:mr})}}}t.exports=n.default},"./packages/@apphub:logrocket-redux/src/createMiddleware.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var c=r(s("./packages/@apphub:now/src/index.js")),p=0;function f(m){var Xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Gn=Xn.stateSanitizer,Wn=Gn===void 0?function(Rn){return Rn}:Gn,xn=Xn.actionSanitizer,Yn=xn===void 0?function(Rn){return Rn}:xn;return function(Rn){var rr=p++;return m.addEvent("lr.redux.InitialState",function(){var Jn;try{Jn=Wn(Rn.getState())}catch(Hn){console.error(Hn.toString())}return{state:Jn,storeId:rr}}),function(Jn){return function(Hn){var Zn=(0,c.default)(),tr,nr;try{nr=Jn(Hn)}catch(ar){tr=ar}finally{var sr=(0,c.default)()-Zn;m.addEvent("lr.redux.ReduxAction",function(){var ar=null,lr=null;try{ar=Wn(Rn.getState()),lr=Yn(Hn)}catch(mr){console.error(mr.toString())}return ar&&lr?{storeId:rr,action:lr,duration:sr,stateDelta:ar}:null})}if(tr)throw tr;return nr}}}}t.exports=n.default},"./packages/@apphub:logrocket-redux/src/index.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createEnhancer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"createMiddleware",{enumerable:!0,get:function(){return p.default}});var c=r(s("./packages/@apphub:logrocket-redux/src/createEnhancer.js")),p=r(s("./packages/@apphub:logrocket-redux/src/createMiddleware.js"))},"./packages/@apphub:logrocket-utils/src/TraceKit.js":function(t,n,s){(function(r){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c={collectWindowErrors:!0,debug:!1},p=typeof window!="undefined"?window:typeof r!="undefined"?r:typeof self!="undefined"?self:{},f=[].slice,m="?",Xn=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function Gn(){return typeof document=="undefined"||typeof document.location=="undefined"?"":document.location.href}c.report=function(){var Yn=[],Rn=null,rr=null,Jn=null;function Hn(kr){mr(),Yn.push(kr)}function Zn(kr){for(var gr=Yn.length-1;gr>=0;--gr)Yn[gr]===kr&&Yn.splice(gr,1)}function tr(){br(),Yn=[]}function nr(kr,gr){var Nr=null;if(!(gr&&!c.collectWindowErrors)){for(var jr in Yn)if(Yn.hasOwnProperty(jr))try{Yn[jr].apply(null,[kr].concat(f.call(arguments,2)))}catch(Ir){Nr=Ir}if(Nr)throw Nr}}var sr,ar;function lr(kr,gr,Nr,jr,Ir){var Xr=null;if(Jn)c.computeStackTrace.augmentStackTraceWithInitialElement(Jn,gr,Nr,kr),Er();else if(Ir)Xr=c.computeStackTrace(Ir),nr(Xr,!0);else{var Gr={url:gr,line:Nr,column:jr},Ur=void 0,$r=kr,Rr;if({}.toString.call(kr)==="[object String]"){var Rr=kr.match(Xn);Rr&&(Ur=Rr[1],$r=Rr[2])}Gr.func=m,Xr={name:Ur,message:$r,url:Gn(),stack:[Gr]},nr(Xr,!0)}return sr?sr.apply(this,arguments):!1}function mr(){ar||(sr=p.onerror,p.onerror=lr,ar=!0)}function br(){!ar||(p.onerror=sr,ar=!1,sr=void 0)}function Er(){var kr=Jn,gr=Rn;Rn=null,Jn=null,rr=null,nr.apply(null,[kr,!1].concat(gr))}function Lr(kr,gr){var Nr=f.call(arguments,1);if(Jn){if(rr===kr)return;Er()}var jr=c.computeStackTrace(kr);if(Jn=jr,rr=kr,Rn=Nr,setTimeout(function(){rr===kr&&Er()},jr.incomplete?2e3:0),gr!==!1)throw kr}return Lr.subscribe=Hn,Lr.unsubscribe=Zn,Lr.uninstall=tr,Lr}(),c.computeStackTrace=function(){function Yn(Hn){if(!(typeof Hn.stack=="undefined"||!Hn.stack)){var Zn=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,nr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,sr=Hn.stack.split(`
`),ar=[],lr,mr;/^(.*) is undefined$/.exec(Hn.message);for(var br=0,Er=sr.length;br<Er;++br){if(lr=Zn.exec(sr[br])){var Lr=lr[2]&&lr[2].indexOf("native")!==-1;mr={url:Lr?null:lr[2],func:lr[1]||m,args:Lr?[lr[2]]:[],line:lr[3]?+lr[3]:null,column:lr[4]?+lr[4]:null}}else if(lr=nr.exec(sr[br]))mr={url:lr[2],func:lr[1]||m,args:[],line:+lr[3],column:lr[4]?+lr[4]:null};else if(lr=tr.exec(sr[br]))mr={url:lr[3],func:lr[1]||m,args:lr[2]?lr[2].split(","):[],line:lr[4]?+lr[4]:null,column:lr[5]?+lr[5]:null};else continue;!mr.func&&mr.line&&(mr.func=m),ar.push(mr)}return ar.length?(!ar[0].column&&typeof Hn.columnNumber!="undefined"&&(ar[0].column=Hn.columnNumber+1),{name:Hn.name,message:Hn.message,url:Gn(),stack:ar}):null}}function Rn(Hn,Zn,tr,nr){var sr={url:Zn,line:tr};if(sr.url&&sr.line){if(Hn.incomplete=!1,sr.func||(sr.func=m),Hn.stack.length>0&&Hn.stack[0].url===sr.url){if(Hn.stack[0].line===sr.line)return!1;if(!Hn.stack[0].line&&Hn.stack[0].func===sr.func)return Hn.stack[0].line=sr.line,!1}return Hn.stack.unshift(sr),Hn.partial=!0,!0}else Hn.incomplete=!0;return!1}function rr(Hn,Zn){for(var tr=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,nr=[],sr={},ar=!1,lr,mr,br=rr.caller;br&&!ar;br=br.caller)if(!(br===Jn||br===c.report)){if(mr={url:null,func:m,line:null,column:null},br.name?mr.func=br.name:(lr=tr.exec(br.toString()))&&(mr.func=lr[1]),typeof mr.func=="undefined")try{mr.func=lr.input.substring(0,lr.input.indexOf("{"))}catch(Lr){}sr[""+br]?ar=!0:sr[""+br]=!0,nr.push(mr)}Zn&&nr.splice(0,Zn);var Er={name:Hn.name,message:Hn.message,url:Gn(),stack:nr};return Rn(Er,Hn.sourceURL||Hn.fileName,Hn.line||Hn.lineNumber,Hn.message||Hn.description),Er}function Jn(Hn,Zn){var tr=null;Zn=Zn==null?0:+Zn;try{if(tr=Yn(Hn),tr)return tr}catch(nr){if(c.debug)throw nr}try{if(tr=rr(Hn,Zn+1),tr)return tr}catch(nr){if(c.debug)throw nr}return{name:Hn.name,message:Hn.message,url:Gn()}}return Jn.augmentStackTraceWithInitialElement=Rn,Jn.computeStackTraceFromStackProp=Yn,Jn}();var Wn=c;n.default=Wn,t.exports=n.default}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./packages/@apphub:logrocket-utils/src/constants/nps.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.DELIGHTED_FEEDBACK_PREFIX=n.DELIGHTED_RESPONSES_REGEX=n.WOOTRIC_RESPONSES_REGEX=void 0;var r=/^https:\/\/production.wootric.com\/responses/;n.WOOTRIC_RESPONSES_REGEX=r;var c=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;n.DELIGHTED_RESPONSES_REGEX=c;var p="comment=";n.DELIGHTED_FEEDBACK_PREFIX=p},"./packages/@apphub:logrocket-utils/src/enhanceFunc.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c,p,f){var m=c[p];function Xn(){for(var Gn,Wn=arguments.length,xn=new Array(Wn),Yn=0;Yn<Wn;Yn++)xn[Yn]=arguments[Yn];return m&&(Gn=m.apply(this,xn)),f.apply(this,xn),Gn}return c[p]=Xn,function(){c[p]=m}}t.exports=n.default},"./packages/@apphub:logrocket-utils/src/mapValues.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c,p){if(c==null)return{};var f={};return Object.keys(c).forEach(function(m){f[m]=p(c[m])}),f}t.exports=n.default},"./packages/@apphub:logrocket-utils/src/startsWith.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c,p){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return c&&p&&c.substring(f,f+p.length)===p}t.exports=n.default},"./packages/@apphub:now/src/index.js":function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=Date.now.bind(Date),c=r(),p=typeof performance!="undefined"&&performance.now?performance.now.bind(performance):function(){return r()-c};n.default=p,t.exports=n.default},"./packages/logrocket/src/LogRocket.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MAX_QUEUE_SIZE=void 0;var c=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),Xn=r(s("./packages/@apphub:logrocket-network/src/index.js")),Gn=s("./packages/@apphub:logrocket-exceptions/src/index.js"),Wn=r(s("./packages/@apphub:logrocket-console/src/index.js")),xn=s("./packages/@apphub:logrocket-redux/src/index.js");function Yn(Zn,tr){var nr=Object.keys(Zn);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(Zn);tr&&(sr=sr.filter(function(ar){return Object.getOwnPropertyDescriptor(Zn,ar).enumerable})),nr.push.apply(nr,sr)}return nr}function Rn(Zn){for(var tr=1;tr<arguments.length;tr++){var nr=arguments[tr]!=null?arguments[tr]:{};tr%2?Yn(Object(nr),!0).forEach(function(sr){(0,f.default)(Zn,sr,nr[sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Zn,Object.getOwnPropertyDescriptors(nr)):Yn(Object(nr)).forEach(function(sr){Object.defineProperty(Zn,sr,Object.getOwnPropertyDescriptor(nr,sr))})}return Zn}var rr=1e3;n.MAX_QUEUE_SIZE=rr;var Jn=function(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nr=tr.ingestServer,sr=(0,m.default)(tr,["ingestServer"]);return nr?Rn({serverURL:"".concat(nr,"/i"),statsURL:"".concat(nr,"/s")},sr):sr},Hn=function(){function Zn(){var tr=this;(0,c.default)(this,Zn),this._buffer=[],["log","info","warn","error","debug"].forEach(function(nr){tr[nr]=function(){for(var sr=arguments.length,ar=new Array(sr),lr=0;lr<sr;lr++)ar[lr]=arguments[lr];tr.addEvent("lr.core.LogEvent",function(){var mr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nr==="error"&&mr.shouldAggregateConsoleErrors&&Gn.Capture.captureMessage(tr,ar[0],{},!0),{logLevel:nr.toUpperCase(),args:ar}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,p.default)(Zn,[{key:"addEvent",value:function(nr,sr){var ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},lr=Date.now();this._run(function(mr){mr.addEvent(nr,sr,Rn(Rn({},ar),{},{timeOverride:lr}))})}},{key:"onLogger",value:function(nr){for(this._logger=nr;this._buffer.length>0;){var sr=this._buffer.shift();sr(this._logger)}}},{key:"_run",value:function(nr){if(!this._isDisabled)if(this._logger)nr(this._logger);else{if(this._buffer.length>=rr){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(nr.bind(this))}}},{key:"init",value:function(nr){var sr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var ar=sr.shouldAugmentNPS,lr=ar===void 0?!0:ar,mr=sr.shouldParseXHRBlob,br=mr===void 0?!1:mr;this._installed.push((0,Gn.registerExceptions)(this)),this._installed.push((0,Xn.default)(this,{shouldAugmentNPS:!!lr,shouldParseXHRBlob:!!br})),this._installed.push((0,Wn.default)(this)),this._isInitialized=!0,this._run(function(Er){Er.init(nr,Jn(sr))})}}},{key:"start",value:function(){this._run(function(nr){nr.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(nr){return nr()}),this._buffer=[],this._run(function(nr){nr.uninstall()})}},{key:"identify",value:function(nr,sr){this._run(function(ar){ar.identify(nr,sr)})}},{key:"startNewSession",value:function(){this._run(function(nr){nr.startNewSession()})}},{key:"track",value:function(nr,sr){this._run(function(ar){ar.track(nr,sr)})}},{key:"getSessionURL",value:function(nr){if(typeof nr!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(sr){sr.getSessionURL?sr.getSessionURL(nr):nr(sr.recordingURL)})}},{key:"getVersion",value:function(nr){this._run(function(sr){nr(sr.version)})}},{key:"captureMessage",value:function(nr){var sr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gn.Capture.captureMessage(this,nr,sr)}},{key:"captureException",value:function(nr){var sr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gn.Capture.captureException(this,nr,sr)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,xn.createEnhancer)(this,nr)}},{key:"reduxMiddleware",value:function(){var nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,xn.createMiddleware)(this,nr)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),Zn}();n.default=Hn},"./packages/logrocket/src/makeLogRocket.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var c=r(s("./packages/logrocket/src/LogRocket.js")),p="LogRocket does not yet support React Native.",f=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(Wn){return function(){return Wn.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(Wn){return function(xn){return Wn(xn)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function m(){var Xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};if(typeof navigator!="undefined"&&navigator.product==="ReactNative")throw new Error(p);if(typeof window!="undefined"){if(window._disableLogRocket)return f();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var Gn=new c.default;return Xn(Gn),Gn}}return f()}t.exports=n.default},"./packages/logrocket/src/module-npm.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(s("./packages/logrocket/src/setup.js")),p=(0,c.default)(),f=p;n.default=f,t.exports=n.default},"./packages/logrocket/src/setup.js":function(t,n,s){var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var c=r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=r(s("./packages/logrocket/src/makeLogRocket.js")),f={"cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com"};function m(){var Xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gn=Xn.enterpriseServer,Wn=Xn.sdkVersion,xn=Wn===void 0?"2.2.1":Wn,Yn=(0,c.default)(Xn,["enterpriseServer","sdkVersion"]),Rn="https://cdn.logrocket.io",rr;if(xn==="script")try{var Jn=document.currentScript,Hn=Jn.src.match(/^(https?:\/\/([^\\]+))\/.+$/),Zn=Hn&&Hn[2];Zn&&f[Zn]&&(Rn=Hn&&Hn[1],rr=f[Zn])}catch(ar){}else Rn="https://cdn.lr-in.com",rr="https://r.lr-in.com";var tr=Yn.sdkServer||Gn,nr=Yn.ingestServer||Gn||rr,sr=(0,p.default)(function(){var ar=document.createElement("script");nr&&(typeof window.__SDKCONFIG__=="undefined"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(nr,"/i"),window.__SDKCONFIG__.statsURL="".concat(nr,"/s")),tr?ar.src="".concat(tr,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?ar.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?ar.src=window._lrAsyncScript:ar.src="".concat(Rn,"/logger-1.min.js"),ar.async=!0,document.head.appendChild(ar),ar.onload=function(){typeof window._LRLogger=="function"?sr.onLogger(new window._LRLogger({sdkVersion:xn})):(console.warn("LogRocket: script execution has been blocked by a product or service."),sr.uninstall())},ar.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),sr.uninstall()}});return sr}t.exports=n.default},0:function(t,n,s){t.exports=s("./packages/logrocket/src/module-npm.js")}})})})(build_umd$1);const q$2=getDefaultExportFromCjs(build_umd$1.exports),build_umd=_mergeNamespaces({__proto__:null,default:q$2},[build_umd$1.exports]);var _$1=Object.defineProperty,z$1=Object.defineProperties,H$2=Object.getOwnPropertyDescriptors,j$2=Object.getOwnPropertySymbols,x$1=Object.prototype.hasOwnProperty,D$2=Object.prototype.propertyIsEnumerable,N$1=(i,e,t)=>e in i?_$1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,a=(i,e)=>{for(var t in e||(e={}))x$1.call(e,t)&&N$1(i,t,e[t]);if(j$2)for(var t of j$2(e))D$2.call(e,t)&&N$1(i,t,e[t]);return i},g=(i,e)=>z$1(i,H$2(e)),F$2=(i,e)=>{var t={};for(var n in i)x$1.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&j$2)for(var n of j$2(i))e.indexOf(n)<0&&D$2.call(i,n)&&(t[n]=i[n]);return t},u$1=(i,e,t)=>new Promise((n,s)=>{var r=f=>{try{p(t.next(f))}catch(m){s(m)}},c=f=>{try{p(t.throw(f))}catch(m){s(m)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(r,c);p((t=t.apply(i,e)).next())});class Y$2{constructor(e={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...t)=>fetch(...t),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=t=>{this.securityData=t},this.contentFormatters={["application/json"]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,["text/plain"]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,["multipart/form-data"]:t=>Object.keys(t||{}).reduce((n,s)=>{const r=t[s];return n.append(s,r instanceof Blob?r:typeof r=="object"&&r!==null?JSON.stringify(r):`${r}`),n},new FormData),["application/x-www-form-urlencoded"]:t=>this.toQueryString(t)},this.createAbortSignal=t=>{if(this.abortControllers.has(t)){const s=this.abortControllers.get(t);return s?s.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal},this.abortRequest=t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))},this.request=t=>u$1(this,null,function*(){var n=t,{body:s,secure:r,path:c,type:p,query:f,format:m,baseUrl:Xn,cancelToken:Gn}=n,Wn=F$2(n,["body","secure","path","type","query","format","baseUrl","cancelToken"]);const xn=(typeof r=="boolean"?r:this.baseApiParams.secure)&&this.securityWorker&&(yield this.securityWorker(this.securityData))||{},Yn=this.mergeRequestParams(Wn,xn),Rn=f&&this.toQueryString(f),rr=this.contentFormatters[p||"application/json"],Jn=m||Yn.format;return this.customFetch(`${Xn||this.baseUrl||""}${c}${Rn?`?${Rn}`:""}`,g(a({},Yn),{headers:a(a({},Yn.headers||{}),p&&p!=="multipart/form-data"?{"Content-Type":p}:{}),signal:Gn?this.createAbortSignal(Gn):Yn.signal,body:typeof s>"u"||s===null?null:rr(s)})).then(Hn=>u$1(this,null,function*(){const Zn=Hn;Zn.data=null,Zn.error=null;const tr=Jn?yield Hn[Jn]().then(nr=>(Zn.ok?Zn.data=nr:Zn.error=nr,Zn)).catch(nr=>(Zn.error=nr,Zn)):Zn;if(Gn&&this.abortControllers.delete(Gn),!Hn.ok)throw tr;return tr}))}),Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(n=>this.encodeQueryParam(t,n)).join("&")}toQueryString(e){const t=e||{};return Object.keys(t).filter(n=>typeof t[n]<"u").map(n=>Array.isArray(t[n])?this.addArrayQueryParam(t,n):this.addQueryParam(t,n)).join("&")}addQueryParams(e){const t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return g(a(a(a({},this.baseApiParams),e),t||{}),{headers:a(a(a({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}}class L$1 extends Y$2{constructor(){super(...arguments),this.domainModelTalent={updateTalentUserName:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/update-name`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserGroup:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/update-group`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserTags:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/tags`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentSupportUserFlag:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/support`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserName1:(e,t={})=>this.request(a({path:"/api/v1/talent/update-name",method:"PUT",body:e,secure:!0,type:"application/json"},t)),updateTalentUserGroup1:(e,t={})=>this.request(a({path:"/api/v1/talent/update-group",method:"PUT",body:e,secure:!0,type:"application/json"},t)),updateTalentUserTags1:(e,t={})=>this.request(a({path:"/api/v1/talent/tags",method:"PUT",body:e,secure:!0,type:"application/json"},t)),loadTalentUser:(e,t={})=>this.request(a({path:`/api/v1/talent/${e}`,method:"GET",secure:!0},t)),loadTalentUser1:(e={})=>this.request(a({path:"/api/v1/talent",method:"GET",secure:!0},e))},this.organisationAnalyticsSignals={upsertSignalModule:(e,t={})=>this.request(a({path:"/api/v1/signals/module",method:"PUT",body:e,secure:!0,type:"application/json"},t)),executeSignalsJob:(e={})=>this.request(a({path:"/api/v1/signals/populate",method:"POST",secure:!0},e)),getWebSignals:(e={})=>this.request(a({path:"/api/v1/signals",method:"GET",secure:!0},e))},this.utilitiesRealtime={getRealtimeDocument:(e,t,n={})=>this.request(a({path:`/api/v1/realtime/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),sendRealtimeDocument:(e,t,n={})=>this.request(a({path:`/api/v1/realtime/${e}`,method:"POST",body:t,secure:!0,format:"json"},n))},this.utilitiesTenantConfiguration={updateSingleValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/single-value",method:"PUT",body:e,secure:!0,type:"application/json"},t)),saveSingleValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/single-value",method:"POST",body:e,secure:!0,type:"application/json"},t)),updateMultiValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/multi-value",method:"PUT",body:e,secure:!0,type:"application/json"},t)),saveMultiValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/multi-value",method:"POST",body:e,secure:!0,type:"application/json"},t)),findSingleValueConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/single-value/${e}`,method:"GET",secure:!0},t)),findMultiValueConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/multi-value/${e}`,method:"GET",secure:!0},t)),findAllConfigItems:(e={})=>this.request(a({path:"/api/v1/config",method:"GET",secure:!0},e)),removeConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/${e}`,method:"DELETE",secure:!0},t))},this.utilitiesArticles={getArticle:(e,t={})=>this.request(a({path:`/api/v1/articles/${e}`,method:"GET",secure:!0},t)),updateArticleById:(e,t,n={})=>this.request(a({path:`/api/v1/articles/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),articleUp:(e,t={})=>this.request(a({path:`/api/v1/articles/up/${e}`,method:"PUT",secure:!0},t)),articleTop:(e,t={})=>this.request(a({path:`/api/v1/articles/top/${e}`,method:"PUT",secure:!0},t)),articleDown:(e,t={})=>this.request(a({path:`/api/v1/articles/down/${e}`,method:"PUT",secure:!0},t)),articleBottom:(e,t={})=>this.request(a({path:`/api/v1/articles/bottom/${e}`,method:"PUT",secure:!0},t)),getArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"GET",query:e,secure:!0},t)),saveOrUpdateArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"PUT",body:e,secure:!0,type:"application/json"},t)),addArticle:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"POST",body:e,secure:!0,type:"application/json"},t)),deleteArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"DELETE",query:e,secure:!0},t))},this.utilitiesMisc={createUser:(e,t={})=>this.request(a({path:"/api/v1/user",method:"POST",body:e,secure:!0,type:"application/json"},t)),createCampaignUsingTemplateWithTag:(e,t={})=>this.request(a({path:`/api/v1/campaign/${e}`,method:"POST",secure:!0},t)),getVersion:(e={})=>this.request(a({path:"/api/v1/version",method:"GET",secure:!0},e))},this.domainModelMissions={getAllTargets:(e={})=>this.request(a({path:"/api/v1/missions/target",method:"GET",secure:!0},e)),createTarget:(e,t={})=>this.request(a({path:"/api/v1/missions/target",method:"POST",body:e,secure:!0,type:"application/json"},t)),runMissionsCalculationJob:(e={})=>this.request(a({path:"/api/v1/missions/calculate",method:"POST",secure:!0},e)),getMissionsAggregatedProgress:(e={})=>this.request(a({path:"/api/v1/missions/progress",method:"GET",secure:!0},e)),getMissionIndividualProgress:(e={})=>this.request(a({path:"/api/v1/missions/individual/progress",method:"GET",secure:!0},e)),deleteTarget:(e,t={})=>this.request(a({path:`/api/v1/missions/target/${e}`,method:"DELETE",secure:!0},t))},this.organisationAnalyticsFeedback={getFeedbackQuestions:(e={})=>this.request(a({path:"/api/v1/feedback-questions",method:"GET",secure:!0},e)),addNewQuestion:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions",method:"POST",body:e,secure:!0,type:"application/json"},t)),deleteQuestion:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions",method:"DELETE",query:e,secure:!0},t)),getStatistics:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions/statistics",method:"GET",query:e,secure:!0},t))},this.domainModelCompetences={getCompetencesTree:(e={})=>this.request(a({path:"/api/v1/competences",method:"GET",secure:!0},e)),addNewCompetence:(e,t={})=>this.request(a({path:"/api/v1/competences",method:"POST",body:e,secure:!0,type:"application/json"},t)),createTestItem:(e,t={})=>this.request(a({path:"/api/v1/test-item",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.domainModelCertificates={findTalentCertificates:(e={})=>this.request(a({path:"/api/v1/certificate",method:"GET",secure:!0},e)),createOrUpdateTalentCertificates:(e,t={})=>this.request(a({path:"/api/v1/certificate",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.utilitiesAssets={asyncS3Upload:(e,t,n={})=>this.request(a({path:`/api/v1/assets/${e}/upload`,method:"POST",body:t,secure:!0,type:"multipart/form-data"},n)),getS3Video:(e,t={})=>this.request(a({path:`/api/v1/assets/video/${e}`,method:"GET",secure:!0},t)),getAllS3ObjectsFromBucket:(e,t={})=>this.request(a({path:"/api/v1/assets/objects",method:"GET",query:e,secure:!0},t)),getS3Image:(e,t={})=>this.request(a({path:`/api/v1/assets/image/${e}`,method:"GET",secure:!0},t)),deleteS3File:(e,t,n={})=>this.request(a({path:`/api/v1/assets/delete/${e}/${t}`,method:"DELETE",secure:!0},n))},this.utilitiesSavegame={saveOrUpdateState:(e,t={})=>this.request(a({path:"/api/v1/savegame",method:"POST",body:e,secure:!0,type:"application/json"},t)),getResult:(e,t={})=>this.request(a({path:`/api/v1/savegame/${e}`,method:"GET",secure:!0,format:"json"},t))},this.domainModelEvents={saveEvent:(e,t={})=>this.request(a({path:"/api/v1/event",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.domainModelTimeline={saveTimelineTrainingEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/training",method:"POST",body:e,secure:!0,type:"application/json"},t)),saveTimelineMicrolearningEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/microlearning",method:"POST",body:e,secure:!0,type:"application/json"},t)),saveTimelineEpisodeEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/episode",method:"POST",body:e,secure:!0,type:"application/json"},t)),getAllTimelineEvents:(e={})=>this.request(a({path:"/api/v1/timeline",method:"GET",secure:!0},e))},this.domainModelSeasons={getAllSeasons:(e={})=>this.request(a({path:"/api/v1/season",method:"GET",secure:!0},e)),addSeason:(e,t={})=>this.request(a({path:"/api/v1/season",method:"POST",body:e,secure:!0,type:"application/json"},t)),getEpisode:(e,t,n={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}`,method:"GET",secure:!0},n)),deleteEpisode:(e,t,n={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}`,method:"DELETE",secure:!0},n)),getSeason:(e,t={})=>this.request(a({path:`/api/v1/season/${e}`,method:"GET",secure:!0},t)),deleteSeason:(e,t={})=>this.request(a({path:`/api/v1/season/${e}`,method:"DELETE",secure:!0},t)),deleteBadge:(e,t,n,s={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}/badge/${n}`,method:"DELETE",secure:!0},s))},this.domainModelTalentGroup={loadTalentGroups:(e,t={})=>this.request(a({path:`/api/v1/talent-groups/by-parent/${e}`,method:"GET",secure:!0},t)),loadTalentGroups1:(e={})=>this.request(a({path:"/api/v1/talent-groups/by-parent",method:"GET",secure:!0},e))},this.domainModelTags={loadTagsTypes:(e={})=>this.request(a({path:"/api/v1/tags/types",method:"GET",secure:!0},e)),findTagsByType:(e,t={})=>this.request(a({path:`/api/v1/tags/by-type/${e}`,method:"GET",secure:!0},t))},this.userAnalyticsRecommendations={getTrainingRecommendations:(e={})=>this.request(a({path:"/api/v1/recommendation/training",method:"GET",secure:!0},e)),getPlayRecommendations:(e={})=>this.request(a({path:"/api/v1/recommendation/play",method:"GET",secure:!0},e))},this.userAnalyticsProgressReporting={getCompetenceAreaTestDetailsReports:(e,t={})=>this.request(a({path:"/api/v1/user-report/test-details",method:"GET",query:e,secure:!0,format:"json"},t)),getSubCompetencesTestsReports:(e,t={})=>this.request(a({path:"/api/v1/user-report/sub-competence",method:"GET",query:e,secure:!0,format:"json"},t)),findTalentStatistics:(e,t={})=>this.request(a({path:"/api/v1/user-report/statistics",method:"GET",query:e,secure:!0},t)),getProfileTwoQualificationAdvices:(e,t={})=>this.request(a({path:`/api/v1/user-report/qualifications/${e}`,method:"GET",secure:!0,format:"json"},t)),getPlayerTeamOrganisationComparisonReport:(e={})=>this.request(a({path:"/api/v1/user-report/compare",method:"GET",secure:!0,format:"json"},e)),getCompetenceAreaTestResults:(e={})=>this.request(a({path:"/api/v1/user-report",method:"GET",secure:!0,format:"json"},e))},this.organisationAnalyticsReport={getProfileTwoTagCompetenceAreas:(e,t={})=>this.request(a({path:`/api/v1/company-report/tag-area/${e}`,method:"GET",secure:!0,format:"json"},t)),getCompanyNumberOfUsersStatistics:(e={})=>this.request(a({path:"/api/v1/company-report/number-of-users",method:"GET",secure:!0,format:"json"},e)),getCompanyLastCompletedEpisodeStatistics:(e,t={})=>this.request(a({path:"/api/v1/company-report/last-completed-episodes",method:"GET",query:e,secure:!0,format:"json"},t)),getProfileTwoGeneralReport:(e={})=>this.request(a({path:"/api/v1/company-report/general",method:"GET",secure:!0,format:"json"},e)),getProfileTwoDepartmentAreas:(e={})=>this.request(a({path:"/api/v1/company-report/department-area",method:"GET",secure:!0,format:"json"},e)),getCompanyCompetenceAreaTestResults:(e={})=>this.request(a({path:"/api/v1/company-report",method:"GET",secure:!0,format:"json"},e))}}}const Q$1={dev:"talentdigit.al",prod:"talentdigital.eu"},Z$2=["devtd2","internaldemo"],ee$2=i=>Z$2.includes(i)?Q$1.dev:Q$1.prod,V$2=i=>`https://${i}.${ee$2(i)}`,te$2=i=>i.slice(i.lastIndexOf(".")+1),J$2=i=>u$1(void 0,[i],function*({content:e,fileName:t,fileExtension:n}){switch(t?te$2(t):n){case"json":return JSON.parse(e);case"md":const{marked:s}=yield Promise.resolve().then(()=>marked_esm_10aa0d10);return s(e);case"toml":return(yield Promise.resolve().then(()=>index_402d4691).then(r=>r.i)).parse(e);case"yaml":case"yml":return(yield Promise.resolve().then(()=>index_137b3043)).parse(e);default:throw new Error("Unsuppoted file extension, supported extensions: json, md, toml, yml/yaml ")}}),$=({auth:i,tenant:e,localBackendURL:t,customFetch:n})=>{if(n)return new L$1({baseUrl:"",customFetch:n});if(!i)throw"Either auth or custom fetch need to be defined";if(!e)throw"Tenant must be defined if no customFetch is provided";const s=V$2(e),r=()=>u$1(void 0,null,function*(){return i.updateToken().then(()=>({headers:{Authorization:`Bearer ${i.token}`}}))});return new L$1({baseUrl:t!=null?t:s,securityWorker:r})};class C$2{constructor(e){this.auth=e,this.auth.onTokenExpired=()=>{this.auth.token&&this.auth.updateToken(5)}}get token(){return this.auth.token}get user(){if(!this.auth.tokenParsed)throw"Token has not been parsed";return this.auth.tokenParsed}static create(e){return u$1(this,null,function*(){const t=`talentdigital-${e}`,n=`${V$2(e)}/auth`,s=X$2({realm:t,url:n,clientId:"td-profile2"});try{if(yield s.init({onLoad:"check-sso",checkLoginIframe:!1}))return new C$2(s);yield s.login({maxAge:1e5})}catch(r){alert("Error authenticating"),console.error(r),r instanceof Error?q$2.captureException(r):typeof r=="string"&&q$2.captureException(new Error(r))}})}updateToken(){return this.auth.updateToken(5)}}class G$2{constructor(e,t,n,s){this.id=e,this.name=t,this.image=n,this.storage=s,this.storageKey="BADGES_ENGINE_STORAGE"}get awarded(){return(this.storage.getItem(this.storageKey)||[]).includes(this.id)}static createForEpisode(e,t){return e!=null&&e.badges?Object.fromEntries(Object.entries(e.badges).map(([n,{name:s,image:r}])=>[n,new G$2(n,s,r,t)])):{}}award(){if(this.awarded)return;const e=this.storage.getItem(this.storageKey)||[];this.storage.setItem(this.storageKey,[...e,this.id])}}class se$2{constructor(e){this.storage=e,this._points=0,this.storageKey="ENGAGEMENT_POINTS";const t=e.getItem(this.storageKey);t&&(this._points=t.points)}get points(){return this._points}add(e){return this._points+=e,this.sync(),this._points}sync(){let e=this.storage.getItem(this.storageKey);e&&(e=g(a({},e),{points:this._points}),this.storage.setItem(this.storageKey,e))}}class ae$2{constructor(e,t,n){this.api=e,this.storage=t,this.id=n}end(){return u$1(this,null,function*(){const e=this.id.season,t=this.id.episode,n=[{eventTypeId:"episode.end",season:e,episode:t}];yield this.api.domainModelEvents.saveEvent({applicationId:w,events:n,seasonId:e,episodeId:t});let s=this.storage.getItem(b$1)||{};const r=s[this.id.season]||{},c=r[this.id.episode]||{},p=c.playcount||0;s=g(a({},s),{[this.id.season]:g(a({},r),{[this.id.episode]:g(a({},c),{playcount:p+1})})}),this.storage.setItem(b$1,s),this.navigateToDashboard()})}pause(){this.navigateToDashboard()}navigateToDashboard(){this.id.redirectUrl?window.location.assign(this.id.redirectUrl):(console.error("No redirect URL hasn't been set"),q$2.captureException(new Error("No redirect URL hasn't been set")),window.close())}}class A$1{constructor(e,t,n,s,r,c){this.id=e,this.question=t,this.answers=n,this.api=s,this.seasonId=r,this.episodeId=c}static createForEpisode({season:e,episode:t},n,s){return n!=null&&n.feedbackQuestions?Object.fromEntries(n.feedbackQuestions.map(({id:r,question:c,answers:p})=>[r,new A$1(r,c,p,s,e,t)])):{}}submit(e){const t=this.answers[e];if(!t){console.error("Invalid answer id"),q$2.captureException(new Error(`Invalid answer id: ${e}`));return}const n=JSON.stringify(t),s=[{eventTypeId:this.id,type:"decision.choose",payload:{decision:this.id,option:{id:e,text:n}}}];return this.api.domainModelEvents.saveEvent({applicationId:w,events:s,seasonId:this.seasonId,episodeId:this.episodeId})}}const B$1=i=>(e,t)=>u$1(void 0,null,function*(){if(!t)throw"Invalid request";const{method:n}=t,s=e.split("/").slice(3).join("/");let r;if(n==="GET"){if((r=/season\/(.+)\/episode\/(.+)/.exec(s))!==null){const c={season:r[1],episode:r[2]},p=i.episodes[c.episode];if(!p)throw`Episode ${c.episode} not found`;const f=a({},p);return f.assetsURL=i.assetsURL,f.testItems=K$2(i.competenceAreas,c),f.feedbackQuestions=ie$2(i.competenceAreas,c),Promise.resolve(new Response(JSON.stringify(f)))}if((r=/user-report\/test-details\?season=(.*)&episode=(.*)/.exec(s))!==null){const c={season:r[1],episode:r[2]},p=K$2(i.competenceAreas,c);return Promise.resolve(new Response(JSON.stringify(p)))}}if(n==="POST")return Promise.resolve(new Response)}),K$2=(i,{episode:e})=>Object.values(i).flatMap(({competences:t})=>Object.values(t).flatMap(({subCompetences:n})=>Object.values(n).flatMap(({testItems:s})=>s?Object.entries(s).filter(([r,c])=>c.episode===e).map(([r,{level:c,documentation:p}])=>({id:r,level:c,documentation:p})):[]))),ie$2=(i,{episode:e})=>Object.values(i).flatMap(({competences:t})=>Object.values(t).flatMap(({subCompetences:n})=>Object.values(n).flatMap(({feedbackQuestions:s})=>s?Object.entries(s).filter(([r,c])=>c.episode===e).map(([r,{question:c,answers:p}])=>({id:r,question:c,answers:p})):[])));class k$1{constructor(e,t={}){this.api=e,this.state=t}get length(){return Object.keys(this.state).length}static create(e){return u$1(this,null,function*(){const{data:t}=yield e.utilitiesSavegame.getResult(w),n=t!=null&&t.state?JSON.parse(t.state):{};return new k$1(e,n)})}clear(){this.state={},this.sync()}key(e){return Object.keys(this.state)[e]||null}removeItem(e){delete this.state[e],this.sync()}getItem(e){const t=this.state[e];return t?JSON.stringify(t):null}setItem(e,t){this.state[e]=JSON.parse(t),this.sync()}sync(){this.api.utilitiesSavegame.saveOrUpdateState({applicationId:w,state:JSON.stringify(this.state)})}}class oe$2{constructor(e,t){this.id=e,this.storage=t}load(){const e=this.storage.getItem(b$1);if(!e)return null;const t=e[this.id.season];if(!t)return null;const n=t[this.id.episode];return n?n.savegame:null}save(e){var t;let n=this.storage.getItem(b$1)||{};n=g(a({},n),{[this.id.season]:g(a({},n[this.id.season]||{}),{[this.id.episode]:g(a({},((t=n[this.id.season])==null?void 0:t[this.id.episode])||{}),{savegame:e})})}),this.storage.setItem(b$1,n)}}class O$2{constructor(e){this.storage=e}getItem(e){const t=this.storage.getItem(e);return t?JSON.parse(t):null}setItem(e,t){this.storage.setItem(e,JSON.stringify(t))}clear(){this.storage.clear()}}class R$1{constructor(e,t,n,s,r,c){this.id=e,this.documentation=t,this.level=n,this.api=s,this.seasonId=r,this.episodeId=c}static createForEpisode(e,t,n){return t!=null&&t.testItems?Object.fromEntries(t.testItems.map(s=>[s.id,new R$1(s.id,s.documentation,s.level,n,e.season,e.episode)])):{}}pass(e){return this.result=1,this.api.domainModelEvents.saveEvent(this.generatePayload(1,e))}fail(e){return this.result=0,this.api.domainModelEvents.saveEvent(this.generatePayload(0,e))}generatePayload(e,t){const n=[{type:"test.complete",payload:{test:this.id,data:t||{},failed:!e,timestamp:Date.now()},result:{id:this.id,value:e}}];return{applicationId:w,events:n,seasonId:this.seasonId,episodeId:this.episodeId}}}class M$1{constructor(e,{logRocketId:t,userInfo:n,playerName:s}){e.init(t),n.sub&&e.identify(n.sub,{name:s}),this.logRocket=e}static create(e){return u$1(this,null,function*(){const{default:t}=yield Promise.resolve().then(()=>build_umd);return new M$1(t,e)})}track(e){this.logRocket.track(e)}}const w="talentApplicationProfileTwo",b$1="SEASONS",re$2={id:"player",companyName:"ACME Inc.",companyLogo:"/logos/logo1.svg",playerName:"Teammitglied",playerAvatar:"/avatars/avatar5.svg",leadingColor:"#d3e553",playerEmailAddress:"teammitglied@acme.com"},ne$2=()=>{const i="td",e=new URLSearchParams(location.search),t=e.get("sid")||localStorage.getItem(`${i}-sid`),n=e.get("eid")||localStorage.getItem(`${i}-eid`),s=e.get("redirectUrl")||localStorage.getItem(`${i}-redirectUrl`),r=e.get("configUrl")||localStorage.getItem(`${i}-configUrl`)||void 0;if(!t||!n)throw"Could not retrieve season or episode id from URL";if(!s)throw"Could not retrieve redirectUrl from URL";return localStorage.setItem(`${i}-sid`,t),localStorage.setItem(`${i}-eid`,n),localStorage.setItem(`${i}-redirectUrl`,s),r&&localStorage.setItem(`${i}-configUrl`,r),{season:t,episode:n,redirectUrl:s,configUrl:r}};class W$1{constructor(e,t,n,s,r,c,p,f,m,Xn,Gn,Wn,xn){this.api=e,this.episode=t,this.badges=n,this.tests=s,this.feedbackQuestions=r,this.savegame=c,this.engagement=p,this.events=f,this.id=m,this.profile=Xn,this.formatConfiguration=Gn,this.tracker=Wn,this.authUser=xn,this.assets={getUrl:Yn=>{var Rn;if(!((Rn=this.episode)!=null&&Rn.assetsURL))throw new Error("Assets URL is not defined");return`${this.episode.assetsURL}/${Yn}`},get:Yn=>u$1(this,null,function*(){let Rn;try{const rr=yield fetch(this.assets.getUrl(Yn));if(rr.status!==200)throw new Error(`Could not fetch data. HTML status: ${rr.status}`);if(Rn=yield rr.text(),!Rn)throw new Error("File is empty!")}catch(rr){throw rr}return J$2({content:Rn,fileName:Yn})})}}static create(e){return u$1(this,null,function*(){let t,n,s;const r=e.id||ne$2();if(!r.season||!r.episode)throw new Error("sid or eid not found");if(e.seasonDefinition){const Jn=B$1(e.seasonDefinition);n=$({customFetch:Jn}),s=new O$2(window.localStorage)}else if(r.configUrl){const Jn=yield(yield fetch(`${r.configUrl}/season.yaml`)).text(),Hn=(yield Promise.resolve().then(()=>index_137b3043)).parse(Jn),Zn=B$1(g(a({},Hn),{assetsURL:r.configUrl}));n=$({customFetch:Zn}),s=new O$2(window.localStorage)}else{if(!e.tenant)throw"config.tenant must be provided";if(t=yield C$2.create(e.tenant),!t)throw"Could not create Authentication Service";n=$({auth:t,tenant:e.tenant,localBackendURL:e.localBackendURL}),s=new O$2(yield k$1.create(n))}if(!n)throw new Error("Coudn't initialize the library");const{data:c}=yield n.domainModelSeasons.getEpisode(r.season,r.episode,{format:"json"});let p;if(c.assetsURL&&c.formatConfiguration&&!e.seasonDefinition)try{p=yield(yield fetch(`${c.assetsURL}/${c.formatConfiguration}`)).text()}catch(Jn){console.error("No episode configuration found"),q$2.captureException(new Error("No episode configuration found"))}let f;p&&(f=yield J$2({content:p,fileName:c.formatConfiguration}));const m=R$1.createForEpisode(r,c,n),Xn=A$1.createForEpisode(r,c,n),Gn=new oe$2(r,s),Wn=new se$2(s),xn=G$2.createForEpisode(c,s),Yn=s.getItem("SETTINGS")||re$2,Rn=new ae$2(n,s,r);let rr;return e.logRocketId&&(t==null?void 0:t.user)&&(rr=yield M$1.create({logRocketId:e.logRocketId,userInfo:t.user,playerName:Yn.playerName})),new W$1(n,c,xn,m,Xn,Gn,Wn,Rn,r,Yn,f,rr,t==null?void 0:t.user)})}}const EPISODE_END="td-episode-end",TEST_PASS="td-test-pass",TEST_FAIL="td-test-fail",TEST_ID_PREFIX="td-test-id-",LOADING_SCREEN_ID="td-loading-screen";function initialize(){console.debug("Initializing talentkit"),createLoadingScreen();const i=getConfig();console.debug("Config",i),W$1.create(i).then(onTalentKitCreation).catch(logErorr)}function onTalentKitCreation(i){console.debug("Kit:",i),clearLoadingScreen(),attachTestListeners(i,TEST_PASS),attachTestListeners(i,TEST_FAIL),attachEndEpisodeListeners(i),handleSaveGame(i)}function attachTestListeners(i,e){document.querySelectorAll(`.${e}`).forEach(t=>{console.debug(`Element found for ${e} ${getElementInfo(t)}`),t.addEventListener("click",()=>{var s;const n=(s=Array.from(t.classList).find(r=>r.includes(TEST_ID_PREFIX)))==null?void 0:s.split(TEST_ID_PREFIX)[1];if(!n){logErorr(`Test ID not found for element ${getElementInfo(t)}`);return}if(!i.tests[n]){logErorr(`Test id: ${n} not found in kit.tests, available tests are: ${Object.keys(i.tests).toString()}`);return}e===TEST_PASS?i.tests[n].pass().catch(logErorr):i.tests[n].fail().catch(logErorr)})})}function attachEndEpisodeListeners(i){document.querySelectorAll(`.${EPISODE_END}`).forEach(e=>{console.debug(`Element found for ${EPISODE_END} ${getElementInfo(e)}`),e.addEventListener("click",()=>{i.events.end().catch(logErorr)})})}function handleSaveGame(i){const e=window.location.href.includes("sid")&&window.location.href.includes("eid"),t=i.savegame.load();if(console.debug("Current savegame",t),e&&isSavegame(t)){window.location.href=t.lastPlayedUrl;return}const n=isSavegame(t)?t:{};i.savegame.save(_o(Ao({},n),{lastPlayedUrl:window.location.href}))}function isSavegame(i){return Boolean(typeof i=="object"&&(i==null?void 0:i.hasOwnProperty("lastPlayedUrl")))}function getConfig(){var t;const i=(t=window.location.hostname.split("."))==null?void 0:t[0];return{tenant:i.startsWith("localhost")||window.location.hostname.endsWith("netlify.app")?"devtd2":i}}function createLoadingScreen(){const i=`
    @keyframes infinite-rotaton-animation {
      from { transform: rotate(0deg) }
      to { transform: rotate(360deg) }
    }

    .td-infinite-rotation {
      animation: infinite-rotaton-animation 2s linear infinite;
    }
  `,e=document.createElement("style");e.innerText=i,document.head.appendChild(e);const t=document.createElement("div");t.id=LOADING_SCREEN_ID,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="1000",t.style.transition="opacity 3s ease-in-out",t.style.opacity="0";const n=document.createElement("div");n.innerText="\u21BB",n.style.fontSize="64px",n.style.color="white",n.className="td-infinite-rotation",document.body.appendChild(t),t.appendChild(n),setTimeout(()=>{t&&(t.style.opacity="1")},400)}function clearLoadingScreen(){var i;(i=document.getElementById(LOADING_SCREEN_ID))==null||i.remove()}function logErorr(i){console.error(`Kit snippet integration: ${i}`)}function getElementInfo(i){const e=i.classList.toString(),t=i.innerHTML;return`with classes ${e} and text ${t}`}initialize();function F$1(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let C$1=F$1();function K$1(i){C$1=i}const X$1=/[&<>"']/,Y$1=new RegExp(X$1.source,"g"),W=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ee$1=new RegExp(W.source,"g"),te$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v$1=i=>te$1[i];function b(i,e){if(e){if(X$1.test(i))return i.replace(Y$1,v$1)}else if(W.test(i))return i.replace(ee$1,v$1);return i}const ne$1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function G$1(i){return i.replace(ne$1,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ie$1=/(^|[^\[])\^/g;function k(i,e){i=typeof i=="string"?i:i.source,e=e||"";const t={replace:(n,s)=>(s=s.source||s,s=s.replace(ie$1,"$1"),i=i.replace(n,s),t),getRegex:()=>new RegExp(i,e)};return t}const se$1=/[^\w:]/g,re$1=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function M(i,e,t){if(i){let n;try{n=decodeURIComponent(G$1(t)).replace(se$1,"").toLowerCase()}catch(s){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!re$1.test(t)&&(t=ce$1(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(n){return null}return t}const Z$1={},le$1=/^[^:]+:\/*[^/]*$/,ae$1=/^([^:]+:)[\s\S]*$/,oe$1=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ce$1(i,e){Z$1[" "+i]||(le$1.test(i)?Z$1[" "+i]=i+"/":Z$1[" "+i]=q$1(i,"/",!0)),i=Z$1[" "+i];const t=i.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:i.replace(ae$1,"$1")+e:e.charAt(0)==="/"?t?e:i.replace(oe$1,"$1")+e:i+e}const B={exec:function(){}};function y(i){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i}function j$1(i,e){const t=i.replace(/\|/g,(r,c,p)=>{let f=!1,m=c;for(;--m>=0&&p[m]==="\\";)f=!f;return f?"|":" |"}),n=t.split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function q$1(i,e,t){const n=i.length;if(n===0)return"";let s=0;for(;s<n;){const r=i.charAt(n-s-1);if(r===e&&!t)s++;else if(r!==e&&t)s++;else break}return i.slice(0,n-s)}function he$1(i,e){if(i.indexOf(e[1])===-1)return-1;const t=i.length;let n=0,s=0;for(;s<t;s++)if(i[s]==="\\")s++;else if(i[s]===e[0])n++;else if(i[s]===e[1]&&(n--,n<0))return s;return-1}function V$1(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P$1(i,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=i),e>>=1,i+=i;return t+i}function Q(i,e,t,n){const s=e.href,r=e.title?b(e.title):null,c=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const p={type:"link",raw:t,href:s,title:r,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,p}return{type:"image",raw:t,href:s,title:r,text:b(c)}}function pe$1(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(s=>{const r=s.match(/^\s+/);if(r===null)return s;const[c]=r;return c.length>=n.length?s.slice(n.length):s}).join(`
`)}class D$1{constructor(e){this.options=e||C$1}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:q$1(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],s=pe$1(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const s=q$1(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,s,r,c,p,f,m,Xn,Gn,Wn,xn,Yn,Rn=t[1].trim();const rr=Rn.length>1,Jn={type:"list",raw:"",ordered:rr,start:rr?+Rn.slice(0,-1):"",loose:!1,items:[]};Rn=rr?`\\d{1,9}\\${Rn.slice(-1)}`:`\\${Rn}`,this.options.pedantic&&(Rn=rr?Rn:"[*+-]");const Hn=new RegExp(`^( {0,3}${Rn})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(Yn=!1,!(!(t=Hn.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),Xn=t[2].split(`
`,1)[0].replace(/^\t+/,tr=>" ".repeat(3*tr.length)),Gn=e.split(`
`,1)[0],this.options.pedantic?(c=2,xn=Xn.trimLeft()):(c=t[2].search(/[^ ]/),c=c>4?1:c,xn=Xn.slice(c),c+=t[1].length),f=!1,!Xn&&/^ *$/.test(Gn)&&(n+=Gn+`
`,e=e.substring(Gn.length+1),Yn=!0),!Yn){const tr=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),nr=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),sr=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),ar=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(Wn=e.split(`
`,1)[0],Gn=Wn,this.options.pedantic&&(Gn=Gn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(sr.test(Gn)||ar.test(Gn)||tr.test(Gn)||nr.test(e)));){if(Gn.search(/[^ ]/)>=c||!Gn.trim())xn+=`
`+Gn.slice(c);else{if(f||Xn.search(/[^ ]/)>=4||sr.test(Xn)||ar.test(Xn)||nr.test(Xn))break;xn+=`
`+Gn}!f&&!Gn.trim()&&(f=!0),n+=Wn+`
`,e=e.substring(Wn.length+1),Xn=Gn.slice(c)}}Jn.loose||(m?Jn.loose=!0:/\n *\n *$/.test(n)&&(m=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(xn),s&&(r=s[0]!=="[ ] ",xn=xn.replace(/^\[[ xX]\] +/,""))),Jn.items.push({type:"list_item",raw:n,task:!!s,checked:r,loose:!1,text:xn}),Jn.raw+=n}Jn.items[Jn.items.length-1].raw=n.trimRight(),Jn.items[Jn.items.length-1].text=xn.trimRight(),Jn.raw=Jn.raw.trimRight();const Zn=Jn.items.length;for(p=0;p<Zn;p++)if(this.lexer.state.top=!1,Jn.items[p].tokens=this.lexer.blockTokens(Jn.items[p].text,[]),!Jn.loose){const tr=Jn.items[p].tokens.filter(sr=>sr.type==="space"),nr=tr.length>0&&tr.some(sr=>/\n.*\n/.test(sr.raw));Jn.loose=nr}if(Jn.loose)for(p=0;p<Zn;p++)Jn.items[p].loose=!0;return Jn}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const s=this.options.sanitizer?this.options.sanitizer(t[0]):b(t[0]);n.type="paragraph",n.text=s,n.tokens=this.lexer.inline(s)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:s,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:j$1(t[1]).map(s=>({text:s})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let s=n.align.length,r,c,p,f;for(r=0;r<s;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(s=n.rows.length,r=0;r<s;r++)n.rows[r]=j$1(n.rows[r],n.header.length).map(m=>({text:m}));for(s=n.header.length,c=0;c<s;c++)n.header[c].tokens=this.lexer.inline(n.header[c].text);for(s=n.rows.length,c=0;c<s;c++)for(f=n.rows[c],p=0;p<f.length;p++)f[p].tokens=this.lexer.inline(f[p].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:b(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):b(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const c=q$1(n.slice(0,-1),"\\");if((n.length-c.length)%2===0)return}else{const c=he$1(t[2],"()");if(c>-1){const p=(t[0].indexOf("!")===0?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,p).trim(),t[3]=""}}let s=t[2],r="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);c&&(s=c[1],r=c[3])}else r=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(n)?s=s.slice(1):s=s.slice(1,-1)),Q(t,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let s=(n[2]||n[1]).replace(/\s+/g," ");if(s=t[s.toLowerCase()],!s){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Q(n,s,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const c=s[0].length-1;let p,f,m=c,Xn=0;const Gn=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Gn.lastIndex=0,t=t.slice(-1*e.length+c);(s=Gn.exec(t))!=null;){if(p=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!p)continue;if(f=p.length,s[3]||s[4]){m+=f;continue}else if((s[5]||s[6])&&c%3&&!((c+f)%3)){Xn+=f;continue}if(m-=f,m>0)continue;f=Math.min(f,f+m+Xn);const Wn=e.slice(0,c+s.index+(s[0].length-p.length)+f);if(Math.min(c,f)%2){const Yn=Wn.slice(1,-1);return{type:"em",raw:Wn,text:Yn,tokens:this.lexer.inlineTokens(Yn)}}const xn=Wn.slice(2,-2);return{type:"strong",raw:Wn,text:xn,tokens:this.lexer.inlineTokens(xn)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const s=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return s&&r&&(n=n.substring(1,n.length-1)),n=b(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let s,r;return n[2]==="@"?(s=b(this.options.mangle?t(n[1]):n[1]),r="mailto:"+s):(s=b(n[1]),r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let s,r;if(n[2]==="@")s=b(this.options.mangle?t(n[0]):n[0]),r="mailto:"+s;else{let c;do c=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(c!==n[0]);s=b(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):b(n[0]):n[0]:s=b(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:s}}}}const h={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:B,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};h._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,h._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,h.def=k(h.def).replace("label",h._label).replace("title",h._title).getRegex(),h.bullet=/(?:[*+-]|\d{1,9}[.)])/,h.listItemStart=k(/^( *)(bull) */).replace("bull",h.bullet).getRegex(),h.list=k(h.list).replace(/bull/g,h.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+h.def.source+")").getRegex(),h._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",h._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,h.html=k(h.html,"i").replace("comment",h._comment).replace("tag",h._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),h.paragraph=k(h._paragraph).replace("hr",h.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h._tag).getRegex(),h.blockquote=k(h.blockquote).replace("paragraph",h.paragraph).getRegex(),h.normal=y({},h),h.gfm=y({},h.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),h.gfm.table=k(h.gfm.table).replace("hr",h.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h._tag).getRegex(),h.gfm.paragraph=k(h._paragraph).replace("hr",h.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",h.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h._tag).getRegex(),h.pedantic=y({},h.normal,{html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",h._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(h.normal._paragraph).replace("hr",h.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",h.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};o._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",o.punctuation=k(o.punctuation).replace(/punctuation/g,o._punctuation).getRegex(),o.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,o.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,o._comment=k(h._comment).replace("(?:-->|$)","-->").getRegex(),o.emStrong.lDelim=k(o.emStrong.lDelim).replace(/punct/g,o._punctuation).getRegex(),o.emStrong.rDelimAst=k(o.emStrong.rDelimAst,"g").replace(/punct/g,o._punctuation).getRegex(),o.emStrong.rDelimUnd=k(o.emStrong.rDelimUnd,"g").replace(/punct/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=k(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=k(o.tag).replace("comment",o._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=k(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=k(o.reflink).replace("label",o._label).replace("ref",h._label).getRegex(),o.nolink=k(o.nolink).replace("ref",h._label).getRegex(),o.reflinkSearch=k(o.reflinkSearch,"g").replace("reflink",o.reflink).replace("nolink",o.nolink).getRegex(),o.normal=y({},o),o.pedantic=y({},o.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=y({},o.normal,{escape:k(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),o.gfm.url=k(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=y({},o.gfm,{br:k(o.br).replace("{2,}","*").getRegex(),text:k(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ue$1(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function N(i){let e="",t,n;const s=i.length;for(t=0;t<s;t++)n=i.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class I$1{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||C$1,this.options.tokenizer=this.options.tokenizer||new D$1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:h.normal,inline:o.normal};this.options.pedantic?(t.block=h.pedantic,t.inline=o.pedantic):this.options.gfm&&(t.block=h.gfm,this.options.breaks?t.inline=o.breaks:t.inline=o.gfm),this.tokenizer.rules=t}static get rules(){return{block:h,inline:o}}static lex(e,t){return new I$1(t).lex(e)}static lexInline(e,t){return new I$1(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(p,f,m)=>f+"    ".repeat(m.length));let n,s,r,c;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(n=p.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const f=e.slice(1);let m;this.options.extensions.startBlock.forEach(function(Xn){m=Xn.call({lexer:this},f),typeof m=="number"&&m>=0&&(p=Math.min(p,m))}),p<1/0&&p>=0&&(r=e.substring(0,p+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){s=t[t.length-1],c&&s.type==="paragraph"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),c=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,s,r,c=e,p,f,m;if(this.tokens.links){const Xn=Object.keys(this.tokens.links);if(Xn.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)Xn.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,p.index)+"["+P$1("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,p.index)+"["+P$1("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,p.index+p[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(f||(m=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Xn=>(n=Xn.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),s=t[t.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,c,m)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,N)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,N))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let Xn=1/0;const Gn=e.slice(1);let Wn;this.options.extensions.startInline.forEach(function(xn){Wn=xn.call({lexer:this},Gn),typeof Wn=="number"&&Wn>=0&&(Xn=Math.min(Xn,Wn))}),Xn<1/0&&Xn>=0&&(r=e.substring(0,Xn+1))}if(n=this.tokenizer.inlineText(r,ue$1)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(m=n.raw.slice(-1)),f=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(e){const Xn="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Xn);break}else throw new Error(Xn)}}return t}}class O$1{constructor(e){this.options=e||C$1}code(e,t,n){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,s);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+b(s)+'">'+(n?e:b(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:b(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,s){if(this.options.headerIds){const r=this.options.headerPrefix+s.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const s=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+s+r+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=M(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){if(e=M(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class H$1{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class J$1{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do s++,n=e+"-"+s;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class S{constructor(e){this.options=e||C$1,this.options.renderer=this.options.renderer||new O$1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new H$1,this.slugger=new J$1}static parse(e,t){return new S(t).parse(e)}static parseInline(e,t){return new S(t).parseInline(e)}parse(e,t=!0){let n="",s,r,c,p,f,m,Xn,Gn,Wn,xn,Yn,Rn,rr,Jn,Hn,Zn,tr,nr,sr;const ar=e.length;for(s=0;s<ar;s++){if(xn=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[xn.type]&&(sr=this.options.extensions.renderers[xn.type].call({parser:this},xn),sr!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(xn.type))){n+=sr||"";continue}switch(xn.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(xn.tokens),xn.depth,G$1(this.parseInline(xn.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(xn.text,xn.lang,xn.escaped);continue}case"table":{for(Gn="",Xn="",p=xn.header.length,r=0;r<p;r++)Xn+=this.renderer.tablecell(this.parseInline(xn.header[r].tokens),{header:!0,align:xn.align[r]});for(Gn+=this.renderer.tablerow(Xn),Wn="",p=xn.rows.length,r=0;r<p;r++){for(m=xn.rows[r],Xn="",f=m.length,c=0;c<f;c++)Xn+=this.renderer.tablecell(this.parseInline(m[c].tokens),{header:!1,align:xn.align[c]});Wn+=this.renderer.tablerow(Xn)}n+=this.renderer.table(Gn,Wn);continue}case"blockquote":{Wn=this.parse(xn.tokens),n+=this.renderer.blockquote(Wn);continue}case"list":{for(Yn=xn.ordered,Rn=xn.start,rr=xn.loose,p=xn.items.length,Wn="",r=0;r<p;r++)Hn=xn.items[r],Zn=Hn.checked,tr=Hn.task,Jn="",Hn.task&&(nr=this.renderer.checkbox(Zn),rr?Hn.tokens.length>0&&Hn.tokens[0].type==="paragraph"?(Hn.tokens[0].text=nr+" "+Hn.tokens[0].text,Hn.tokens[0].tokens&&Hn.tokens[0].tokens.length>0&&Hn.tokens[0].tokens[0].type==="text"&&(Hn.tokens[0].tokens[0].text=nr+" "+Hn.tokens[0].tokens[0].text)):Hn.tokens.unshift({type:"text",text:nr}):Jn+=nr),Jn+=this.parse(Hn.tokens,rr),Wn+=this.renderer.listitem(Jn,tr,Zn);n+=this.renderer.list(Wn,Yn,Rn);continue}case"html":{n+=this.renderer.html(xn.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(xn.tokens));continue}case"text":{for(Wn=xn.tokens?this.parseInline(xn.tokens):xn.text;s+1<ar&&e[s+1].type==="text";)xn=e[++s],Wn+=`
`+(xn.tokens?this.parseInline(xn.tokens):xn.text);n+=t?this.renderer.paragraph(Wn):Wn;continue}default:{const lr='Token with "'+xn.type+'" type was not found.';if(this.options.silent){console.error(lr);return}else throw new Error(lr)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",s,r,c;const p=e.length;for(s=0;s<p;s++){if(r=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(c=this.options.extensions.renderers[r.type].call({parser:this},r),c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=c||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const f='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(f);return}else throw new Error(f)}}}return n}}function u(i,e,t){if(typeof i=="undefined"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=y({},u.defaults,e||{}),V$1(e),t){const s=e.highlight;let r;try{r=I$1.lex(i,e)}catch(f){return t(f)}const c=function(f){let m;if(!f)try{e.walkTokens&&u.walkTokens(r,e.walkTokens),m=S.parse(r,e)}catch(Xn){f=Xn}return e.highlight=s,f?t(f):t(null,m)};if(!s||s.length<3||(delete e.highlight,!r.length))return c();let p=0;u.walkTokens(r,function(f){f.type==="code"&&(p++,setTimeout(()=>{s(f.text,f.lang,function(m,Xn){if(m)return c(m);Xn!=null&&Xn!==f.text&&(f.text=Xn,f.escaped=!0),p--,p===0&&c()})},0))}),p===0&&c();return}function n(s){if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+b(s.message+"",!0)+"</pre>";throw s}try{const s=I$1.lex(i,e);if(e.walkTokens){if(e.async)return Promise.all(u.walkTokens(s,e.walkTokens)).then(()=>S.parse(s,e)).catch(n);u.walkTokens(s,e.walkTokens)}return S.parse(s,e)}catch(s){n(s)}}u.options=u.setOptions=function(i){return y(u.defaults,i),K$1(u.defaults),u},u.getDefaults=F$1,u.defaults=C$1,u.use=function(...i){const e=u.defaults.extensions||{renderers:{},childTokens:{}};i.forEach(t=>{const n=y({},t);if(n.async=u.defaults.async||n.async,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const r=e.renderers[s.name];r?e.renderers[s.name]=function(...c){let p=s.renderer.apply(this,c);return p===!1&&(p=r.apply(this,c)),p}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),n.extensions=e),t.renderer){const s=u.defaults.renderer||new O$1;for(const r in t.renderer){const c=s[r];s[r]=(...p)=>{let f=t.renderer[r].apply(s,p);return f===!1&&(f=c.apply(s,p)),f}}n.renderer=s}if(t.tokenizer){const s=u.defaults.tokenizer||new D$1;for(const r in t.tokenizer){const c=s[r];s[r]=(...p)=>{let f=t.tokenizer[r].apply(s,p);return f===!1&&(f=c.apply(s,p)),f}}n.tokenizer=s}if(t.walkTokens){const s=u.defaults.walkTokens;n.walkTokens=function(r){let c=[];return c.push(t.walkTokens.call(this,r)),s&&(c=c.concat(s.call(this,r))),c}}u.setOptions(n)})},u.walkTokens=function(i,e){let t=[];for(const n of i)switch(t=t.concat(e.call(u,n)),n.type){case"table":{for(const s of n.header)t=t.concat(u.walkTokens(s.tokens,e));for(const s of n.rows)for(const r of s)t=t.concat(u.walkTokens(r.tokens,e));break}case"list":{t=t.concat(u.walkTokens(n.items,e));break}default:u.defaults.extensions&&u.defaults.extensions.childTokens&&u.defaults.extensions.childTokens[n.type]?u.defaults.extensions.childTokens[n.type].forEach(function(s){t=t.concat(u.walkTokens(n[s],e))}):n.tokens&&(t=t.concat(u.walkTokens(n.tokens,e)))}return t},u.parseInline=function(i,e){if(typeof i=="undefined"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");e=y({},u.defaults,e||{}),V$1(e);try{const t=I$1.lexInline(i,e);return e.walkTokens&&u.walkTokens(t,e.walkTokens),S.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+b(t.message+"",!0)+"</pre>";throw t}},u.Parser=S,u.parser=S.parse,u.Renderer=O$1,u.TextRenderer=H$1,u.Lexer=I$1,u.lexer=I$1.lex,u.Tokenizer=D$1,u.Slugger=J$1,u.parse=u;const fe$1=u.options,ge$1=u.setOptions,de$1=u.use,ke$1=u.walkTokens,me$1=u.parseInline,xe$1=u,we$1=S.parse,be$1=I$1.lex,marked_esm_10aa0d10=Object.freeze(Object.defineProperty({__proto__:null,Lexer:I$1,Parser:S,Renderer:O$1,Slugger:J$1,TextRenderer:H$1,Tokenizer:D$1,get defaults(){return C$1},getDefaults:F$1,lexer:be$1,marked:u,options:fe$1,parse:xe$1,parseInline:me$1,parser:we$1,setOptions:ge$1,use:de$1,walkTokens:ke$1},Symbol.toStringTag,{value:"Module"}));function ii(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}var ti=function(){function i(n,s){function r(){this.constructor=n}r.prototype=s.prototype,n.prototype=new r}function e(n,s,r,c,p,f){this.message=n,this.expected=s,this.found=r,this.offset=c,this.line=p,this.column=f,this.name="SyntaxError"}i(e,Error);function t(n){var s=arguments.length>1?arguments[1]:{},r={},c={start:to},p=to,f=function(){return wo},m=r,Xn="#",Gn={type:"literal",value:"#",description:'"#"'},Wn=void 0,xn={type:"any",description:"any character"},Yn="[",Rn={type:"literal",value:"[",description:'"["'},rr="]",Jn={type:"literal",value:"]",description:'"]"'},Hn=function(l){Pi(Qr("ObjectPath",l,Jr,Yr))},Zn=function(l){Pi(Qr("ArrayPath",l,Jr,Yr))},tr=function(l,E){return l.concat(E)},nr=function(l){return[l]},sr=function(l){return l},ar=".",lr={type:"literal",value:".",description:'"."'},mr="=",br={type:"literal",value:"=",description:'"="'},Er=function(l,E){Pi(Qr("Assign",E,Jr,Yr,l))},Lr=function(l){return l.join("")},kr=function(l){return l.value},gr='"""',Nr={type:"literal",value:'"""',description:'"\\"\\"\\""'},jr=null,Ir=function(l){return Qr("String",l.join(""),Jr,Yr)},Xr='"',Gr={type:"literal",value:'"',description:'"\\""'},Ur="'''",$r={type:"literal",value:"'''",description:`"'''"`},Rr="'",Hr={type:"literal",value:"'",description:`"'"`},Br=function(l){return l},Wr=function(l){return l},ri="\\",Vr={type:"literal",value:"\\",description:'"\\\\"'},er=function(){return""},or="e",pr={type:"literal",value:"e",description:'"e"'},yr="E",fr={type:"literal",value:"E",description:'"E"'},ur=function(l,E){return Qr("Float",parseFloat(l+"e"+E),Jr,Yr)},wr=function(l){return Qr("Float",parseFloat(l),Jr,Yr)},Sr="+",Or={type:"literal",value:"+",description:'"+"'},_r=function(l){return l.join("")},Pr="-",Mr={type:"literal",value:"-",description:'"-"'},si=function(l){return"-"+l.join("")},Zr=function(l){return Qr("Integer",parseInt(l,10),Jr,Yr)},oi="true",Ti={type:"literal",value:"true",description:'"true"'},To=function(){return Qr("Boolean",!0,Jr,Yr)},ji="false",Oo={type:"literal",value:"false",description:'"false"'},$o=function(){return Qr("Boolean",!1,Jr,Yr)},Io=function(){return Qr("Array",[],Jr,Yr)},Co=function(l){return Qr("Array",l?[l]:[],Jr,Yr)},Ro=function(l){return Qr("Array",l,Jr,Yr)},Po=function(l,E){return Qr("Array",l.concat(E),Jr,Yr)},Ni=function(l){return l},Ui=",",Fi={type:"literal",value:",",description:'","'},Lo="{",jo={type:"literal",value:"{",description:'"{"'},No="}",Uo={type:"literal",value:"}",description:'"}"'},Fo=function(l){return Qr("InlineTable",l,Jr,Yr)},Di=function(l,E){return Qr("InlineTableValue",E,Jr,Yr,l)},Do=function(l){return"."+l},Mo=function(l){return l.join("")},yi=":",vi={type:"literal",value:":",description:'":"'},Mi=function(l){return l.join("")},qi="T",Hi={type:"literal",value:"T",description:'"T"'},qo="Z",Ho={type:"literal",value:"Z",description:'"Z"'},Bo=function(l,E){return Qr("Date",new Date(l+"T"+E+"Z"),Jr,Yr)},Ko=function(l,E){return Qr("Date",new Date(l+"T"+E),Jr,Yr)},zo=/^[ \t]/,Xo={type:"class",value:"[ \\t]",description:"[ \\t]"},Bi=`
`,Ki={type:"literal",value:`
`,description:'"\\n"'},Go="\r",Wo={type:"literal",value:"\r",description:'"\\r"'},Vo=/^[0-9a-f]/i,Jo={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Yo=/^[0-9]/,Qo={type:"class",value:"[0-9]",description:"[0-9]"},Zo="_",ea={type:"literal",value:"_",description:'"_"'},ta=function(){return""},na=/^[A-Za-z0-9_\-]/,ra={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},sa=function(l){return l.join("")},zi='\\"',ia={type:"literal",value:'\\"',description:'"\\\\\\""'},oa=function(){return'"'},Xi="\\\\",aa={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},la=function(){return"\\"},Gi="\\b",ca={type:"literal",value:"\\b",description:'"\\\\b"'},ua=function(){return"\b"},Wi="\\t",fa={type:"literal",value:"\\t",description:'"\\\\t"'},ha=function(){return"	"},Vi="\\n",da={type:"literal",value:"\\n",description:'"\\\\n"'},pa=function(){return`
`},Ji="\\f",ga={type:"literal",value:"\\f",description:'"\\\\f"'},ma=function(){return"\f"},Yi="\\r",ya={type:"literal",value:"\\r",description:'"\\\\r"'},va=function(){return"\r"},Qi="\\U",ba={type:"literal",value:"\\U",description:'"\\\\U"'},Zi=function(l){return Ma(l.join(""))},eo="\\u",ka={type:"literal",value:"\\u",description:'"\\\\u"'},d=0,Tr=0,bi=0,Oi={line:1,column:1,seenCR:!1},xi=0,$i=[],hr=0,dr={},Si;if("startRule"in s){if(!(s.startRule in c))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');p=c[s.startRule]}function Jr(){return Ii(Tr).line}function Yr(){return Ii(Tr).column}function Ii(l){function E(It,zn,Qn){var ir,cr;for(ir=zn;ir<Qn;ir++)cr=n.charAt(ir),cr===`
`?(It.seenCR||It.line++,It.column=1,It.seenCR=!1):cr==="\r"||cr==="\u2028"||cr==="\u2029"?(It.line++,It.column=1,It.seenCR=!0):(It.column++,It.seenCR=!1)}return bi!==l&&(bi>l&&(bi=0,Oi={line:1,column:1,seenCR:!1}),E(Oi,bi,l),bi=l),Oi}function vr(l){d<xi||(d>xi&&(xi=d,$i=[]),$i.push(l))}function wa(l,E,It){function zn(xr){var Cr=1;for(xr.sort(function(qr,Fr){return qr.description<Fr.description?-1:qr.description>Fr.description?1:0});Cr<xr.length;)xr[Cr-1]===xr[Cr]?xr.splice(Cr,1):Cr++}function Qn(xr,Cr){function qr(mi){function pi(ei){return ei.charCodeAt(0).toString(16).toUpperCase()}return mi.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ei){return"\\x0"+pi(ei)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ei){return"\\x"+pi(ei)}).replace(/[\u0180-\u0FFF]/g,function(ei){return"\\u0"+pi(ei)}).replace(/[\u1080-\uFFFF]/g,function(ei){return"\\u"+pi(ei)})}var Fr=new Array(xr.length),Kr,zr,$s;for($s=0;$s<xr.length;$s++)Fr[$s]=xr[$s].description;return Kr=xr.length>1?Fr.slice(0,-1).join(", ")+" or "+Fr[xr.length-1]:Fr[0],zr=Cr?'"'+qr(Cr)+'"':"end of input","Expected "+Kr+" but "+zr+" found."}var ir=Ii(It),cr=It<n.length?n.charAt(It):null;return E!==null&&zn(E),new e(l!==null?l:Qn(E,cr),E,cr,It,ir.line,ir.column)}function to(){var l,E,It,zn=d*49+0,Qn=dr[zn];if(Qn)return d=Qn.nextPos,Qn.result;for(l=d,E=[],It=no();It!==r;)E.push(It),It=no();return E!==r&&(Tr=l,E=f()),l=E,dr[zn]={nextPos:d,result:l},l}function no(){var l,E,It,zn,Qn,ir,cr,xr=d*49+1,Cr=dr[xr];if(Cr)return d=Cr.nextPos,Cr.result;for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=xa(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();if(zn!==r){for(Qn=[],ir=Ei();ir!==r;)Qn.push(ir),ir=Ei();if(Qn!==r){if(ir=[],cr=hi(),cr!==r)for(;cr!==r;)ir.push(cr),cr=hi();else ir=m;ir===r&&(ir=_i()),ir!==r?(E=[E,It,zn,Qn,ir],l=E):(d=l,l=m)}else d=l,l=m}else d=l,l=m}else d=l,l=m;else d=l,l=m;if(l===r){if(l=d,E=[],It=Ar(),It!==r)for(;It!==r;)E.push(It),It=Ar();else E=m;if(E!==r){if(It=[],zn=hi(),zn!==r)for(;zn!==r;)It.push(zn),zn=hi();else It=m;It===r&&(It=_i()),It!==r?(E=[E,It],l=E):(d=l,l=m)}else d=l,l=m;l===r&&(l=hi())}return dr[xr]={nextPos:d,result:l},l}function xa(){var l,E=d*49+2,It=dr[E];return It?(d=It.nextPos,It.result):(l=Ei(),l===r&&(l=Sa(),l===r&&(l=Ea(),l===r&&(l=Aa()))),dr[E]={nextPos:d,result:l},l)}function Ei(){var l,E,It,zn,Qn,ir,cr=d*49+3,xr=dr[cr];if(xr)return d=xr.nextPos,xr.result;if(l=d,n.charCodeAt(d)===35?(E=Xn,d++):(E=r,hr===0&&vr(Gn)),E!==r){for(It=[],zn=d,Qn=d,hr++,ir=hi(),ir===r&&(ir=_i()),hr--,ir===r?Qn=Wn:(d=Qn,Qn=m),Qn!==r?(n.length>d?(ir=n.charAt(d),d++):(ir=r,hr===0&&vr(xn)),ir!==r?(Qn=[Qn,ir],zn=Qn):(d=zn,zn=m)):(d=zn,zn=m);zn!==r;)It.push(zn),zn=d,Qn=d,hr++,ir=hi(),ir===r&&(ir=_i()),hr--,ir===r?Qn=Wn:(d=Qn,Qn=m),Qn!==r?(n.length>d?(ir=n.charAt(d),d++):(ir=r,hr===0&&vr(xn)),ir!==r?(Qn=[Qn,ir],zn=Qn):(d=zn,zn=m)):(d=zn,zn=m);It!==r?(E=[E,It],l=E):(d=l,l=m)}else d=l,l=m;return dr[cr]={nextPos:d,result:l},l}function Sa(){var l,E,It,zn,Qn,ir,cr=d*49+4,xr=dr[cr];if(xr)return d=xr.nextPos,xr.result;if(l=d,n.charCodeAt(d)===91?(E=Yn,d++):(E=r,hr===0&&vr(Rn)),E!==r){for(It=[],zn=Ar();zn!==r;)It.push(zn),zn=Ar();if(It!==r)if(zn=ro(),zn!==r){for(Qn=[],ir=Ar();ir!==r;)Qn.push(ir),ir=Ar();Qn!==r?(n.charCodeAt(d)===93?(ir=rr,d++):(ir=r,hr===0&&vr(Jn)),ir!==r?(Tr=l,E=Hn(zn),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;return dr[cr]={nextPos:d,result:l},l}function Ea(){var l,E,It,zn,Qn,ir,cr,xr,Cr=d*49+5,qr=dr[Cr];if(qr)return d=qr.nextPos,qr.result;if(l=d,n.charCodeAt(d)===91?(E=Yn,d++):(E=r,hr===0&&vr(Rn)),E!==r)if(n.charCodeAt(d)===91?(It=Yn,d++):(It=r,hr===0&&vr(Rn)),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();if(zn!==r)if(Qn=ro(),Qn!==r){for(ir=[],cr=Ar();cr!==r;)ir.push(cr),cr=Ar();ir!==r?(n.charCodeAt(d)===93?(cr=rr,d++):(cr=r,hr===0&&vr(Jn)),cr!==r?(n.charCodeAt(d)===93?(xr=rr,d++):(xr=r,hr===0&&vr(Jn)),xr!==r?(Tr=l,E=Zn(Qn),l=E):(d=l,l=m)):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m;return dr[Cr]={nextPos:d,result:l},l}function ro(){var l,E,It,zn=d*49+6,Qn=dr[zn];if(Qn)return d=Qn.nextPos,Qn.result;if(l=d,E=[],It=io(),It!==r)for(;It!==r;)E.push(It),It=io();else E=m;return E!==r?(It=so(),It!==r?(Tr=l,E=tr(E,It),l=E):(d=l,l=m)):(d=l,l=m),l===r&&(l=d,E=so(),E!==r&&(Tr=l,E=nr(E)),l=E),dr[zn]={nextPos:d,result:l},l}function so(){var l,E,It,zn,Qn,ir=d*49+7,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=ki(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();zn!==r?(Tr=l,E=sr(It),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m;if(l===r){for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=Ci(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();zn!==r?(Tr=l,E=sr(It),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m}return dr[ir]={nextPos:d,result:l},l}function io(){var l,E,It,zn,Qn,ir,cr,xr=d*49+8,Cr=dr[xr];if(Cr)return d=Cr.nextPos,Cr.result;for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=ki(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();if(zn!==r)if(n.charCodeAt(d)===46?(Qn=ar,d++):(Qn=r,hr===0&&vr(lr)),Qn!==r){for(ir=[],cr=Ar();cr!==r;)ir.push(cr),cr=Ar();ir!==r?(Tr=l,E=sr(It),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m;if(l===r){for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=Ci(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();if(zn!==r)if(n.charCodeAt(d)===46?(Qn=ar,d++):(Qn=r,hr===0&&vr(lr)),Qn!==r){for(ir=[],cr=Ar();cr!==r;)ir.push(cr),cr=Ar();ir!==r?(Tr=l,E=sr(It),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m}return dr[xr]={nextPos:d,result:l},l}function Aa(){var l,E,It,zn,Qn,ir,cr=d*49+9,xr=dr[cr];if(xr)return d=xr.nextPos,xr.result;if(l=d,E=ki(),E!==r){for(It=[],zn=Ar();zn!==r;)It.push(zn),zn=Ar();if(It!==r)if(n.charCodeAt(d)===61?(zn=mr,d++):(zn=r,hr===0&&vr(br)),zn!==r){for(Qn=[],ir=Ar();ir!==r;)Qn.push(ir),ir=Ar();Qn!==r?(ir=gi(),ir!==r?(Tr=l,E=Er(E,ir),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;if(l===r)if(l=d,E=Ci(),E!==r){for(It=[],zn=Ar();zn!==r;)It.push(zn),zn=Ar();if(It!==r)if(n.charCodeAt(d)===61?(zn=mr,d++):(zn=r,hr===0&&vr(br)),zn!==r){for(Qn=[],ir=Ar();ir!==r;)Qn.push(ir),ir=Ar();Qn!==r?(ir=gi(),ir!==r?(Tr=l,E=Er(E,ir),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;return dr[cr]={nextPos:d,result:l},l}function ki(){var l,E,It,zn=d*49+10,Qn=dr[zn];if(Qn)return d=Qn.nextPos,Qn.result;if(l=d,E=[],It=bo(),It!==r)for(;It!==r;)E.push(It),It=bo();else E=m;return E!==r&&(Tr=l,E=Lr(E)),l=E,dr[zn]={nextPos:d,result:l},l}function Ci(){var l,E,It=d*49+11,zn=dr[It];return zn?(d=zn.nextPos,zn.result):(l=d,E=oo(),E!==r&&(Tr=l,E=kr(E)),l=E,l===r&&(l=d,E=ao(),E!==r&&(Tr=l,E=kr(E)),l=E),dr[It]={nextPos:d,result:l},l)}function gi(){var l,E=d*49+12,It=dr[E];return It?(d=It.nextPos,It.result):(l=_a(),l===r&&(l=Ua(),l===r&&(l=Ia(),l===r&&(l=Ca(),l===r&&(l=Ra(),l===r&&(l=Pa(),l===r&&(l=La())))))),dr[E]={nextPos:d,result:l},l)}function _a(){var l,E=d*49+13,It=dr[E];return It?(d=It.nextPos,It.result):(l=Ta(),l===r&&(l=oo(),l===r&&(l=Oa(),l===r&&(l=ao()))),dr[E]={nextPos:d,result:l},l)}function Ta(){var l,E,It,zn,Qn,ir=d*49+14,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;if(l=d,n.substr(d,3)===gr?(E=gr,d+=3):(E=r,hr===0&&vr(Nr)),E!==r)if(It=hi(),It===r&&(It=jr),It!==r){for(zn=[],Qn=uo();Qn!==r;)zn.push(Qn),Qn=uo();zn!==r?(n.substr(d,3)===gr?(Qn=gr,d+=3):(Qn=r,hr===0&&vr(Nr)),Qn!==r?(Tr=l,E=Ir(zn),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m;return dr[ir]={nextPos:d,result:l},l}function oo(){var l,E,It,zn,Qn=d*49+15,ir=dr[Qn];if(ir)return d=ir.nextPos,ir.result;if(l=d,n.charCodeAt(d)===34?(E=Xr,d++):(E=r,hr===0&&vr(Gr)),E!==r){for(It=[],zn=lo();zn!==r;)It.push(zn),zn=lo();It!==r?(n.charCodeAt(d)===34?(zn=Xr,d++):(zn=r,hr===0&&vr(Gr)),zn!==r?(Tr=l,E=Ir(It),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;return dr[Qn]={nextPos:d,result:l},l}function Oa(){var l,E,It,zn,Qn,ir=d*49+16,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;if(l=d,n.substr(d,3)===Ur?(E=Ur,d+=3):(E=r,hr===0&&vr($r)),E!==r)if(It=hi(),It===r&&(It=jr),It!==r){for(zn=[],Qn=fo();Qn!==r;)zn.push(Qn),Qn=fo();zn!==r?(n.substr(d,3)===Ur?(Qn=Ur,d+=3):(Qn=r,hr===0&&vr($r)),Qn!==r?(Tr=l,E=Ir(zn),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m;return dr[ir]={nextPos:d,result:l},l}function ao(){var l,E,It,zn,Qn=d*49+17,ir=dr[Qn];if(ir)return d=ir.nextPos,ir.result;if(l=d,n.charCodeAt(d)===39?(E=Rr,d++):(E=r,hr===0&&vr(Hr)),E!==r){for(It=[],zn=co();zn!==r;)It.push(zn),zn=co();It!==r?(n.charCodeAt(d)===39?(zn=Rr,d++):(zn=r,hr===0&&vr(Hr)),zn!==r?(Tr=l,E=Ir(It),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;return dr[Qn]={nextPos:d,result:l},l}function lo(){var l,E,It,zn=d*49+18,Qn=dr[zn];return Qn?(d=Qn.nextPos,Qn.result):(l=ko(),l===r&&(l=d,E=d,hr++,n.charCodeAt(d)===34?(It=Xr,d++):(It=r,hr===0&&vr(Gr)),hr--,It===r?E=Wn:(d=E,E=m),E!==r?(n.length>d?(It=n.charAt(d),d++):(It=r,hr===0&&vr(xn)),It!==r?(Tr=l,E=Br(It),l=E):(d=l,l=m)):(d=l,l=m)),dr[zn]={nextPos:d,result:l},l)}function co(){var l,E,It,zn=d*49+19,Qn=dr[zn];return Qn?(d=Qn.nextPos,Qn.result):(l=d,E=d,hr++,n.charCodeAt(d)===39?(It=Rr,d++):(It=r,hr===0&&vr(Hr)),hr--,It===r?E=Wn:(d=E,E=m),E!==r?(n.length>d?(It=n.charAt(d),d++):(It=r,hr===0&&vr(xn)),It!==r?(Tr=l,E=Br(It),l=E):(d=l,l=m)):(d=l,l=m),dr[zn]={nextPos:d,result:l},l)}function uo(){var l,E,It,zn=d*49+20,Qn=dr[zn];return Qn?(d=Qn.nextPos,Qn.result):(l=ko(),l===r&&(l=$a(),l===r&&(l=d,E=d,hr++,n.substr(d,3)===gr?(It=gr,d+=3):(It=r,hr===0&&vr(Nr)),hr--,It===r?E=Wn:(d=E,E=m),E!==r?(n.length>d?(It=n.charAt(d),d++):(It=r,hr===0&&vr(xn)),It!==r?(Tr=l,E=Wr(It),l=E):(d=l,l=m)):(d=l,l=m))),dr[zn]={nextPos:d,result:l},l)}function $a(){var l,E,It,zn,Qn,ir=d*49+21,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;if(l=d,n.charCodeAt(d)===92?(E=ri,d++):(E=r,hr===0&&vr(Vr)),E!==r)if(It=hi(),It!==r){for(zn=[],Qn=vo();Qn!==r;)zn.push(Qn),Qn=vo();zn!==r?(Tr=l,E=er(),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m;return dr[ir]={nextPos:d,result:l},l}function fo(){var l,E,It,zn=d*49+22,Qn=dr[zn];return Qn?(d=Qn.nextPos,Qn.result):(l=d,E=d,hr++,n.substr(d,3)===Ur?(It=Ur,d+=3):(It=r,hr===0&&vr($r)),hr--,It===r?E=Wn:(d=E,E=m),E!==r?(n.length>d?(It=n.charAt(d),d++):(It=r,hr===0&&vr(xn)),It!==r?(Tr=l,E=Br(It),l=E):(d=l,l=m)):(d=l,l=m),dr[zn]={nextPos:d,result:l},l)}function Ia(){var l,E,It,zn,Qn=d*49+23,ir=dr[Qn];return ir?(d=ir.nextPos,ir.result):(l=d,E=ho(),E===r&&(E=Ri()),E!==r?(n.charCodeAt(d)===101?(It=or,d++):(It=r,hr===0&&vr(pr)),It===r&&(n.charCodeAt(d)===69?(It=yr,d++):(It=r,hr===0&&vr(fr))),It!==r?(zn=Ri(),zn!==r?(Tr=l,E=ur(E,zn),l=E):(d=l,l=m)):(d=l,l=m)):(d=l,l=m),l===r&&(l=d,E=ho(),E!==r&&(Tr=l,E=wr(E)),l=E),dr[Qn]={nextPos:d,result:l},l)}function ho(){var l,E,It,zn,Qn,ir,cr=d*49+24,xr=dr[cr];return xr?(d=xr.nextPos,xr.result):(l=d,n.charCodeAt(d)===43?(E=Sr,d++):(E=r,hr===0&&vr(Or)),E===r&&(E=jr),E!==r?(It=d,zn=wi(),zn!==r?(n.charCodeAt(d)===46?(Qn=ar,d++):(Qn=r,hr===0&&vr(lr)),Qn!==r?(ir=wi(),ir!==r?(zn=[zn,Qn,ir],It=zn):(d=It,It=m)):(d=It,It=m)):(d=It,It=m),It!==r?(Tr=l,E=_r(It),l=E):(d=l,l=m)):(d=l,l=m),l===r&&(l=d,n.charCodeAt(d)===45?(E=Pr,d++):(E=r,hr===0&&vr(Mr)),E!==r?(It=d,zn=wi(),zn!==r?(n.charCodeAt(d)===46?(Qn=ar,d++):(Qn=r,hr===0&&vr(lr)),Qn!==r?(ir=wi(),ir!==r?(zn=[zn,Qn,ir],It=zn):(d=It,It=m)):(d=It,It=m)):(d=It,It=m),It!==r?(Tr=l,E=si(It),l=E):(d=l,l=m)):(d=l,l=m)),dr[cr]={nextPos:d,result:l},l)}function Ca(){var l,E,It=d*49+25,zn=dr[It];return zn?(d=zn.nextPos,zn.result):(l=d,E=Ri(),E!==r&&(Tr=l,E=Zr(E)),l=E,dr[It]={nextPos:d,result:l},l)}function Ri(){var l,E,It,zn,Qn,ir=d*49+26,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;if(l=d,n.charCodeAt(d)===43?(E=Sr,d++):(E=r,hr===0&&vr(Or)),E===r&&(E=jr),E!==r){if(It=[],zn=Dr(),zn!==r)for(;zn!==r;)It.push(zn),zn=Dr();else It=m;It!==r?(zn=d,hr++,n.charCodeAt(d)===46?(Qn=ar,d++):(Qn=r,hr===0&&vr(lr)),hr--,Qn===r?zn=Wn:(d=zn,zn=m),zn!==r?(Tr=l,E=_r(It),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;if(l===r)if(l=d,n.charCodeAt(d)===45?(E=Pr,d++):(E=r,hr===0&&vr(Mr)),E!==r){if(It=[],zn=Dr(),zn!==r)for(;zn!==r;)It.push(zn),zn=Dr();else It=m;It!==r?(zn=d,hr++,n.charCodeAt(d)===46?(Qn=ar,d++):(Qn=r,hr===0&&vr(lr)),hr--,Qn===r?zn=Wn:(d=zn,zn=m),zn!==r?(Tr=l,E=si(It),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;return dr[ir]={nextPos:d,result:l},l}function Ra(){var l,E,It=d*49+27,zn=dr[It];return zn?(d=zn.nextPos,zn.result):(l=d,n.substr(d,4)===oi?(E=oi,d+=4):(E=r,hr===0&&vr(Ti)),E!==r&&(Tr=l,E=To()),l=E,l===r&&(l=d,n.substr(d,5)===ji?(E=ji,d+=5):(E=r,hr===0&&vr(Oo)),E!==r&&(Tr=l,E=$o()),l=E),dr[It]={nextPos:d,result:l},l)}function Pa(){var l,E,It,zn,Qn,ir=d*49+28,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;if(l=d,n.charCodeAt(d)===91?(E=Yn,d++):(E=r,hr===0&&vr(Rn)),E!==r){for(It=[],zn=ui();zn!==r;)It.push(zn),zn=ui();It!==r?(n.charCodeAt(d)===93?(zn=rr,d++):(zn=r,hr===0&&vr(Jn)),zn!==r?(Tr=l,E=Io(),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;if(l===r&&(l=d,n.charCodeAt(d)===91?(E=Yn,d++):(E=r,hr===0&&vr(Rn)),E!==r?(It=po(),It===r&&(It=jr),It!==r?(n.charCodeAt(d)===93?(zn=rr,d++):(zn=r,hr===0&&vr(Jn)),zn!==r?(Tr=l,E=Co(It),l=E):(d=l,l=m)):(d=l,l=m)):(d=l,l=m),l===r)){if(l=d,n.charCodeAt(d)===91?(E=Yn,d++):(E=r,hr===0&&vr(Rn)),E!==r){if(It=[],zn=Ai(),zn!==r)for(;zn!==r;)It.push(zn),zn=Ai();else It=m;It!==r?(n.charCodeAt(d)===93?(zn=rr,d++):(zn=r,hr===0&&vr(Jn)),zn!==r?(Tr=l,E=Ro(It),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;if(l===r)if(l=d,n.charCodeAt(d)===91?(E=Yn,d++):(E=r,hr===0&&vr(Rn)),E!==r){if(It=[],zn=Ai(),zn!==r)for(;zn!==r;)It.push(zn),zn=Ai();else It=m;It!==r?(zn=po(),zn!==r?(n.charCodeAt(d)===93?(Qn=rr,d++):(Qn=r,hr===0&&vr(Jn)),Qn!==r?(Tr=l,E=Po(It,zn),l=E):(d=l,l=m)):(d=l,l=m)):(d=l,l=m)}else d=l,l=m}return dr[ir]={nextPos:d,result:l},l}function po(){var l,E,It,zn,Qn,ir=d*49+29,cr=dr[ir];if(cr)return d=cr.nextPos,cr.result;for(l=d,E=[],It=ui();It!==r;)E.push(It),It=ui();if(E!==r)if(It=gi(),It!==r){for(zn=[],Qn=ui();Qn!==r;)zn.push(Qn),Qn=ui();zn!==r?(Tr=l,E=Ni(It),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m;return dr[ir]={nextPos:d,result:l},l}function Ai(){var l,E,It,zn,Qn,ir,cr,xr=d*49+30,Cr=dr[xr];if(Cr)return d=Cr.nextPos,Cr.result;for(l=d,E=[],It=ui();It!==r;)E.push(It),It=ui();if(E!==r)if(It=gi(),It!==r){for(zn=[],Qn=ui();Qn!==r;)zn.push(Qn),Qn=ui();if(zn!==r)if(n.charCodeAt(d)===44?(Qn=Ui,d++):(Qn=r,hr===0&&vr(Fi)),Qn!==r){for(ir=[],cr=ui();cr!==r;)ir.push(cr),cr=ui();ir!==r?(Tr=l,E=Ni(It),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m;return dr[xr]={nextPos:d,result:l},l}function ui(){var l,E=d*49+31,It=dr[E];return It?(d=It.nextPos,It.result):(l=Ar(),l===r&&(l=hi(),l===r&&(l=Ei())),dr[E]={nextPos:d,result:l},l)}function La(){var l,E,It,zn,Qn,ir,cr=d*49+32,xr=dr[cr];if(xr)return d=xr.nextPos,xr.result;if(l=d,n.charCodeAt(d)===123?(E=Lo,d++):(E=r,hr===0&&vr(jo)),E!==r){for(It=[],zn=Ar();zn!==r;)It.push(zn),zn=Ar();if(It!==r){for(zn=[],Qn=go();Qn!==r;)zn.push(Qn),Qn=go();if(zn!==r){for(Qn=[],ir=Ar();ir!==r;)Qn.push(ir),ir=Ar();Qn!==r?(n.charCodeAt(d)===125?(ir=No,d++):(ir=r,hr===0&&vr(Uo)),ir!==r?(Tr=l,E=Fo(zn),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m}else d=l,l=m}else d=l,l=m;return dr[cr]={nextPos:d,result:l},l}function go(){var l,E,It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr=d*49+33,zr=dr[Kr];if(zr)return d=zr.nextPos,zr.result;for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=ki(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();if(zn!==r)if(n.charCodeAt(d)===61?(Qn=mr,d++):(Qn=r,hr===0&&vr(br)),Qn!==r){for(ir=[],cr=Ar();cr!==r;)ir.push(cr),cr=Ar();if(ir!==r)if(cr=gi(),cr!==r){for(xr=[],Cr=Ar();Cr!==r;)xr.push(Cr),Cr=Ar();if(xr!==r)if(n.charCodeAt(d)===44?(Cr=Ui,d++):(Cr=r,hr===0&&vr(Fi)),Cr!==r){for(qr=[],Fr=Ar();Fr!==r;)qr.push(Fr),Fr=Ar();qr!==r?(Tr=l,E=Di(It,cr),l=E):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m;if(l===r){for(l=d,E=[],It=Ar();It!==r;)E.push(It),It=Ar();if(E!==r)if(It=ki(),It!==r){for(zn=[],Qn=Ar();Qn!==r;)zn.push(Qn),Qn=Ar();if(zn!==r)if(n.charCodeAt(d)===61?(Qn=mr,d++):(Qn=r,hr===0&&vr(br)),Qn!==r){for(ir=[],cr=Ar();cr!==r;)ir.push(cr),cr=Ar();ir!==r?(cr=gi(),cr!==r?(Tr=l,E=Di(It,cr),l=E):(d=l,l=m)):(d=l,l=m)}else d=l,l=m;else d=l,l=m}else d=l,l=m;else d=l,l=m}return dr[Kr]={nextPos:d,result:l},l}function mo(){var l,E,It,zn=d*49+34,Qn=dr[zn];return Qn?(d=Qn.nextPos,Qn.result):(l=d,n.charCodeAt(d)===46?(E=ar,d++):(E=r,hr===0&&vr(lr)),E!==r?(It=wi(),It!==r?(Tr=l,E=Do(It),l=E):(d=l,l=m)):(d=l,l=m),dr[zn]={nextPos:d,result:l},l)}function yo(){var l,E,It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr,zr=d*49+35,$s=dr[zr];return $s?(d=$s.nextPos,$s.result):(l=d,E=d,It=Dr(),It!==r?(zn=Dr(),zn!==r?(Qn=Dr(),Qn!==r?(ir=Dr(),ir!==r?(n.charCodeAt(d)===45?(cr=Pr,d++):(cr=r,hr===0&&vr(Mr)),cr!==r?(xr=Dr(),xr!==r?(Cr=Dr(),Cr!==r?(n.charCodeAt(d)===45?(qr=Pr,d++):(qr=r,hr===0&&vr(Mr)),qr!==r?(Fr=Dr(),Fr!==r?(Kr=Dr(),Kr!==r?(It=[It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr],E=It):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m),E!==r&&(Tr=l,E=Mo(E)),l=E,dr[zr]={nextPos:d,result:l},l)}function ja(){var l,E,It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr=d*49+36,zr=dr[Kr];return zr?(d=zr.nextPos,zr.result):(l=d,E=d,It=Dr(),It!==r?(zn=Dr(),zn!==r?(n.charCodeAt(d)===58?(Qn=yi,d++):(Qn=r,hr===0&&vr(vi)),Qn!==r?(ir=Dr(),ir!==r?(cr=Dr(),cr!==r?(n.charCodeAt(d)===58?(xr=yi,d++):(xr=r,hr===0&&vr(vi)),xr!==r?(Cr=Dr(),Cr!==r?(qr=Dr(),qr!==r?(Fr=mo(),Fr===r&&(Fr=jr),Fr!==r?(It=[It,zn,Qn,ir,cr,xr,Cr,qr,Fr],E=It):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m),E!==r&&(Tr=l,E=Mi(E)),l=E,dr[Kr]={nextPos:d,result:l},l)}function Na(){var l,E,It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr,zr,$s,mi,pi,ei,xo=d*49+37,Li=dr[xo];return Li?(d=Li.nextPos,Li.result):(l=d,E=d,It=Dr(),It!==r?(zn=Dr(),zn!==r?(n.charCodeAt(d)===58?(Qn=yi,d++):(Qn=r,hr===0&&vr(vi)),Qn!==r?(ir=Dr(),ir!==r?(cr=Dr(),cr!==r?(n.charCodeAt(d)===58?(xr=yi,d++):(xr=r,hr===0&&vr(vi)),xr!==r?(Cr=Dr(),Cr!==r?(qr=Dr(),qr!==r?(Fr=mo(),Fr===r&&(Fr=jr),Fr!==r?(n.charCodeAt(d)===45?(Kr=Pr,d++):(Kr=r,hr===0&&vr(Mr)),Kr===r&&(n.charCodeAt(d)===43?(Kr=Sr,d++):(Kr=r,hr===0&&vr(Or))),Kr!==r?(zr=Dr(),zr!==r?($s=Dr(),$s!==r?(n.charCodeAt(d)===58?(mi=yi,d++):(mi=r,hr===0&&vr(vi)),mi!==r?(pi=Dr(),pi!==r?(ei=Dr(),ei!==r?(It=[It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr,zr,$s,mi,pi,ei],E=It):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m)):(d=E,E=m),E!==r&&(Tr=l,E=Mi(E)),l=E,dr[xo]={nextPos:d,result:l},l)}function Ua(){var l,E,It,zn,Qn,ir=d*49+38,cr=dr[ir];return cr?(d=cr.nextPos,cr.result):(l=d,E=yo(),E!==r?(n.charCodeAt(d)===84?(It=qi,d++):(It=r,hr===0&&vr(Hi)),It!==r?(zn=ja(),zn!==r?(n.charCodeAt(d)===90?(Qn=qo,d++):(Qn=r,hr===0&&vr(Ho)),Qn!==r?(Tr=l,E=Bo(E,zn),l=E):(d=l,l=m)):(d=l,l=m)):(d=l,l=m)):(d=l,l=m),l===r&&(l=d,E=yo(),E!==r?(n.charCodeAt(d)===84?(It=qi,d++):(It=r,hr===0&&vr(Hi)),It!==r?(zn=Na(),zn!==r?(Tr=l,E=Ko(E,zn),l=E):(d=l,l=m)):(d=l,l=m)):(d=l,l=m)),dr[ir]={nextPos:d,result:l},l)}function Ar(){var l,E=d*49+39,It=dr[E];return It?(d=It.nextPos,It.result):(zo.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,hr===0&&vr(Xo)),dr[E]={nextPos:d,result:l},l)}function hi(){var l,E,It,zn=d*49+40,Qn=dr[zn];return Qn?(d=Qn.nextPos,Qn.result):(n.charCodeAt(d)===10?(l=Bi,d++):(l=r,hr===0&&vr(Ki)),l===r&&(l=d,n.charCodeAt(d)===13?(E=Go,d++):(E=r,hr===0&&vr(Wo)),E!==r?(n.charCodeAt(d)===10?(It=Bi,d++):(It=r,hr===0&&vr(Ki)),It!==r?(E=[E,It],l=E):(d=l,l=m)):(d=l,l=m)),dr[zn]={nextPos:d,result:l},l)}function vo(){var l,E=d*49+41,It=dr[E];return It?(d=It.nextPos,It.result):(l=hi(),l===r&&(l=Ar()),dr[E]={nextPos:d,result:l},l)}function _i(){var l,E,It=d*49+42,zn=dr[It];return zn?(d=zn.nextPos,zn.result):(l=d,hr++,n.length>d?(E=n.charAt(d),d++):(E=r,hr===0&&vr(xn)),hr--,E===r?l=Wn:(d=l,l=m),dr[It]={nextPos:d,result:l},l)}function di(){var l,E=d*49+43,It=dr[E];return It?(d=It.nextPos,It.result):(Vo.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,hr===0&&vr(Jo)),dr[E]={nextPos:d,result:l},l)}function Dr(){var l,E,It=d*49+44,zn=dr[It];return zn?(d=zn.nextPos,zn.result):(Yo.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,hr===0&&vr(Qo)),l===r&&(l=d,n.charCodeAt(d)===95?(E=Zo,d++):(E=r,hr===0&&vr(ea)),E!==r&&(Tr=l,E=ta()),l=E),dr[It]={nextPos:d,result:l},l)}function bo(){var l,E=d*49+45,It=dr[E];return It?(d=It.nextPos,It.result):(na.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,hr===0&&vr(ra)),dr[E]={nextPos:d,result:l},l)}function wi(){var l,E,It,zn=d*49+46,Qn=dr[zn];if(Qn)return d=Qn.nextPos,Qn.result;if(l=d,E=[],It=Dr(),It!==r)for(;It!==r;)E.push(It),It=Dr();else E=m;return E!==r&&(Tr=l,E=sa(E)),l=E,dr[zn]={nextPos:d,result:l},l}function ko(){var l,E,It=d*49+47,zn=dr[It];return zn?(d=zn.nextPos,zn.result):(l=d,n.substr(d,2)===zi?(E=zi,d+=2):(E=r,hr===0&&vr(ia)),E!==r&&(Tr=l,E=oa()),l=E,l===r&&(l=d,n.substr(d,2)===Xi?(E=Xi,d+=2):(E=r,hr===0&&vr(aa)),E!==r&&(Tr=l,E=la()),l=E,l===r&&(l=d,n.substr(d,2)===Gi?(E=Gi,d+=2):(E=r,hr===0&&vr(ca)),E!==r&&(Tr=l,E=ua()),l=E,l===r&&(l=d,n.substr(d,2)===Wi?(E=Wi,d+=2):(E=r,hr===0&&vr(fa)),E!==r&&(Tr=l,E=ha()),l=E,l===r&&(l=d,n.substr(d,2)===Vi?(E=Vi,d+=2):(E=r,hr===0&&vr(da)),E!==r&&(Tr=l,E=pa()),l=E,l===r&&(l=d,n.substr(d,2)===Ji?(E=Ji,d+=2):(E=r,hr===0&&vr(ga)),E!==r&&(Tr=l,E=ma()),l=E,l===r&&(l=d,n.substr(d,2)===Yi?(E=Yi,d+=2):(E=r,hr===0&&vr(ya)),E!==r&&(Tr=l,E=va()),l=E,l===r&&(l=Fa()))))))),dr[It]={nextPos:d,result:l},l)}function Fa(){var l,E,It,zn,Qn,ir,cr,xr,Cr,qr,Fr,Kr=d*49+48,zr=dr[Kr];return zr?(d=zr.nextPos,zr.result):(l=d,n.substr(d,2)===Qi?(E=Qi,d+=2):(E=r,hr===0&&vr(ba)),E!==r?(It=d,zn=di(),zn!==r?(Qn=di(),Qn!==r?(ir=di(),ir!==r?(cr=di(),cr!==r?(xr=di(),xr!==r?(Cr=di(),Cr!==r?(qr=di(),qr!==r?(Fr=di(),Fr!==r?(zn=[zn,Qn,ir,cr,xr,Cr,qr,Fr],It=zn):(d=It,It=m)):(d=It,It=m)):(d=It,It=m)):(d=It,It=m)):(d=It,It=m)):(d=It,It=m)):(d=It,It=m)):(d=It,It=m),It!==r?(Tr=l,E=Zi(It),l=E):(d=l,l=m)):(d=l,l=m),l===r&&(l=d,n.substr(d,2)===eo?(E=eo,d+=2):(E=r,hr===0&&vr(ka)),E!==r?(It=d,zn=di(),zn!==r?(Qn=di(),Qn!==r?(ir=di(),ir!==r?(cr=di(),cr!==r?(zn=[zn,Qn,ir,cr],It=zn):(d=It,It=m)):(d=It,It=m)):(d=It,It=m)):(d=It,It=m),It!==r?(Tr=l,E=Zi(It),l=E):(d=l,l=m)):(d=l,l=m)),dr[Kr]={nextPos:d,result:l},l)}var wo=[];function Da(l,E,It){var zn=new Error(l);throw zn.line=E,zn.column=It,zn}function Pi(l){wo.push(l)}function Qr(l,E,It,zn,Qn){var ir={type:l,value:E,line:It(),column:zn()};return Qn&&(ir.key=Qn),ir}function Ma(l,E,It){var zn=parseInt("0x"+l);if(!isFinite(zn)||Math.floor(zn)!=zn||zn<0||zn>1114111||zn>55295&&zn<57344)Da("Invalid Unicode escape code: "+l,E,It);else return qa(zn)}function qa(){var l=16384,E=[],It,zn,Qn=-1,ir=arguments.length;if(!ir)return"";for(var cr="";++Qn<ir;){var xr=Number(arguments[Qn]);xr<=65535?E.push(xr):(xr-=65536,It=(xr>>10)+55296,zn=xr%1024+56320,E.push(It,zn)),(Qn+1==ir||E.length>l)&&(cr+=String.fromCharCode.apply(null,E),E.length=0)}return cr}if(Si=p(),Si!==r&&d===n.length)return Si;throw Si!==r&&d<n.length&&vr({type:"end",description:"end of input"}),wa(null,$i,xi)}return{SyntaxError:e,parse:t}}();function li(i){var e=[],t=[],n="",s=Object.create(null),r=s;return c(i);function c(Jn){for(var Hn,Zn=0;Zn<Jn.length;Zn++)switch(Hn=Jn[Zn],Hn.type){case"Assign":f(Hn);break;case"ObjectPath":Wn(Hn);break;case"ArrayPath":xn(Hn);break}return s}function p(Jn,Hn,Zn){var tr=new Error(Jn);throw tr.line=Hn,tr.column=Zn,tr}function f(Jn){var Hn=Jn.key,Zn=Jn.value,tr=Jn.line,nr=Jn.column,sr;n?sr=n+"."+Hn:sr=Hn,typeof r[Hn]!="undefined"&&p("Cannot redefine existing key '"+sr+"'.",tr,nr),r[Hn]=Xn(Zn),m(sr)||(e.push(sr),t.push(sr))}function m(Jn){return e.indexOf(Jn)!==-1}function Xn(Jn){return Jn.type==="Array"?Rn(Jn.value):Jn.type==="InlineTable"?Gn(Jn.value):Jn.value}function Gn(Jn){for(var Hn=Object.create(null),Zn=0;Zn<Jn.length;Zn++){var tr=Jn[Zn];tr.value.type==="InlineTable"?Hn[tr.key]=Gn(tr.value.value):tr.type==="InlineTableValue"&&(Hn[tr.key]=Xn(tr.value))}return Hn}function Wn(Jn){var Hn=Jn.value,Zn=Hn.map(rr).join("."),tr=Jn.line,nr=Jn.column;m(Zn)&&p("Cannot redefine existing key '"+Hn+"'.",tr,nr),e.push(Zn),r=Yn(s,Hn,Object.create(null),tr,nr),n=Hn}function xn(Jn){var Hn=Jn.value,Zn=Hn.map(rr).join("."),tr=Jn.line,nr=Jn.column;if(m(Zn)||e.push(Zn),e=e.filter(function(ar){return ar.indexOf(Zn)!==0}),e.push(Zn),r=Yn(s,Hn,[],tr,nr),n=Zn,r instanceof Array){var sr=Object.create(null);r.push(sr),r=sr}else p("Cannot redefine existing key '"+Hn+"'.",tr,nr)}function Yn(Jn,Hn,Zn,tr,nr){var sr=[],ar="";Hn.join(".");for(var lr=Jn,mr=0;mr<Hn.length;mr++){var br=Hn[mr];sr.push(br),ar=sr.join("."),typeof lr[br]=="undefined"?mr===Hn.length-1?lr[br]=Zn:lr[br]=Object.create(null):mr!==Hn.length-1&&t.indexOf(ar)>-1&&p("Cannot redefine existing key '"+ar+"'.",tr,nr),lr=lr[br],lr instanceof Array&&lr.length&&mr<Hn.length-1&&(lr=lr[lr.length-1])}return lr}function Rn(Jn){for(var Hn=null,Zn=0;Zn<Jn.length;Zn++){var tr=Jn[Zn];Hn===null?Hn=tr.type:tr.type!==Hn&&p("Cannot add value of type "+tr.type+" to array of type "+Hn+".",tr.line,tr.column)}return Jn.map(Xn)}function rr(Jn){return Jn.indexOf(".")>-1?'"'+Jn+'"':Jn}}var fi={compile:li},ni=ti,ai=fi,Fs$1={parse:function(i){var e=ni.parse(i.toString());return ai.compile(e)}};const ci=ii({__proto__:null,default:Fs$1},[Fs$1]),index_402d4691=Object.freeze(Object.defineProperty({__proto__:null,i:ci},Symbol.toStringTag,{value:"Module"}));var Ze=(i,e,t)=>new Promise((n,s)=>{var r=f=>{try{p(t.next(f))}catch(m){s(m)}},c=f=>{try{p(t.throw(f))}catch(m){s(m)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(r,c);p((t=t.apply(i,e)).next())});const ut=Symbol.for("yaml.alias"),ot=Symbol.for("yaml.document"),Y=Symbol.for("yaml.map"),Dt=Symbol.for("yaml.pair"),V=Symbol.for("yaml.scalar"),fe=Symbol.for("yaml.seq"),K=Symbol.for("yaml.node.type"),x=i=>!!i&&typeof i=="object"&&i[K]===ut,Ne=i=>!!i&&typeof i=="object"&&i[K]===ot,ee=i=>!!i&&typeof i=="object"&&i[K]===Y,I=i=>!!i&&typeof i=="object"&&i[K]===Dt,A=i=>!!i&&typeof i=="object"&&i[K]===V,ue=i=>!!i&&typeof i=="object"&&i[K]===fe;function L(i){if(i&&typeof i=="object")switch(i[K]){case Y:case fe:return!0}return!1}function T(i){if(i&&typeof i=="object")switch(i[K]){case ut:case Y:case V:case fe:return!0}return!1}const _s=i=>(A(i)||L(i))&&!!i.anchor;class ht{constructor(e){Object.defineProperty(this,K,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const v=Symbol("break visit"),qt=Symbol("skip children"),F=Symbol("remove node");function G(i,e){const t=Ft(e);Ne(i)?ie(null,i.contents,t,Object.freeze([i]))===F&&(i.contents=null):ie(null,i,t,Object.freeze([]))}G.BREAK=v,G.SKIP=qt,G.REMOVE=F;function ie(i,e,t,n){const s=Ut(i,e,t,n);if(T(s)||I(s))return Rt(i,n,s),ie(i,s,t,n);if(typeof s!="symbol"){if(L(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const c=ie(r,e.items[r],t,n);if(typeof c=="number")r=c-1;else{if(c===v)return v;c===F&&(e.items.splice(r,1),r-=1)}}}else if(I(e)){n=Object.freeze(n.concat(e));const r=ie("key",e.key,t,n);if(r===v)return v;r===F&&(e.key=null);const c=ie("value",e.value,t,n);if(c===v)return v;c===F&&(e.value=null)}}return s}function Ke(i,e){return Ze(this,null,function*(){const t=Ft(e);Ne(i)?(yield re(null,i.contents,t,Object.freeze([i])))===F&&(i.contents=null):yield re(null,i,t,Object.freeze([]))})}Ke.BREAK=v,Ke.SKIP=qt,Ke.REMOVE=F;function re(i,e,t,n){return Ze(this,null,function*(){const s=yield Ut(i,e,t,n);if(T(s)||I(s))return Rt(i,n,s),re(i,s,t,n);if(typeof s!="symbol"){if(L(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const c=yield re(r,e.items[r],t,n);if(typeof c=="number")r=c-1;else{if(c===v)return v;c===F&&(e.items.splice(r,1),r-=1)}}}else if(I(e)){n=Object.freeze(n.concat(e));const r=yield re("key",e.key,t,n);if(r===v)return v;r===F&&(e.key=null);const c=yield re("value",e.value,t,n);if(c===v)return v;c===F&&(e.value=null)}}return s})}function Ft(i){return typeof i=="object"&&(i.Collection||i.Node||i.Value)?Object.assign({Alias:i.Node,Map:i.Node,Scalar:i.Node,Seq:i.Node},i.Value&&{Map:i.Value,Scalar:i.Value,Seq:i.Value},i.Collection&&{Map:i.Collection,Seq:i.Collection},i):i}function Ut(i,e,t,n){var s,r,c,p,f;if(typeof t=="function")return t(i,e,n);if(ee(e))return(s=t.Map)==null?void 0:s.call(t,i,e,n);if(ue(e))return(r=t.Seq)==null?void 0:r.call(t,i,e,n);if(I(e))return(c=t.Pair)==null?void 0:c.call(t,i,e,n);if(A(e))return(p=t.Scalar)==null?void 0:p.call(t,i,e,n);if(x(e))return(f=t.Alias)==null?void 0:f.call(t,i,e,n)}function Rt(i,e,t){const n=e[e.length-1];if(L(n))n.items[i]=t;else if(I(n))i==="key"?n.key=t:n.value=t;else if(Ne(n))n.contents=t;else{const s=x(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Cs={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},vs=i=>i.replace(/[!,[\]{}]/g,e=>Cs[e]);class C{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},C.defaultYaml,e),this.tags=Object.assign({},C.defaultTags,t)}clone(){const e=new C(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new C(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:C.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},C.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:C.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},C.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[r,c]=n;return this.tags[r]=c,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const c=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,c),!1}}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const c=e.slice(2,-1);return c==="!"||c==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),c)}const[,n,s]=e.match(/^(.*!)([^!]*)$/);s||t(`The ${e} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(s):n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+vs(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&T(e.contents)){const r={};G(e.contents,(c,p)=>{T(p)&&p.tag&&(r[p.tag]=!0)}),s=Object.keys(r)}else s=[];for(const[r,c]of n)r==="!!"&&c==="tag:yaml.org,2002:"||(!e||s.some(p=>p.startsWith(c)))&&t.push(`%TAG ${r} ${c}`);return t.join(`
`)}}C.defaultYaml={explicit:!1,version:"1.2"},C.defaultTags={"!!":"tag:yaml.org,2002:"};function Vt(i){if(/[\x00-\x19\s,[\]{}]/.test(i)){const e=`Anchor must not contain whitespace or control characters: ${JSON.stringify(i)}`;throw new Error(e)}return!0}function Jt(i){const e=new Set;return G(i,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function Yt(i,e){for(let t=1;;++t){const n=`${i}${t}`;if(!e.has(n))return n}}function Bs(i,e){const t=[],n=new Map;let s=null;return{onAnchor:r=>{t.push(r),s||(s=Jt(i));const c=Yt(e,s);return s.add(c),c},setAnchors:()=>{for(const r of t){const c=n.get(r);if(typeof c=="object"&&c.anchor&&(A(c.node)||L(c.node)))c.node.anchor=c.anchor;else{const p=new Error("Failed to resolve repeated object (this should not happen)");throw p.source=r,p}}},sourceObjects:n}}class De extends ht{constructor(e){super(ut),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return G(e,{Node:(n,s)=>{if(s===this)return G.BREAK;s.anchor===this.source&&(t=s)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=t,c=this.resolve(s);if(!c){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}const p=n.get(c);if(!p||p.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(r>=0&&(p.count+=1,p.aliasCount===0&&(p.aliasCount=$e(s,c,n)),p.count*p.aliasCount>r)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return p.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(Vt(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${s} `}return s}}function $e(i,e,t){if(x(e)){const n=e.resolve(i),s=t&&n&&t.get(n);return s?s.count*s.aliasCount:0}else if(L(e)){let n=0;for(const s of e.items){const r=$e(i,s,t);r>n&&(n=r)}return n}else if(I(e)){const n=$e(i,e.key,t),s=$e(i,e.value,t);return Math.max(n,s)}return 1}function U(i,e,t){if(Array.isArray(i))return i.map((n,s)=>U(n,String(s),t));if(i&&typeof i.toJSON=="function"){if(!t||!_s(i))return i.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(i,n),t.onCreate=r=>{n.res=r,delete t.onCreate};const s=i.toJSON(e,t);return t.onCreate&&t.onCreate(s),s}return typeof i=="bigint"&&!(t!=null&&t.keep)?Number(i):i}const Gt=i=>!i||typeof i!="function"&&typeof i!="object";class O extends ht{constructor(e){super(V),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:U(this.value,e,t)}toString(){return String(this.value)}}O.BLOCK_FOLDED="BLOCK_FOLDED",O.BLOCK_LITERAL="BLOCK_LITERAL",O.PLAIN="PLAIN",O.QUOTE_DOUBLE="QUOTE_DOUBLE",O.QUOTE_SINGLE="QUOTE_SINGLE";const Ms="tag:yaml.org,2002:";function Ps(i,e,t){var n;if(e){const s=t.filter(c=>c.tag===e),r=(n=s.find(c=>!c.format))!=null?n:s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(s=>{var r;return((r=s.identify)==null?void 0:r.call(s,i))&&!s.format})}function we(i,e,t){var n,s;if(Ne(i)&&(i=i.contents),T(i))return i;if(I(i)){const xn=(s=(n=t.schema[Y]).createNode)==null?void 0:s.call(n,t.schema,null,t);return xn.items.push(i),xn}(i instanceof String||i instanceof Number||i instanceof Boolean||typeof BigInt!="undefined"&&i instanceof BigInt)&&(i=i.valueOf());const{aliasDuplicateObjects:r,onAnchor:c,onTagObj:p,schema:f,sourceObjects:m}=t;let Xn;if(r&&i&&typeof i=="object"){if(Xn=m.get(i),Xn)return Xn.anchor||(Xn.anchor=c(i)),new De(Xn.anchor);Xn={anchor:null,node:null},m.set(i,Xn)}e!=null&&e.startsWith("!!")&&(e=Ms+e.slice(2));let Gn=Ps(i,e,f.tags);if(!Gn){if(i&&typeof i.toJSON=="function"&&(i=i.toJSON()),!i||typeof i!="object"){const xn=new O(i);return Xn&&(Xn.node=xn),xn}Gn=i instanceof Map?f[Y]:Symbol.iterator in Object(i)?f[fe]:f[Y]}p&&(p(Gn),delete t.onTagObj);const Wn=Gn!=null&&Gn.createNode?Gn.createNode(t.schema,i,t):new O(i);return e&&(Wn.tag=e),Xn&&(Xn.node=Wn),Wn}function Be(i,e,t){let n=t;for(let s=e.length-1;s>=0;--s){const r=e[s];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const c=[];c[r]=n,n=c}else n=new Map([[r,n]])}return we(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:i,sourceObjects:new Map})}const ye=i=>i==null||typeof i=="object"&&!!i[Symbol.iterator]().next().done;class qe extends ht{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>T(n)||I(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(ye(e))this.add(t);else{const[n,...s]=e,r=this.get(n,!0);if(L(r))r.addIn(s,t);else if(r===void 0&&this.schema)this.set(n,Be(this.schema,s,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const s=this.get(t,!0);if(L(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,r=this.get(n,!0);return s.length===0?!t&&A(r)?r.value:r:L(r)?r.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!I(t))return!1;const n=t.value;return n==null||e&&A(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const s=this.get(t,!0);return L(s)?s.hasIn(n):!1}setIn(e,t){const[n,...s]=e;if(s.length===0)this.set(n,t);else{const r=this.get(n,!0);if(L(r))r.setIn(s,t);else if(r===void 0&&this.schema)this.set(n,Be(this.schema,s,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}}qe.maxFlowStringSingleLineLength=60;const js=i=>i.replace(/^(?!$)(?: $)?/gm,"#");function R(i,e){return/^\n+$/.test(i)?i.substring(1):e?i.replace(/^(?! *$)/gm,e):i}const J=(i,e,t)=>i.endsWith(`
`)?R(t,e):t.includes(`
`)?`
`+R(t,e):(i.endsWith(" ")?"":" ")+t,Qt="flow",lt="block",_e="quoted";function Fe(i,e,t="flow",{indentAtStart:n,lineWidth:s=80,minContentWidth:r=20,onFold:c,onOverflow:p}={}){if(!s||s<0)return i;const f=Math.max(1+r,1+s-e.length);if(i.length<=f)return i;const m=[],Xn={};let Gn=s-e.length;typeof n=="number"&&(n>s-Math.max(2,r)?m.push(0):Gn=s-n);let Wn,xn,Yn=!1,Rn=-1,rr=-1,Jn=-1;t===lt&&(Rn=Lt(i,Rn),Rn!==-1&&(Gn=Rn+f));for(let Zn;Zn=i[Rn+=1];){if(t===_e&&Zn==="\\"){switch(rr=Rn,i[Rn+1]){case"x":Rn+=3;break;case"u":Rn+=5;break;case"U":Rn+=9;break;default:Rn+=1}Jn=Rn}if(Zn===`
`)t===lt&&(Rn=Lt(i,Rn)),Gn=Rn+f,Wn=void 0;else{if(Zn===" "&&xn&&xn!==" "&&xn!==`
`&&xn!=="	"){const tr=i[Rn+1];tr&&tr!==" "&&tr!==`
`&&tr!=="	"&&(Wn=Rn)}if(Rn>=Gn)if(Wn)m.push(Wn),Gn=Wn+f,Wn=void 0;else if(t===_e){for(;xn===" "||xn==="	";)xn=Zn,Zn=i[Rn+=1],Yn=!0;const tr=Rn>Jn+1?Rn-2:rr-1;if(Xn[tr])return i;m.push(tr),Xn[tr]=!0,Gn=tr+f,Wn=void 0}else Yn=!0}xn=Zn}if(Yn&&p&&p(),m.length===0)return i;c&&c();let Hn=i.slice(0,m[0]);for(let Zn=0;Zn<m.length;++Zn){const tr=m[Zn],nr=m[Zn+1]||i.length;tr===0?Hn=`
${e}${i.slice(0,nr)}`:(t===_e&&Xn[tr]&&(Hn+=`${i[tr]}\\`),Hn+=`
${e}${i.slice(tr+1,nr)}`)}return Hn}function Lt(i,e){let t=i[e+1];for(;t===" "||t==="	";){do t=i[e+=1];while(t&&t!==`
`);t=i[e+1]}return e}const Ue=i=>({indentAtStart:i.indentAtStart,lineWidth:i.options.lineWidth,minContentWidth:i.options.minContentWidth}),Re=i=>/^(%|---|\.\.\.)/m.test(i);function Ks(i,e,t){if(!e||e<0)return!1;const n=e-t,s=i.length;if(s<=n)return!1;for(let r=0,c=0;r<s;++r)if(i[r]===`
`){if(r-c>n)return!0;if(c=r+1,s-c<=n)return!1}return!0}function be(i,e){const t=JSON.stringify(i);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,s=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Re(i)?"  ":"");let c="",p=0;for(let f=0,m=t[f];m;m=t[++f])if(m===" "&&t[f+1]==="\\"&&t[f+2]==="n"&&(c+=t.slice(p,f)+"\\ ",f+=1,p=f,m="\\"),m==="\\")switch(t[f+1]){case"u":{c+=t.slice(p,f);const Xn=t.substr(f+2,4);switch(Xn){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:Xn.substr(0,2)==="00"?c+="\\x"+Xn.substr(2):c+=t.substr(f,6)}f+=5,p=f+1}break;case"n":if(n||t[f+2]==='"'||t.length<s)f+=1;else{for(c+=t.slice(p,f)+`

`;t[f+2]==="\\"&&t[f+3]==="n"&&t[f+4]!=='"';)c+=`
`,f+=2;c+=r,t[f+2]===" "&&(c+="\\"),f+=1,p=f+1}break;default:f+=1}return c=p?c+t.slice(p):t,n?c:Fe(c,r,_e,Ue(e))}function at(i,e){if(e.options.singleQuote===!1||e.implicitKey&&i.includes(`
`)||/[ \t]\n|\n[ \t]/.test(i))return be(i,e);const t=e.indent||(Re(i)?"  ":""),n="'"+i.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Fe(n,t,Qt,Ue(e))}function oe(i,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=be;else{const s=i.includes('"'),r=i.includes("'");s&&!r?n=at:r&&!s?n=be:n=t?at:be}return n(i,e)}function Ce({comment:i,type:e,value:t},n,s,r){const{blockQuote:c,commentString:p,lineWidth:f}=n.options;if(!c||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return oe(t,n);const m=n.indent||(n.forceBlockIndent||Re(t)?"  ":""),Xn=c==="literal"?!0:c==="folded"||e===O.BLOCK_FOLDED?!1:e===O.BLOCK_LITERAL?!0:!Ks(t,f,m.length);if(!t)return Xn?`|
`:`>
`;let Gn,Wn;for(Wn=t.length;Wn>0;--Wn){const nr=t[Wn-1];if(nr!==`
`&&nr!=="	"&&nr!==" ")break}let xn=t.substring(Wn);const Yn=xn.indexOf(`
`);Yn===-1?Gn="-":t===xn||Yn!==xn.length-1?(Gn="+",r&&r()):Gn="",xn&&(t=t.slice(0,-xn.length),xn[xn.length-1]===`
`&&(xn=xn.slice(0,-1)),xn=xn.replace(/\n+(?!\n|$)/g,`$&${m}`));let Rn=!1,rr,Jn=-1;for(rr=0;rr<t.length;++rr){const nr=t[rr];if(nr===" ")Rn=!0;else if(nr===`
`)Jn=rr;else break}let Hn=t.substring(0,Jn<rr?Jn+1:rr);Hn&&(t=t.substring(Hn.length),Hn=Hn.replace(/\n+/g,`$&${m}`));let Zn=(Xn?"|":">")+(Rn?m?"2":"1":"")+Gn;if(i&&(Zn+=" "+p(i.replace(/ ?[\r\n]+/g," ")),s&&s()),Xn)return t=t.replace(/\n+/g,`$&${m}`),`${Zn}
${m}${Hn}${t}${xn}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`);const tr=Fe(`${Hn}${t}${xn}`,m,lt,Ue(n));return`${Zn}
${m}${tr}`}function Ds(i,e,t,n){const{type:s,value:r}=i,{actualString:c,implicitKey:p,indent:f,indentStep:m,inFlow:Xn}=e;if(p&&/[\n[\]{},]/.test(r)||Xn&&/[[\]{},]/.test(r))return oe(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return p||Xn||!r.includes(`
`)?oe(r,e):Ce(i,e,t,n);if(!p&&!Xn&&s!==O.PLAIN&&r.includes(`
`))return Ce(i,e,t,n);if(Re(r)){if(f==="")return e.forceBlockIndent=!0,Ce(i,e,t,n);if(p&&f===m)return oe(r,e)}const Gn=r.replace(/\n+/g,`$&
${f}`);if(c){const Wn=Rn=>{var rr;return Rn.default&&Rn.tag!=="tag:yaml.org,2002:str"&&((rr=Rn.test)==null?void 0:rr.test(Gn))},{compat:xn,tags:Yn}=e.doc.schema;if(Yn.some(Wn)||(xn==null?void 0:xn.some(Wn)))return oe(r,e)}return p?Gn:Fe(Gn,f,Qt,Ue(e))}function Oe(i,e,t,n){const{implicitKey:s,inFlow:r}=e,c=typeof i.value=="string"?i:Object.assign({},i,{value:String(i.value)});let{type:p}=i;p!==O.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(c.value)&&(p=O.QUOTE_DOUBLE);const f=Xn=>{switch(Xn){case O.BLOCK_FOLDED:case O.BLOCK_LITERAL:return s||r?oe(c.value,e):Ce(c,e,t,n);case O.QUOTE_DOUBLE:return be(c.value,e);case O.QUOTE_SINGLE:return at(c.value,e);case O.PLAIN:return Ds(c,e,t,n);default:return null}};let m=f(p);if(m===null){const{defaultKeyType:Xn,defaultStringType:Gn}=e.options,Wn=s&&Xn||Gn;if(m=f(Wn),m===null)throw new Error(`Unsupported default string type ${Wn}`)}return m}function Wt(i,e){const t=Object.assign({blockQuote:!0,commentString:js,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},i.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:i,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function qs(i,e){var t,n,s,r;if(e.tag){const f=i.filter(m=>m.tag===e.tag);if(f.length>0)return(t=f.find(m=>m.format===e.format))!=null?t:f[0]}let c,p;if(A(e)){p=e.value;const f=i.filter(m=>{var Xn;return(Xn=m.identify)==null?void 0:Xn.call(m,p)});c=(n=f.find(m=>m.format===e.format))!=null?n:f.find(m=>!m.format)}else p=e,c=i.find(f=>f.nodeClass&&p instanceof f.nodeClass);if(!c){const f=(r=(s=p==null?void 0:p.constructor)==null?void 0:s.name)!=null?r:typeof p;throw new Error(`Tag not resolved for ${f} value`)}return c}function Fs(i,e,{anchors:t,doc:n}){if(!n.directives)return"";const s=[],r=(A(i)||L(i))&&i.anchor;r&&Vt(r)&&(t.add(r),s.push(`&${r}`));const c=i.tag?i.tag:e.default?null:e.tag;return c&&s.push(n.directives.tagString(c)),s.join(" ")}function z(i,e,t,n){var s,r;if(I(i))return i.toString(e,t,n);if(x(i)){if(e.doc.directives)return i.toString(e);if((s=e.resolvedAliases)!=null&&s.has(i))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(i):e.resolvedAliases=new Set([i]),i=i.resolve(e.doc)}let c;const p=T(i)?i:e.doc.createNode(i,{onTagObj:Xn=>c=Xn});c||(c=qs(e.doc.schema.tags,p));const f=Fs(p,c,e);f.length>0&&(e.indentAtStart=((r=e.indentAtStart)!=null?r:0)+f.length+1);const m=typeof c.stringify=="function"?c.stringify(p,e,t,n):A(p)?Oe(p,e,t,n):p.toString(e,t,n);return f?A(p)||m[0]==="{"||m[0]==="["?`${f} ${m}`:`${f}
${e.indent}${m}`:m}function Us({key:i,value:e},t,n,s){var r,c;const{allNullValues:p,doc:f,indent:m,indentStep:Xn,options:{commentString:Gn,indentSeq:Wn,simpleKeys:xn}}=t;let Yn=T(i)&&i.comment||null;if(xn){if(Yn)throw new Error("With simple keys, key nodes cannot have comments");if(L(i)){const mr="With simple keys, collection cannot be used as a key value";throw new Error(mr)}}let Rn=!xn&&(!i||Yn&&e==null&&!t.inFlow||L(i)||(A(i)?i.type===O.BLOCK_FOLDED||i.type===O.BLOCK_LITERAL:typeof i=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!Rn&&(xn||!p),indent:m+Xn});let rr=!1,Jn=!1,Hn=z(i,t,()=>rr=!0,()=>Jn=!0);if(!Rn&&!t.inFlow&&Hn.length>1024){if(xn)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");Rn=!0}if(t.inFlow){if(p||e==null)return rr&&n&&n(),Hn===""?"?":Rn?`? ${Hn}`:Hn}else if(p&&!xn||e==null&&Rn)return Hn=`? ${Hn}`,Yn&&!rr?Hn+=J(Hn,t.indent,Gn(Yn)):Jn&&s&&s(),Hn;rr&&(Yn=null),Rn?(Yn&&(Hn+=J(Hn,t.indent,Gn(Yn))),Hn=`? ${Hn}
${m}:`):(Hn=`${Hn}:`,Yn&&(Hn+=J(Hn,t.indent,Gn(Yn))));let Zn,tr,nr;T(e)?(Zn=!!e.spaceBefore,tr=e.commentBefore,nr=e.comment):(Zn=!1,tr=null,nr=null,e&&typeof e=="object"&&(e=f.createNode(e))),t.implicitKey=!1,!Rn&&!Yn&&A(e)&&(t.indentAtStart=Hn.length+1),Jn=!1,!Wn&&Xn.length>=2&&!t.inFlow&&!Rn&&ue(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let sr=!1;const ar=z(e,t,()=>sr=!0,()=>Jn=!0);let lr=" ";if(Yn||Zn||tr){if(lr=Zn?`
`:"",tr){const mr=Gn(tr);lr+=`
${R(mr,t.indent)}`}ar===""&&!t.inFlow?lr===`
`&&(lr=`

`):lr+=`
${t.indent}`}else if(!Rn&&L(e)){const mr=ar[0],br=ar.indexOf(`
`),Er=br!==-1,Lr=(c=(r=t.inFlow)!=null?r:e.flow)!=null?c:e.items.length===0;if(Er||!Lr){let kr=!1;if(Er&&(mr==="&"||mr==="!")){let gr=ar.indexOf(" ");mr==="&"&&gr!==-1&&gr<br&&ar[gr+1]==="!"&&(gr=ar.indexOf(" ",gr+1)),(gr===-1||br<gr)&&(kr=!0)}kr||(lr=`
${t.indent}`)}}else(ar===""||ar[0]===`
`)&&(lr="");return Hn+=lr+ar,t.inFlow?sr&&n&&n():nr&&!sr?Hn+=J(Hn,t.indent,Gn(nr)):Jn&&s&&s(),Hn}function Ht(i,e){(i==="debug"||i==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const Tt="<<";function Xt(i,e,{key:t,value:n}){if((i==null?void 0:i.doc.schema.merge)&&Rs(t))if(n=x(n)?n.resolve(i.doc):n,ue(n))for(const s of n.items)xe(i,e,s);else if(Array.isArray(n))for(const s of n)xe(i,e,s);else xe(i,e,n);else{const s=U(t,"",i);if(e instanceof Map)e.set(s,U(n,s,i));else if(e instanceof Set)e.add(s);else{const r=Vs(t,s,i),c=U(n,r,i);r in e?Object.defineProperty(e,r,{value:c,writable:!0,enumerable:!0,configurable:!0}):e[r]=c}}return e}const Rs=i=>i===Tt||A(i)&&i.value===Tt&&(!i.type||i.type===O.PLAIN);function xe(i,e,t){const n=i&&x(t)?t.resolve(i.doc):t;if(!ee(n))throw new Error("Merge sources must be maps or map aliases");const s=n.toJSON(null,i,Map);for(const[r,c]of s)e instanceof Map?e.has(r)||e.set(r,c):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:c,writable:!0,enumerable:!0,configurable:!0});return e}function Vs(i,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(T(i)&&t&&t.doc){const n=Wt(t.doc,{});n.anchors=new Set;for(const r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;const s=i.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(s);r.length>40&&(r=r.substring(0,36)+'..."'),Ht(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return s}return JSON.stringify(e)}function dt(i,e,t){const n=we(i,void 0,t),s=we(e,void 0,t);return new _(n,s)}class _{constructor(e,t=null){Object.defineProperty(this,K,{value:Dt}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return T(t)&&(t=t.clone(e)),T(n)&&(n=n.clone(e)),new _(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return Xt(t,n,this)}toString(e,t,n){return e!=null&&e.doc?Us(this,e,t,n):JSON.stringify(this)}}function zt(i,e,t){var n;return(((n=e.inFlow)!=null?n:i.flow)?Ys:Js)(i,e,t)}function Js({comment:i,items:e},t,{blockItemPrefix:n,flowChars:s,itemIndent:r,onChompKeep:c,onComment:p}){const{indent:f,options:{commentString:m}}=t,Xn=Object.assign({},t,{indent:r,type:null});let Gn=!1;const Wn=[];for(let Yn=0;Yn<e.length;++Yn){const Rn=e[Yn];let rr=null;if(T(Rn))!Gn&&Rn.spaceBefore&&Wn.push(""),Me(t,Wn,Rn.commentBefore,Gn),Rn.comment&&(rr=Rn.comment);else if(I(Rn)){const Hn=T(Rn.key)?Rn.key:null;Hn&&(!Gn&&Hn.spaceBefore&&Wn.push(""),Me(t,Wn,Hn.commentBefore,Gn))}Gn=!1;let Jn=z(Rn,Xn,()=>rr=null,()=>Gn=!0);rr&&(Jn+=J(Jn,r,m(rr))),Gn&&rr&&(Gn=!1),Wn.push(n+Jn)}let xn;if(Wn.length===0)xn=s.start+s.end;else{xn=Wn[0];for(let Yn=1;Yn<Wn.length;++Yn){const Rn=Wn[Yn];xn+=Rn?`
${f}${Rn}`:`
`}}return i?(xn+=`
`+R(m(i),f),p&&p()):Gn&&c&&c(),xn}function Ys({comment:i,items:e},t,{flowChars:n,itemIndent:s,onComment:r}){const{indent:c,indentStep:p,flowCollectionPadding:f,options:{commentString:m}}=t;s+=p;const Xn=Object.assign({},t,{indent:s,inFlow:!0,type:null});let Gn=!1,Wn=0;const xn=[];for(let Jn=0;Jn<e.length;++Jn){const Hn=e[Jn];let Zn=null;if(T(Hn))Hn.spaceBefore&&xn.push(""),Me(t,xn,Hn.commentBefore,!1),Hn.comment&&(Zn=Hn.comment);else if(I(Hn)){const nr=T(Hn.key)?Hn.key:null;nr&&(nr.spaceBefore&&xn.push(""),Me(t,xn,nr.commentBefore,!1),nr.comment&&(Gn=!0));const sr=T(Hn.value)?Hn.value:null;sr?(sr.comment&&(Zn=sr.comment),sr.commentBefore&&(Gn=!0)):Hn.value==null&&nr&&nr.comment&&(Zn=nr.comment)}Zn&&(Gn=!0);let tr=z(Hn,Xn,()=>Zn=null);Jn<e.length-1&&(tr+=","),Zn&&(tr+=J(tr,s,m(Zn))),!Gn&&(xn.length>Wn||tr.includes(`
`))&&(Gn=!0),xn.push(tr),Wn=xn.length}let Yn;const{start:Rn,end:rr}=n;if(xn.length===0)Yn=Rn+rr;else if(Gn||(Gn=xn.reduce((Jn,Hn)=>Jn+Hn.length+2,2)>qe.maxFlowStringSingleLineLength),Gn){Yn=Rn;for(const Jn of xn)Yn+=Jn?`
${p}${c}${Jn}`:`
`;Yn+=`
${c}${rr}`}else Yn=`${Rn}${f}${xn.join(" ")}${f}${rr}`;return i&&(Yn+=J(Yn,m(i),c),r&&r()),Yn}function Me({indent:i,options:{commentString:e}},t,n,s){if(n&&s&&(n=n.replace(/^\n+/,"")),n){const r=R(e(n),i);t.push(r.trimStart())}}function H(i,e){const t=A(e)?e.value:e;for(const n of i)if(I(n)&&(n.key===e||n.key===t||A(n.key)&&n.key.value===t))return n}class j extends qe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Y,e),this.items=[]}add(e,t){var n;let s;I(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new _(e,e==null?void 0:e.value):s=new _(e.key,e.value);const r=H(this.items,s.key),c=(n=this.schema)==null?void 0:n.sortMapEntries;if(r){if(!t)throw new Error(`Key ${s.key} already set`);A(r.value)&&Gt(s.value)?r.value.value=s.value:r.value=s.value}else if(c){const p=this.items.findIndex(f=>c(s,f)<0);p===-1?this.items.push(s):this.items.splice(p,0,s)}else this.items.push(s)}delete(e){const t=H(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){var n;const s=H(this.items,e),r=s==null?void 0:s.value;return(n=!t&&A(r)?r.value:r)!=null?n:void 0}has(e){return!!H(this.items,e)}set(e,t){this.add(new _(e,t),!0)}toJSON(e,t,n){const s=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(s);for(const r of this.items)Xt(t,s,r);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!I(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),zt(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}function Gs(i,e,t){const{keepUndefined:n,replacer:s}=t,r=new j(i),c=(p,f)=>{if(typeof s=="function")f=s.call(e,p,f);else if(Array.isArray(s)&&!s.includes(p))return;(f!==void 0||n)&&r.items.push(dt(p,f,t))};if(e instanceof Map)for(const[p,f]of e)c(p,f);else if(e&&typeof e=="object")for(const p of Object.keys(e))c(p,e[p]);return typeof i.sortMapEntries=="function"&&r.items.sort(i.sortMapEntries),r}const he={collection:"map",createNode:Gs,default:!0,nodeClass:j,tag:"tag:yaml.org,2002:map",resolve(i,e){return ee(i)||e("Expected a mapping for this tag"),i}};class te extends qe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(fe,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Ie(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=Ie(e);if(typeof n!="number")return;const s=this.items[n];return!t&&A(s)?s.value:s}has(e){const t=Ie(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=Ie(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];A(s)&&Gt(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let s=0;for(const r of this.items)n.push(U(r,String(s++),t));return n}toString(e,t,n){return e?zt(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function Ie(i){let e=A(i)?i.value:i;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function Qs(i,e,t){const{replacer:n}=t,s=new te(i);if(e&&Symbol.iterator in Object(e)){let r=0;for(let c of e){if(typeof n=="function"){const p=e instanceof Set?c:String(r++);c=n.call(e,p,c)}s.items.push(we(c,void 0,t))}}return s}const de={collection:"seq",createNode:Qs,default:!0,nodeClass:te,tag:"tag:yaml.org,2002:seq",resolve(i,e){return ue(i)||e("Expected a sequence for this tag"),i}},Ve={identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify(i,e,t,n){return e=Object.assign({actualString:!0},e),Oe(i,e,t,n)}},Je={identify:i=>i==null,createNode:()=>new O(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new O(null),stringify:({source:i},e)=>typeof i=="string"&&Je.test.test(i)?i:e.options.nullStr},pt={identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:i=>new O(i[0]==="t"||i[0]==="T"),stringify({source:i,value:e},t){if(i&&pt.test.test(i)){const n=i[0]==="t"||i[0]==="T";if(e===n)return i}return e?t.options.trueStr:t.options.falseStr}};function q({format:i,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);const s=typeof n=="number"?n:Number(n);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let r=JSON.stringify(n);if(!i&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let c=r.indexOf(".");c<0&&(c=r.length,r+=".");let p=e-(r.length-c-1);for(;p-- >0;)r+="0"}return r}const Zt={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:q},xt={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i),stringify(i){const e=Number(i.value);return isFinite(e)?e.toExponential():q(i)}},es={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(i){const e=new O(parseFloat(i)),t=i.indexOf(".");return t!==-1&&i[i.length-1]==="0"&&(e.minFractionDigits=i.length-t-1),e},stringify:q},Ye=i=>typeof i=="bigint"||Number.isInteger(i),mt=(i,e,t,{intAsBigInt:n})=>n?BigInt(i):parseInt(i.substring(e),t);function ts(i,e,t){const{value:n}=i;return Ye(n)&&n>=0?t+n.toString(e):q(i)}const ss={identify:i=>Ye(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(i,e,t)=>mt(i,2,8,t),stringify:i=>ts(i,8,"0o")},ns={identify:Ye,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(i,e,t)=>mt(i,0,10,t),stringify:q},is={identify:i=>Ye(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(i,e,t)=>mt(i,2,16,t),stringify:i=>ts(i,16,"0x")},Ws=[he,de,Ve,Je,pt,ss,ns,is,Zt,xt,es];function $t(i){return typeof i=="bigint"||Number.isInteger(i)}const Le=({value:i})=>JSON.stringify(i),Hs=[{identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify:Le},{identify:i=>i==null,createNode:()=>new O(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Le},{identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:i=>i==="true",stringify:Le},{identify:$t,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(i,e,{intAsBigInt:t})=>t?BigInt(i):parseInt(i,10),stringify:({value:i})=>$t(i)?i.toString():JSON.stringify(i)},{identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:i=>parseFloat(i),stringify:Le}],Xs={default:!0,tag:"",test:/^/,resolve(i,e){return e(`Unresolved plain scalar ${JSON.stringify(i)}`),i}},zs=[he,de].concat(Hs,Xs),yt={identify:i=>i instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(i,e){if(typeof Buffer=="function")return Buffer.from(i,"base64");if(typeof atob=="function"){const t=atob(i.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let s=0;s<t.length;++s)n[s]=t.charCodeAt(s);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),i},stringify({comment:i,type:e,value:t},n,s,r){const c=t;let p;if(typeof Buffer=="function")p=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let m=0;m<c.length;++m)f+=String.fromCharCode(c[m]);p=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=O.BLOCK_LITERAL),e!==O.QUOTE_DOUBLE){const f=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),m=Math.ceil(p.length/f),Xn=new Array(m);for(let Gn=0,Wn=0;Gn<m;++Gn,Wn+=f)Xn[Gn]=p.substr(Wn,f);p=Xn.join(e===O.BLOCK_LITERAL?`
`:" ")}return Oe({comment:i,type:e,value:p},n,s,r)}};function rs(i,e){var t;if(ue(i))for(let n=0;n<i.items.length;++n){let s=i.items[n];if(!I(s)){if(ee(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new _(new O(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
${r.key.commentBefore}`:s.commentBefore),s.comment){const c=(t=r.value)!=null?t:r.key;c.comment=c.comment?`${s.comment}
${c.comment}`:s.comment}s=r}i.items[n]=I(s)?s:new _(s)}}else e("Expected a sequence for this tag");return i}function os(i,e,t){const{replacer:n}=t,s=new te(i);s.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let c of e){typeof n=="function"&&(c=n.call(e,String(r++),c));let p,f;if(Array.isArray(c))if(c.length===2)p=c[0],f=c[1];else throw new TypeError(`Expected [key, value] tuple: ${c}`);else if(c&&c instanceof Object){const m=Object.keys(c);if(m.length===1)p=m[0],f=c[p];else throw new TypeError(`Expected { key: value } tuple: ${c}`)}else p=c;s.items.push(dt(p,f,t))}return s}const gt={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:rs,createNode:os};class le extends te{constructor(){super(),this.add=j.prototype.add.bind(this),this.delete=j.prototype.delete.bind(this),this.get=j.prototype.get.bind(this),this.has=j.prototype.has.bind(this),this.set=j.prototype.set.bind(this),this.tag=le.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const s of this.items){let r,c;if(I(s)?(r=U(s.key,"",t),c=U(s.value,r,t)):r=U(s,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,c)}return n}}le.tag="tag:yaml.org,2002:omap";const bt={collection:"seq",identify:i=>i instanceof Map,nodeClass:le,default:!1,tag:"tag:yaml.org,2002:omap",resolve(i,e){const t=rs(i,e),n=[];for(const{key:s}of t.items)A(s)&&(n.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):n.push(s.value));return Object.assign(new le,t)},createNode(i,e,t){const n=os(i,e,t),s=new le;return s.items=n.items,s}};function ls({value:i,source:e},t){return e&&(i?as:cs).test.test(e)?e:i?t.options.trueStr:t.options.falseStr}const as={identify:i=>i===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new O(!0),stringify:ls},cs={identify:i=>i===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new O(!1),stringify:ls},Zs={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:q},xs={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i.replace(/_/g,"")),stringify(i){const e=Number(i.value);return isFinite(e)?e.toExponential():q(i)}},en={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(i){const e=new O(parseFloat(i.replace(/_/g,""))),t=i.indexOf(".");if(t!==-1){const n=i.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:q},Ae=i=>typeof i=="bigint"||Number.isInteger(i);function Ge(i,e,t,{intAsBigInt:n}){const s=i[0];if((s==="-"||s==="+")&&(e+=1),i=i.substring(e).replace(/_/g,""),n){switch(t){case 2:i=`0b${i}`;break;case 8:i=`0o${i}`;break;case 16:i=`0x${i}`;break}const c=BigInt(i);return s==="-"?BigInt(-1)*c:c}const r=parseInt(i,t);return s==="-"?-1*r:r}function wt(i,e,t){const{value:n}=i;if(Ae(n)){const s=n.toString(e);return n<0?"-"+t+s.substr(1):t+s}return q(i)}const tn={identify:Ae,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(i,e,t)=>Ge(i,2,2,t),stringify:i=>wt(i,2,"0b")},sn={identify:Ae,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(i,e,t)=>Ge(i,1,8,t),stringify:i=>wt(i,8,"0")},nn={identify:Ae,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(i,e,t)=>Ge(i,0,10,t),stringify:q},rn={identify:Ae,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(i,e,t)=>Ge(i,2,16,t),stringify:i=>wt(i,16,"0x")};class ae extends j{constructor(e){super(e),this.tag=ae.tag}add(e){let t;I(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new _(e.key,null):t=new _(e,null),H(this.items,t.key)||this.items.push(t)}get(e,t){const n=H(this.items,e);return!t&&I(n)?A(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=H(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new _(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}ae.tag="tag:yaml.org,2002:set";const St={collection:"map",identify:i=>i instanceof Set,nodeClass:ae,default:!1,tag:"tag:yaml.org,2002:set",resolve(i,e){if(ee(i)){if(i.hasAllNullValues(!0))return Object.assign(new ae,i);e("Set items must all have null values")}else e("Expected a mapping for this tag");return i},createNode(i,e,t){const{replacer:n}=t,s=new ae(i);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof n=="function"&&(r=n.call(e,r,r)),s.items.push(dt(r,null,t));return s}};function kt(i,e){const t=i[0],n=t==="-"||t==="+"?i.substring(1):i,s=c=>e?BigInt(c):Number(c),r=n.replace(/_/g,"").split(":").reduce((c,p)=>c*s(60)+s(p),s(0));return t==="-"?s(-1)*r:r}function fs(i){let{value:e}=i,t=c=>c;if(typeof e=="bigint")t=c=>BigInt(c);else if(isNaN(e)||!isFinite(e))return q(i);let n="";e<0&&(n="-",e*=t(-1));const s=t(60),r=[e%s];return e<60?r.unshift(0):(e=(e-r[0])/s,r.unshift(e%s),e>=60&&(e=(e-r[0])/s,r.unshift(e))),n+r.map(c=>c<10?"0"+String(c):String(c)).join(":").replace(/000000\d*$/,"")}const us={identify:i=>typeof i=="bigint"||Number.isInteger(i),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(i,e,{intAsBigInt:t})=>kt(i,t),stringify:fs},hs={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:i=>kt(i,!1),stringify:fs},Qe={identify:i=>i instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(i){const e=i.match(Qe.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,n,s,r,c,p]=e.map(Number),f=e[7]?Number((e[7]+"00").substr(1,3)):0;let m=Date.UTC(t,n-1,s,r||0,c||0,p||0,f);const Xn=e[8];if(Xn&&Xn!=="Z"){let Gn=kt(Xn,!1);Math.abs(Gn)<30&&(Gn*=60),m-=6e4*Gn}return new Date(m)},stringify:({value:i})=>i.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},_t=[he,de,Ve,Je,as,cs,tn,sn,nn,rn,Zs,xs,en,yt,bt,gt,St,us,hs,Qe],Ct=new Map([["core",Ws],["failsafe",[he,de,Ve]],["json",zs],["yaml11",_t],["yaml-1.1",_t]]),vt={binary:yt,bool:pt,float:es,floatExp:xt,floatNaN:Zt,floatTime:hs,int:ns,intHex:is,intOct:ss,intTime:us,map:he,null:Je,omap:bt,pairs:gt,seq:de,set:St,timestamp:Qe},on={"tag:yaml.org,2002:binary":yt,"tag:yaml.org,2002:omap":bt,"tag:yaml.org,2002:pairs":gt,"tag:yaml.org,2002:set":St,"tag:yaml.org,2002:timestamp":Qe};function et(i,e){let t=Ct.get(e);if(!t)if(Array.isArray(i))t=[];else{const n=Array.from(Ct.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(i))for(const n of i)t=t.concat(n);else typeof i=="function"&&(t=i(t.slice()));return t.map(n=>{if(typeof n!="string")return n;const s=vt[n];if(s)return s;const r=Object.keys(vt).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${r}`)})}const ln=(i,e)=>i.key<e.key?-1:i.key>e.key?1:0;class We{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:r,sortMapEntries:c,toStringDefaults:p}){this.compat=Array.isArray(e)?et(e,"compat"):e?et(null,e):null,this.merge=!!n,this.name=typeof r=="string"&&r||"core",this.knownTags=s?on:{},this.tags=et(t,this.name),this.toStringOptions=p!=null?p:null,Object.defineProperty(this,Y,{value:he}),Object.defineProperty(this,V,{value:Ve}),Object.defineProperty(this,fe,{value:de}),this.sortMapEntries=typeof c=="function"?c:c===!0?ln:null}clone(){const e=Object.create(We.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function an(i,e){var t;const n=[];let s=e.directives===!0;if(e.directives!==!1&&i.directives){const m=i.directives.toString(i);m?(n.push(m),s=!0):i.directives.docStart&&(s=!0)}s&&n.push("---");const r=Wt(i,e),{commentString:c}=r.options;if(i.commentBefore){n.length!==1&&n.unshift("");const m=c(i.commentBefore);n.unshift(R(m,""))}let p=!1,f=null;if(i.contents){if(T(i.contents)){if(i.contents.spaceBefore&&s&&n.push(""),i.contents.commentBefore){const Gn=c(i.contents.commentBefore);n.push(R(Gn,""))}r.forceBlockIndent=!!i.comment,f=i.contents.comment}const m=f?void 0:()=>p=!0;let Xn=z(i.contents,r,()=>f=null,m);f&&(Xn+=J(Xn,"",c(f))),(Xn[0]==="|"||Xn[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${Xn}`:n.push(Xn)}else n.push(z(i.contents,r));if((t=i.directives)!=null&&t.docEnd)if(i.comment){const m=c(i.comment);m.includes(`
`)?(n.push("..."),n.push(R(m,""))):n.push(`... ${m}`)}else n.push("...");else{let m=i.comment;m&&p&&(m=m.replace(/^\n+/,"")),m&&((!p||f)&&n[n.length-1]!==""&&n.push(""),n.push(R(c(m),"")))}return n.join(`
`)+`
`}function ge(i,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let s=0,r=n.length;s<r;++s){const c=n[s],p=ge(i,n,String(s),c);p===void 0?delete n[s]:p!==c&&(n[s]=p)}else if(n instanceof Map)for(const s of Array.from(n.keys())){const r=n.get(s),c=ge(i,n,s,r);c===void 0?n.delete(s):c!==r&&n.set(s,c)}else if(n instanceof Set)for(const s of Array.from(n)){const r=ge(i,n,s,s);r===void 0?n.delete(s):r!==s&&(n.delete(s),n.add(r))}else for(const[s,r]of Object.entries(n)){const c=ge(i,n,s,r);c===void 0?delete n[s]:c!==r&&(n[s]=c)}return i.call(e,t,n)}class pe{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,K,{value:ot});let s=null;typeof t=="function"||Array.isArray(t)?s=t:n===void 0&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:c}=r;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(c=this.directives.yaml.version)):this.directives=new C({version:c}),this.setSchema(c,n),e===void 0?this.contents=null:this.contents=this.createNode(e,s,n)}clone(){const e=Object.create(pe.prototype,{[K]:{value:ot}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=T(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){se(this.contents)&&this.contents.add(e)}addIn(e,t){se(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Jt(this);e.anchor=!t||n.has(t)?Yt(t||"a",n):t}return new De(e.anchor)}createNode(e,t,n){let s;if(typeof t=="function")e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const rr=Hn=>typeof Hn=="number"||Hn instanceof String||Hn instanceof Number,Jn=t.filter(rr).map(String);Jn.length>0&&(t=t.concat(Jn)),s=t}else n===void 0&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:c,flow:p,keepUndefined:f,onTagObj:m,tag:Xn}=n!=null?n:{},{onAnchor:Gn,setAnchors:Wn,sourceObjects:xn}=Bs(this,c||"a"),Yn={aliasDuplicateObjects:r!=null?r:!0,keepUndefined:f!=null?f:!1,onAnchor:Gn,onTagObj:m,replacer:s,schema:this.schema,sourceObjects:xn},Rn=we(e,Xn,Yn);return p&&L(Rn)&&(Rn.flow=!0),Wn(),Rn}createPair(e,t,n={}){const s=this.createNode(e,null,n),r=this.createNode(t,null,n);return new _(s,r)}delete(e){return se(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ye(e)?this.contents==null?!1:(this.contents=null,!0):se(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return L(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ye(e)?!t&&A(this.contents)?this.contents.value:this.contents:L(this.contents)?this.contents.getIn(e,t):void 0}has(e){return L(this.contents)?this.contents.has(e):!1}hasIn(e){return ye(e)?this.contents!==void 0:L(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Be(this.schema,[e],t):se(this.contents)&&this.contents.set(e,t)}setIn(e,t){ye(e)?this.contents=t:this.contents==null?this.contents=Be(this.schema,Array.from(e),t):se(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new C({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new C({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new We(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:c}={}){const p={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100,stringify:z},f=U(this.contents,t!=null?t:"",p);if(typeof r=="function")for(const{count:m,res:Xn}of p.anchors.values())r(Xn,m);return typeof c=="function"?ge(c,{"":f},"",f):f}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return an(this,e)}}function se(i){if(L(i))return!0;throw new Error("Expected a YAML collection as document contents")}class Nt extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class X extends Nt{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class ds extends Nt{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Pe=(i,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(p=>e.linePos(p));const{line:n,col:s}=t.linePos[0];t.message+=` at line ${n}, column ${s}`;let r=s-1,c=i.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&c.length>80){const p=Math.min(r-39,c.length-79);c="\u2026"+c.substring(p),r-=p-1}if(c.length>80&&(c=c.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(c.substring(0,r))){let p=i.substring(e.lineStarts[n-2],e.lineStarts[n-1]);p.length>80&&(p=p.substring(0,79)+`\u2026
`),c=p+c}if(/[^ ]/.test(c)){let p=1;const f=t.linePos[1];f&&f.line===n&&f.col>s&&(p=Math.min(f.col-s,80-r));const m=" ".repeat(r)+"^".repeat(p);t.message+=`:

${c}
${m}
`}};function ce(i,{flow:e,indicator:t,next:n,offset:s,onError:r,startOnNewline:c}){let p=!1,f=c,m=c,Xn="",Gn="",Wn=!1,xn=!1,Yn=!1,Rn=null,rr=null,Jn=null,Hn=null,Zn=null;for(const sr of i)switch(Yn&&(sr.type!=="space"&&sr.type!=="newline"&&sr.type!=="comma"&&r(sr.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),Yn=!1),sr.type){case"space":!e&&f&&t!=="doc-start"&&sr.source[0]==="	"&&r(sr,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=!0;break;case"comment":{m||r(sr,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const ar=sr.source.substring(1)||" ";Xn?Xn+=Gn+ar:Xn=ar,Gn="",f=!1;break}case"newline":f?Xn?Xn+=sr.source:p=!0:Gn+=sr.source,f=!0,Wn=!0,(Rn||rr)&&(xn=!0),m=!0;break;case"anchor":Rn&&r(sr,"MULTIPLE_ANCHORS","A node can have at most one anchor"),sr.source.endsWith(":")&&r(sr.offset+sr.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),Rn=sr,Zn===null&&(Zn=sr.offset),f=!1,m=!1,Yn=!0;break;case"tag":{rr&&r(sr,"MULTIPLE_TAGS","A node can have at most one tag"),rr=sr,Zn===null&&(Zn=sr.offset),f=!1,m=!1,Yn=!0;break}case t:(Rn||rr)&&r(sr,"BAD_PROP_ORDER",`Anchors and tags must be after the ${sr.source} indicator`),Hn&&r(sr,"UNEXPECTED_TOKEN",`Unexpected ${sr.source} in ${e!=null?e:"collection"}`),Hn=sr,f=!1,m=!1;break;case"comma":if(e){Jn&&r(sr,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),Jn=sr,f=!1,m=!1;break}default:r(sr,"UNEXPECTED_TOKEN",`Unexpected ${sr.type} token`),f=!1,m=!1}const tr=i[i.length-1],nr=tr?tr.offset+tr.source.length:s;return Yn&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:Jn,found:Hn,spaceBefore:p,comment:Xn,hasNewline:Wn,hasNewlineAfterProp:xn,anchor:Rn,tag:rr,end:nr,start:Zn!=null?Zn:nr}}function Se(i){if(!i)return null;switch(i.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(i.source.includes(`
`))return!0;if(i.end){for(const e of i.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of i.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(Se(e.key)||Se(e.value))return!0}return!1;default:return!0}}function ct(i,e,t){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===i&&(n.source==="]"||n.source==="}")&&Se(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ps(i,e,t){const{uniqueKeys:n}=i.options;if(n===!1)return!1;const s=typeof n=="function"?n:(r,c)=>r===c||A(r)&&A(c)&&r.value===c.value&&!(r.value==="<<"&&i.schema.merge);return e.some(r=>s(r.key,t))}const Bt="All mapping items must start at the same column";function cn({composeNode:i,composeEmptyNode:e},t,n,s){var r;const c=new j(t.schema);t.atRoot&&(t.atRoot=!1);let p=n.offset,f=null;for(const m of n.items){const{start:Xn,key:Gn,sep:Wn,value:xn}=m,Yn=ce(Xn,{indicator:"explicit-key-ind",next:Gn!=null?Gn:Wn==null?void 0:Wn[0],offset:p,onError:s,startOnNewline:!0}),Rn=!Yn.found;if(Rn){if(Gn&&(Gn.type==="block-seq"?s(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in Gn&&Gn.indent!==n.indent&&s(p,"BAD_INDENT",Bt)),!Yn.anchor&&!Yn.tag&&!Wn){f=Yn.end,Yn.comment&&(c.comment?c.comment+=`
`+Yn.comment:c.comment=Yn.comment);continue}(Yn.hasNewlineAfterProp||Se(Gn))&&s(Gn!=null?Gn:Xn[Xn.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((r=Yn.found)==null?void 0:r.indent)!==n.indent&&s(p,"BAD_INDENT",Bt);const rr=Yn.end,Jn=Gn?i(t,Gn,Yn,s):e(t,rr,Xn,null,Yn,s);t.schema.compat&&ct(n.indent,Gn,s),ps(t,c.items,Jn)&&s(rr,"DUPLICATE_KEY","Map keys must be unique");const Hn=ce(Wn!=null?Wn:[],{indicator:"map-value-ind",next:xn,offset:Jn.range[2],onError:s,startOnNewline:!Gn||Gn.type==="block-scalar"});if(p=Hn.end,Hn.found){Rn&&((xn==null?void 0:xn.type)==="block-map"&&!Hn.hasNewline&&s(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&Yn.start<Hn.found.offset-1024&&s(Jn.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const Zn=xn?i(t,xn,Hn,s):e(t,p,Wn,null,Hn,s);t.schema.compat&&ct(n.indent,xn,s),p=Zn.range[2];const tr=new _(Jn,Zn);t.options.keepSourceTokens&&(tr.srcToken=m),c.items.push(tr)}else{Rn&&s(Jn.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),Hn.comment&&(Jn.comment?Jn.comment+=`
`+Hn.comment:Jn.comment=Hn.comment);const Zn=new _(Jn);t.options.keepSourceTokens&&(Zn.srcToken=m),c.items.push(Zn)}}return f&&f<p&&s(f,"IMPOSSIBLE","Map comment with trailing content"),c.range=[n.offset,p,f!=null?f:p],c}function fn({composeNode:i,composeEmptyNode:e},t,n,s){const r=new te(t.schema);t.atRoot&&(t.atRoot=!1);let c=n.offset,p=null;for(const{start:f,value:m}of n.items){const Xn=ce(f,{indicator:"seq-item-ind",next:m,offset:c,onError:s,startOnNewline:!0});if(!Xn.found)if(Xn.anchor||Xn.tag||m)m&&m.type==="block-seq"?s(Xn.end,"BAD_INDENT","All sequence items must start at the same column"):s(c,"MISSING_CHAR","Sequence item without - indicator");else{p=Xn.end,Xn.comment&&(r.comment=Xn.comment);continue}const Gn=m?i(t,m,Xn,s):e(t,Xn.end,f,null,Xn,s);t.schema.compat&&ct(n.indent,m,s),c=Gn.range[2],r.items.push(Gn)}return r.range=[n.offset,c,p!=null?p:c],r}function Ee(i,e,t,n){let s="";if(i){let r=!1,c="";for(const p of i){const{source:f,type:m}=p;switch(m){case"space":r=!0;break;case"comment":{t&&!r&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Xn=f.substring(1)||" ";s?s+=c+Xn:s=Xn,c="";break}case"newline":s&&(c+=f),r=!0;break;default:n(p,"UNEXPECTED_TOKEN",`Unexpected ${m} at node end`)}e+=f.length}}return{comment:s,offset:e}}const tt="Block collections are not allowed within flow collections",st=i=>i&&(i.type==="block-map"||i.type==="block-seq");function un({composeNode:i,composeEmptyNode:e},t,n,s){var r;const c=n.start.source==="{",p=c?"flow map":"flow sequence",f=c?new j(t.schema):new te(t.schema);f.flow=!0;const m=t.atRoot;m&&(t.atRoot=!1);let Xn=n.offset+n.start.source.length;for(let Rn=0;Rn<n.items.length;++Rn){const rr=n.items[Rn],{start:Jn,key:Hn,sep:Zn,value:tr}=rr,nr=ce(Jn,{flow:p,indicator:"explicit-key-ind",next:Hn!=null?Hn:Zn==null?void 0:Zn[0],offset:Xn,onError:s,startOnNewline:!1});if(!nr.found){if(!nr.anchor&&!nr.tag&&!Zn&&!tr){Rn===0&&nr.comma?s(nr.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${p}`):Rn<n.items.length-1&&s(nr.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${p}`),nr.comment&&(f.comment?f.comment+=`
`+nr.comment:f.comment=nr.comment),Xn=nr.end;continue}!c&&t.options.strict&&Se(Hn)&&s(Hn,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(Rn===0)nr.comma&&s(nr.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${p}`);else if(nr.comma||s(nr.start,"MISSING_CHAR",`Missing , between ${p} items`),nr.comment){let sr="";e:for(const ar of Jn)switch(ar.type){case"comma":case"space":break;case"comment":sr=ar.source.substring(1);break e;default:break e}if(sr){let ar=f.items[f.items.length-1];I(ar)&&(ar=(r=ar.value)!=null?r:ar.key),ar.comment?ar.comment+=`
`+sr:ar.comment=sr,nr.comment=nr.comment.substring(sr.length+1)}}if(!c&&!Zn&&!nr.found){const sr=tr?i(t,tr,nr,s):e(t,nr.end,Zn,null,nr,s);f.items.push(sr),Xn=sr.range[2],st(tr)&&s(sr.range,"BLOCK_IN_FLOW",tt)}else{const sr=nr.end,ar=Hn?i(t,Hn,nr,s):e(t,sr,Jn,null,nr,s);st(Hn)&&s(ar.range,"BLOCK_IN_FLOW",tt);const lr=ce(Zn!=null?Zn:[],{flow:p,indicator:"map-value-ind",next:tr,offset:ar.range[2],onError:s,startOnNewline:!1});if(lr.found){if(!c&&!nr.found&&t.options.strict){if(Zn)for(const Er of Zn){if(Er===lr.found)break;if(Er.type==="newline"){s(Er,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}nr.start<lr.found.offset-1024&&s(lr.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else tr&&("source"in tr&&tr.source&&tr.source[0]===":"?s(tr,"MISSING_CHAR",`Missing space after : in ${p}`):s(lr.start,"MISSING_CHAR",`Missing , or : between ${p} items`));const mr=tr?i(t,tr,lr,s):lr.found?e(t,lr.end,Zn,null,lr,s):null;mr?st(tr)&&s(mr.range,"BLOCK_IN_FLOW",tt):lr.comment&&(ar.comment?ar.comment+=`
`+lr.comment:ar.comment=lr.comment);const br=new _(ar,mr);if(t.options.keepSourceTokens&&(br.srcToken=rr),c){const Er=f;ps(t,Er.items,ar)&&s(sr,"DUPLICATE_KEY","Map keys must be unique"),Er.items.push(br)}else{const Er=new j(t.schema);Er.flow=!0,Er.items.push(br),f.items.push(Er)}Xn=mr?mr.range[2]:lr.end}}const Gn=c?"}":"]",[Wn,...xn]=n.end;let Yn=Xn;if(Wn&&Wn.source===Gn)Yn=Wn.offset+Wn.source.length;else{const Rn=p[0].toUpperCase()+p.substring(1),rr=m?`${Rn} must end with a ${Gn}`:`${Rn} in block collection must be sufficiently indented and end with a ${Gn}`;s(Xn,m?"MISSING_CHAR":"BAD_INDENT",rr),Wn&&Wn.source.length!==1&&xn.unshift(Wn)}if(xn.length>0){const Rn=Ee(xn,Yn,t.options.strict,s);Rn.comment&&(f.comment?f.comment+=`
`+Rn.comment:f.comment=Rn.comment),f.range=[n.offset,Yn,Rn.offset]}else f.range=[n.offset,Yn,Yn];return f}function hn(i,e,t,n,s){let r;switch(t.type){case"block-map":{r=cn(i,e,t,s);break}case"block-seq":{r=fn(i,e,t,s);break}case"flow-collection":{r=un(i,e,t,s);break}}if(!n)return r;const c=e.directives.tagName(n.source,Wn=>s(n,"TAG_RESOLVE_FAILED",Wn));if(!c)return r;const p=r.constructor;if(c==="!"||c===p.tagName)return r.tag=p.tagName,r;const f=ee(r)?"map":"seq";let m=e.schema.tags.find(Wn=>Wn.collection===f&&Wn.tag===c);if(!m){const Wn=e.schema.knownTags[c];if(Wn&&Wn.collection===f)e.schema.tags.push(Object.assign({},Wn,{default:!1})),m=Wn;else return s(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,!0),r.tag=c,r}const Xn=m.resolve(r,Wn=>s(n,"TAG_RESOLVE_FAILED",Wn),e.options),Gn=T(Xn)?Xn:new O(Xn);return Gn.range=r.range,Gn.tag=c,m!=null&&m.format&&(Gn.format=m.format),Gn}function ms(i,e,t){const n=i.offset,s=dn(i,e,t);if(!s)return{value:"",type:null,comment:"",range:[n,n,n]};const r=s.mode===">"?O.BLOCK_FOLDED:O.BLOCK_LITERAL,c=i.source?pn(i.source):[];let p=c.length;for(let Rn=c.length-1;Rn>=0;--Rn){const rr=c[Rn][1];if(rr===""||rr==="\r")p=Rn;else break}if(p===0){const Rn=s.chomp==="+"&&c.length>0?`
`.repeat(Math.max(1,c.length-1)):"";let rr=n+s.length;return i.source&&(rr+=i.source.length),{value:Rn,type:r,comment:s.comment,range:[n,rr,rr]}}let f=i.indent+s.indent,m=i.offset+s.length,Xn=0;for(let Rn=0;Rn<p;++Rn){const[rr,Jn]=c[Rn];if(Jn===""||Jn==="\r")s.indent===0&&rr.length>f&&(f=rr.length);else{if(rr.length<f){const Hn="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(m+rr.length,"MISSING_CHAR",Hn)}s.indent===0&&(f=rr.length),Xn=Rn;break}m+=rr.length+Jn.length+1}for(let Rn=c.length-1;Rn>=p;--Rn)c[Rn][0].length>f&&(p=Rn+1);let Gn="",Wn="",xn=!1;for(let Rn=0;Rn<Xn;++Rn)Gn+=c[Rn][0].slice(f)+`
`;for(let Rn=Xn;Rn<p;++Rn){let[rr,Jn]=c[Rn];m+=rr.length+Jn.length+1;const Hn=Jn[Jn.length-1]==="\r";if(Hn&&(Jn=Jn.slice(0,-1)),Jn&&rr.length<f){const Zn=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;t(m-Jn.length-(Hn?2:1),"BAD_INDENT",Zn),rr=""}r===O.BLOCK_LITERAL?(Gn+=Wn+rr.slice(f)+Jn,Wn=`
`):rr.length>f||Jn[0]==="	"?(Wn===" "?Wn=`
`:!xn&&Wn===`
`&&(Wn=`

`),Gn+=Wn+rr.slice(f)+Jn,Wn=`
`,xn=!0):Jn===""?Wn===`
`?Gn+=`
`:Wn=`
`:(Gn+=Wn+Jn,Wn=" ",xn=!1)}switch(s.chomp){case"-":break;case"+":for(let Rn=p;Rn<c.length;++Rn)Gn+=`
`+c[Rn][0].slice(f);Gn[Gn.length-1]!==`
`&&(Gn+=`
`);break;default:Gn+=`
`}const Yn=n+s.length+i.source.length;return{value:Gn,type:r,comment:s.comment,range:[n,Yn,Yn]}}function dn({offset:i,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],r=s[0];let c=0,p="",f=-1;for(let Wn=1;Wn<s.length;++Wn){const xn=s[Wn];if(!p&&(xn==="-"||xn==="+"))p=xn;else{const Yn=Number(xn);!c&&Yn?c=Yn:f===-1&&(f=i+Wn)}}f!==-1&&n(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let m=!1,Xn="",Gn=s.length;for(let Wn=1;Wn<e.length;++Wn){const xn=e[Wn];switch(xn.type){case"space":m=!0;case"newline":Gn+=xn.source.length;break;case"comment":t&&!m&&n(xn,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),Gn+=xn.source.length,Xn=xn.source.substring(1);break;case"error":n(xn,"UNEXPECTED_TOKEN",xn.message),Gn+=xn.source.length;break;default:{const Yn=`Unexpected token in block scalar header: ${xn.type}`;n(xn,"UNEXPECTED_TOKEN",Yn);const Rn=xn.source;Rn&&typeof Rn=="string"&&(Gn+=Rn.length)}}}return{mode:r,indent:c,chomp:p,comment:Xn,length:Gn}}function pn(i){const e=i.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),s=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let r=1;r<e.length;r+=2)s.push([e[r],e[r+1]]);return s}function ys(i,e,t){const{offset:n,type:s,source:r,end:c}=i;let p,f;const m=(Wn,xn,Yn)=>t(n+Wn,xn,Yn);switch(s){case"scalar":p=O.PLAIN,f=mn(r,m);break;case"single-quoted-scalar":p=O.QUOTE_SINGLE,f=yn(r,m);break;case"double-quoted-scalar":p=O.QUOTE_DOUBLE,f=gn(r,m);break;default:return t(i,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}const Xn=n+r.length,Gn=Ee(c,Xn,e,t);return{value:f,type:p,comment:Gn.comment,range:[n,Xn,Gn.offset]}}function mn(i,e){let t="";switch(i[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${i[0]}`;break}case"@":case"`":{t=`reserved character ${i[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),gs(i)}function yn(i,e){return(i[i.length-1]!=="'"||i.length===1)&&e(i.length,"MISSING_CHAR","Missing closing 'quote"),gs(i.slice(1,-1)).replace(/''/g,"'")}function gs(i){var e;let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch(m){t=new RegExp("(.*?)[ \\t]*\\r?\\n","sy"),n=new RegExp("[ \\t]*(.*?)[ \\t]*\\r?\\n","sy")}let s=t.exec(i);if(!s)return i;let r=s[1],c=" ",p=t.lastIndex;for(n.lastIndex=p;s=n.exec(i);)s[1]===""?c===`
`?r+=c:c=`
`:(r+=c+s[1],c=" "),p=n.lastIndex;const f=new RegExp("[ \\t]*(.*)","sy");return f.lastIndex=p,s=f.exec(i),r+c+((e=s==null?void 0:s[1])!=null?e:"")}function gn(i,e){let t="";for(let n=1;n<i.length-1;++n){const s=i[n];if(!(s==="\r"&&i[n+1]===`
`))if(s===`
`){const{fold:r,offset:c}=bn(i,n);t+=r,n=c}else if(s==="\\"){let r=i[++n];const c=wn[r];if(c)t+=c;else if(r===`
`)for(r=i[n+1];r===" "||r==="	";)r=i[++n+1];else if(r==="\r"&&i[n+1]===`
`)for(r=i[++n+1];r===" "||r==="	";)r=i[++n+1];else if(r==="x"||r==="u"||r==="U"){const p={x:2,u:4,U:8}[r];t+=Sn(i,n+1,p,e),n+=p}else{const p=i.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${p}`),t+=p}}else if(s===" "||s==="	"){const r=n;let c=i[n+1];for(;c===" "||c==="	";)c=i[++n+1];c!==`
`&&!(c==="\r"&&i[n+2]===`
`)&&(t+=n>r?i.slice(r,n+1):s)}else t+=s}return(i[i.length-1]!=='"'||i.length===1)&&e(i.length,"MISSING_CHAR",'Missing closing "quote'),t}function bn(i,e){let t="",n=i[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&i[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=i[e+1];return t||(t=" "),{fold:t,offset:e}}const wn={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Sn(i,e,t,n){const s=i.substr(e,t),r=s.length===t&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(r)){const c=i.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(r)}function bs(i,e,t,n){const{value:s,type:r,comment:c,range:p}=e.type==="block-scalar"?ms(e,i.options.strict,n):ys(e,i.options.strict,n),f=t?i.directives.tagName(t.source,Gn=>n(t,"TAG_RESOLVE_FAILED",Gn)):null,m=t&&f?kn(i.schema,s,f,t,n):e.type==="scalar"?Nn(i,s,e,n):i.schema[V];let Xn;try{const Gn=m.resolve(s,Wn=>n(t!=null?t:e,"TAG_RESOLVE_FAILED",Wn),i.options);Xn=A(Gn)?Gn:new O(Gn)}catch(Gn){const Wn=Gn instanceof Error?Gn.message:String(Gn);n(t!=null?t:e,"TAG_RESOLVE_FAILED",Wn),Xn=new O(s)}return Xn.range=p,Xn.source=s,r&&(Xn.type=r),f&&(Xn.tag=f),m.format&&(Xn.format=m.format),c&&(Xn.comment=c),Xn}function kn(i,e,t,n,s){var r;if(t==="!")return i[V];const c=[];for(const f of i.tags)if(!f.collection&&f.tag===t)if(f.default&&f.test)c.push(f);else return f;for(const f of c)if((r=f.test)!=null&&r.test(e))return f;const p=i.knownTags[t];return p&&!p.collection?(i.tags.push(Object.assign({},p,{default:!1,test:void 0})),p):(s(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),i[V])}function Nn({directives:i,schema:e},t,n,s){var r;const c=e.tags.find(p=>{var f;return p.default&&((f=p.test)==null?void 0:f.test(t))})||e[V];if(e.compat){const p=(r=e.compat.find(f=>{var m;return f.default&&((m=f.test)==null?void 0:m.test(t))}))!=null?r:e[V];if(c.tag!==p.tag){const f=i.tagString(c.tag),m=i.tagString(p.tag),Xn=`Value may be parsed as either ${f} or ${m}`;s(n,"TAG_RESOLVE_FAILED",Xn,!0)}}return c}function On(i,e,t){if(e){t===null&&(t=e.length);for(let n=t-1;n>=0;--n){let s=e[n];switch(s.type){case"space":case"comment":case"newline":i-=s.source.length;continue}for(s=e[++n];(s==null?void 0:s.type)==="space";)i+=s.source.length,s=e[++n];break}}return i}const An={composeNode:ws,composeEmptyNode:Ot};function ws(i,e,t,n){const{spaceBefore:s,comment:r,anchor:c,tag:p}=t;let f,m=!0;switch(e.type){case"alias":f=En(i,e,n),(c||p)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=bs(i,e,p,n),c&&(f.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=hn(An,i,e,p,n),c&&(f.anchor=c.source.substring(1));break;default:{const Xn=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",Xn),f=Ot(i,e.offset,void 0,null,t,n),m=!1}}return c&&f.anchor===""&&n(c,"BAD_ALIAS","Anchor cannot be an empty string"),s&&(f.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?f.comment=r:f.commentBefore=r),i.options.keepSourceTokens&&m&&(f.srcToken=e),f}function Ot(i,e,t,n,{spaceBefore:s,comment:r,anchor:c,tag:p,end:f},m){const Xn={type:"scalar",offset:On(e,t,n),indent:-1,source:""},Gn=bs(i,Xn,p,m);return c&&(Gn.anchor=c.source.substring(1),Gn.anchor===""&&m(c,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(Gn.spaceBefore=!0),r&&(Gn.comment=r,Gn.range[2]=f),Gn}function En({options:i},{offset:e,source:t,end:n},s){const r=new De(t.substring(1));r.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&s(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=e+t.length,p=Ee(n,c,i.strict,s);return r.range=[e,c,p.offset],p.comment&&(r.comment=p.comment),r}function In(i,e,{offset:t,start:n,value:s,end:r},c){const p=Object.assign({_directives:e},i),f=new pe(void 0,p),m={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},Xn=ce(n,{indicator:"doc-start",next:s!=null?s:r==null?void 0:r[0],offset:t,onError:c,startOnNewline:!0});Xn.found&&(f.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!Xn.hasNewline&&c(Xn.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=s?ws(m,s,Xn,c):Ot(m,Xn.end,n,null,Xn,c);const Gn=f.contents.range[2],Wn=Ee(r,Gn,!1,c);return Wn.comment&&(f.comment=Wn.comment),f.range=[t,Gn,Wn.offset],f}function me(i){if(typeof i=="number")return[i,i+1];if(Array.isArray(i))return i.length===2?i:[i[0],i[1]];const{offset:e,source:t}=i;return[e,e+(typeof t=="string"?t.length:1)]}function Mt(i){var e;let t="",n=!1,s=!1;for(let r=0;r<i.length;++r){const c=i[r];switch(c[0]){case"#":t+=(t===""?"":s?`

`:`
`)+(c.substring(1)||" "),n=!0,s=!1;break;case"%":((e=i[r+1])==null?void 0:e[0])!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}class At{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,s,r)=>{const c=me(t);r?this.warnings.push(new ds(c,n,s)):this.errors.push(new X(c,n,s))},this.directives=new C({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=Mt(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(s||e.directives.docStart||!r)e.commentBefore=n;else if(L(r)&&!r.flow&&r.items.length>0){let c=r.items[0];I(c)&&(c=c.key);const p=c.commentBefore;c.commentBefore=p?`${n}
${p}`:n}else{const c=r.commentBefore;r.commentBefore=c?`${n}
${c}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Mt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const s of e)yield*this.next(s);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,s)=>{const r=me(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=In(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new X(me(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new X(me(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const t=Ee(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new X(me(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),s=new pe(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,t,t],this.decorate(s,!1),yield s}}}function Ln(i,e=!0,t){if(i){const n=(s,r,c)=>{const p=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(t)t(p,r,c);else throw new X([p,p+1],r,c)};switch(i.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ys(i,e,n);case"block-scalar":return ms(i,e,n)}}return null}function Tn(i,e){var t;const{implicitKey:n=!1,indent:s,inFlow:r=!1,offset:c=-1,type:p="PLAIN"}=e,f=Oe({type:p,value:i},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),m=(t=e.end)!=null?t:[{type:"newline",offset:-1,indent:s,source:`
`}];switch(f[0]){case"|":case">":{const Xn=f.indexOf(`
`),Gn=f.substring(0,Xn),Wn=f.substring(Xn+1)+`
`,xn=[{type:"block-scalar-header",offset:c,indent:s,source:Gn}];return Ss(xn,m)||xn.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:c,indent:s,props:xn,source:Wn}}case'"':return{type:"double-quoted-scalar",offset:c,indent:s,source:f,end:m};case"'":return{type:"single-quoted-scalar",offset:c,indent:s,source:f,end:m};default:return{type:"scalar",offset:c,indent:s,source:f,end:m}}}function $n(i,e,t={}){let{afterKey:n=!1,implicitKey:s=!1,inFlow:r=!1,type:c}=t,p="indent"in i?i.indent:null;if(n&&typeof p=="number"&&(p+=2),!c)switch(i.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":{const m=i.props[0];if(m.type!=="block-scalar-header")throw new Error("Invalid block scalar header");c=m.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:c="PLAIN"}const f=Oe({type:c,value:e},{implicitKey:s||p===null,indent:p!==null&&p>0?" ".repeat(p):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":_n(i,f);break;case'"':nt(i,f,"double-quoted-scalar");break;case"'":nt(i,f,"single-quoted-scalar");break;default:nt(i,f,"scalar")}}function _n(i,e){const t=e.indexOf(`
`),n=e.substring(0,t),s=e.substring(t+1)+`
`;if(i.type==="block-scalar"){const r=i.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=n,i.source=s}else{const{offset:r}=i,c="indent"in i?i.indent:-1,p=[{type:"block-scalar-header",offset:r,indent:c,source:n}];Ss(p,"end"in i?i.end:void 0)||p.push({type:"newline",offset:-1,indent:c,source:`
`});for(const f of Object.keys(i))f!=="type"&&f!=="offset"&&delete i[f];Object.assign(i,{type:"block-scalar",indent:c,props:p,source:s})}}function Ss(i,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":i.push(t);break;case"newline":return i.push(t),!0}return!1}function nt(i,e,t){switch(i.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":i.type=t,i.source=e;break;case"block-scalar":{const n=i.props.slice(1);let s=e.length;i.props[0].type==="block-scalar-header"&&(s-=i.props[0].source.length);for(const r of n)r.offset+=s;delete i.props,Object.assign(i,{type:t,source:e,end:n});break}case"block-map":case"block-seq":{const n=i.offset+e.length,s={type:"newline",offset:n,indent:i.indent,source:`
`};delete i.items,Object.assign(i,{type:t,source:e,end:[s]});break}default:{const n="indent"in i?i.indent:-1,s="end"in i&&Array.isArray(i.end)?i.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(i))r!=="type"&&r!=="offset"&&delete i[r];Object.assign(i,{type:t,indent:n,source:e,end:s})}}}const Cn=i=>"type"in i?je(i):ve(i);function je(i){switch(i.type){case"block-scalar":{let e="";for(const t of i.props)e+=je(t);return e+i.source}case"block-map":case"block-seq":{let e="";for(const t of i.items)e+=ve(t);return e}case"flow-collection":{let e=i.start.source;for(const t of i.items)e+=ve(t);for(const t of i.end)e+=t.source;return e}case"document":{let e=ve(i);if(i.end)for(const t of i.end)e+=t.source;return e}default:{let e=i.source;if("end"in i&&i.end)for(const t of i.end)e+=t.source;return e}}}function ve({start:i,key:e,sep:t,value:n}){let s="";for(const r of i)s+=r.source;if(e&&(s+=je(e)),t)for(const r of t)s+=r.source;return n&&(s+=je(n)),s}const ft=Symbol("break visit"),vn=Symbol("skip children"),ks=Symbol("remove item");function Z(i,e){"type"in i&&i.type==="document"&&(i={start:i.start,value:i.value}),Ns(Object.freeze([]),i,e)}Z.BREAK=ft,Z.SKIP=vn,Z.REMOVE=ks,Z.itemAtPath=(i,e)=>{let t=i;for(const[n,s]of e){const r=t==null?void 0:t[n];if(r&&"items"in r)t=r.items[s];else return}return t},Z.parentCollection=(i,e)=>{const t=Z.itemAtPath(i,e.slice(0,-1)),n=e[e.length-1][0],s=t==null?void 0:t[n];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Ns(i,e,t){let n=t(e,i);if(typeof n=="symbol")return n;for(const s of["key","value"]){const r=e[s];if(r&&"items"in r){for(let c=0;c<r.items.length;++c){const p=Ns(Object.freeze(i.concat([[s,c]])),r.items[c],t);if(typeof p=="number")c=p-1;else{if(p===ft)return ft;p===ks&&(r.items.splice(c,1),c-=1)}}typeof n=="function"&&s==="key"&&(n=n(e,i))}}return typeof n=="function"?n(e,i):n}const He="\uFEFF",Xe="",ze="",ke="",Bn=i=>!!i&&"items"in i,Mn=i=>!!i&&(i.type==="scalar"||i.type==="single-quoted-scalar"||i.type==="double-quoted-scalar"||i.type==="block-scalar");function Pn(i){switch(i){case He:return"<BOM>";case Xe:return"<DOC>";case ze:return"<FLOW_END>";case ke:return"<SCALAR>";default:return JSON.stringify(i)}}function Os(i){switch(i){case He:return"byte-order-mark";case Xe:return"doc-mode";case ze:return"flow-error-end";case ke:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(i[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const jn=Object.freeze(Object.defineProperty({__proto__:null,BOM:He,DOCUMENT:Xe,FLOW_END:ze,SCALAR:ke,isCollection:Bn,isScalar:Mn,prettyToken:Pn,tokenType:Os,createScalarToken:Tn,resolveAsScalar:Ln,setScalarValue:$n,stringify:Cn,visit:Z},Symbol.toStringTag,{value:"Module"}));function P(i){switch(i){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Pt="0123456789ABCDEFabcdef".split(""),Kn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),it=",[]{}".split(""),Dn=` ,[]{}
\r	`.split(""),rt=i=>!i||Dn.includes(i);class As{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){var n;e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let s=(n=this.next)!=null?n:"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){const s=this.buffer[n+e+1];if(s===`
`||!s&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&P(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===He&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const n=e.indexOf("#");if(n!==-1){const r=e[n-1];(r===" "||r==="	")&&(t=n-1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield Xe,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&P(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&P(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!P(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&P(t)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(rt),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&s[0]!=="#"||n===0&&(s.startsWith("---")||s.startsWith("..."))&&P(s[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield ze,yield*this.parseLineStart();let r=0;for(;s[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),s[r]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(rt),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const c=this.charAt(1);if(this.flowKey||P(c)||c===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const r=this.continueScalar(s+1);if(r===-1)break;s=n.indexOf(`
`,r)}s!==-1&&(t=s-(n[s-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>P(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":t+=1;break;case`
`:e=s,t=0;break;case"\r":{const r=this.buffer[s+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let s=e-1,r=this.buffer[s];r==="\r"&&(r=this.buffer[--s]);const c=s;for(;r===" "||r==="	";)r=this.buffer[--s];if(r===`
`&&s>=this.pos&&s+1+t>c)e=s;else break}while(!0);return yield ke,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,n=this.pos-1,s;for(;s=this.buffer[++n];)if(s===":"){const r=this.buffer[n+1];if(P(r)||e&&r===",")break;t=n}else if(P(s)){let r=this.buffer[n+1];if(s==="\r"&&(r===`
`?(n+=1,s=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&it.includes(r))break;if(s===`
`){const c=this.continueScalar(n+1);if(c===-1)break;n=Math.max(n,c-2)}}else{if(e&&it.includes(s))break;t=n}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ke,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(rt))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(P(t)||e&&it.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!P(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Kn.includes(t))t=this.buffer[++e];else if(t==="%"&&Pt.includes(this.buffer[e+1])&&Pt.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");const s=t-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=t),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Es{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const s=this.lineStarts[t-1];return{line:t,col:e-s+1}}}}function D(i,e){for(let t=0;t<i.length;++t)if(i[t].type===e)return!0;return!1}function jt(i){for(let e=0;e<i.length;++e)switch(i[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Is(i){switch(i==null?void 0:i.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Te(i){var e;switch(i.type){case"document":return i.start;case"block-map":{const t=i.items[i.items.length-1];return(e=t.sep)!=null?e:t.start}case"block-seq":return i.items[i.items.length-1].start;default:return[]}}function ne(i){var e;if(i.length===0)return[];let t=i.length;e:for(;--t>=0;)switch(i[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((e=i[++t])==null?void 0:e.type)==="space";);return i.splice(t,i.length)}function Kt(i){if(i.start.type==="flow-seq-start")for(const e of i.items)e.sep&&!e.value&&!D(e.start,"explicit-key-ind")&&!D(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Is(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Et{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new As,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Os(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e!=null?e:this.stack.pop();if(t)if(this.stack.length===0)yield t;else{const n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Kt(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{const s=n.items[n.items.length-1];if(s.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=t;else{Object.assign(s,{key:t,sep:[]}),this.onKeyLine=!D(s.start,"explicit-key-ind");return}break}case"block-seq":{const s=n.items[n.items.length-1];s.value?n.items.push({start:[],value:t}):s.value=t;break}case"flow-collection":{const s=n.items[n.items.length-1];!s||s.value?n.items.push({start:[],key:t,sep:[]}):s.sep?s.value=t:Object.assign(s,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const s=t.items[t.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&jt(s.start)===-1&&(t.indent===0||s.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=s.start:n.items.push({start:s.start}),t.items.splice(-1,1))}}else{const n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{jt(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=Te(this.peek(2)),n=ne(t);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,r=Array.isArray(s)?s[s.length-1]:void 0;(r==null?void 0:r.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],r=(t=s==null?void 0:s.value)==null?void 0:t.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent&&n.sep;let r=[];if(s&&n.sep&&!n.value){const c=[];for(let p=0;p<n.sep.length;++p){const f=n.sep[p];switch(f.type){case"newline":c.push(p);break;case"space":break;case"comment":f.indent>e.indent&&(c.length=0);break;default:c.length=0}}c.length>=2&&(r=n.sep.splice(c[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!D(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):s||n.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(D(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(D(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Is(n.key)&&!D(n.sep,"newline")){const c=ne(n.start),p=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:p,sep:f}]})}else r.length>0?n.sep=n.sep.concat(r,this.sourceToken):n.sep.push(this.sourceToken);else if(D(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const c=ne(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?e.items.push({start:r,key:null,sep:[this.sourceToken]}):D(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const c=this.flowScalar(this.type);s||n.value?(e.items.push({start:r,key:c,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(c):(Object.assign(n,{key:c,sep:[]}),this.onKeyLine=!0);return}default:{const c=this.startBlockValue(e);if(c){s&&c.type!=="block-seq"&&D(n.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(c);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,r=Array.isArray(s)?s[s.length-1]:void 0;(r==null?void 0:r.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],r=(t=s==null?void 0:s.value)==null?void 0:t.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||D(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:s,sep:[]}):t.sep?this.stack.push(s):Object.assign(t,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const s=Te(n),r=ne(s);Kt(e);const c=e.end.splice(1,e.end.length);c.push(this.sourceToken);const p={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:c}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=p}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Te(e),n=ne(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Te(e),n=ne(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Ls(i){const e=i.prettyErrors!==!1;return{lineCounter:i.lineCounter||e&&new Es||null,prettyErrors:e}}function qn(i,e={}){const{lineCounter:t,prettyErrors:n}=Ls(e),s=new Et(t==null?void 0:t.addNewLine),r=new At(e),c=Array.from(r.compose(s.parse(i)));if(n&&t)for(const p of c)p.errors.forEach(Pe(i,t)),p.warnings.forEach(Pe(i,t));return c.length>0?c:Object.assign([],{empty:!0},r.streamInfo())}function Ts(i,e={}){const{lineCounter:t,prettyErrors:n}=Ls(e),s=new Et(t==null?void 0:t.addNewLine),r=new At(e);let c=null;for(const p of r.compose(s.parse(i),!0,i.length))if(!c)c=p;else if(c.options.logLevel!=="silent"){c.errors.push(new X(p.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(c.errors.forEach(Pe(i,t)),c.warnings.forEach(Pe(i,t))),c}function Fn(i,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);const s=Ts(i,t);if(!s)return null;if(s.warnings.forEach(r=>Ht(s.options.logLevel,r)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:n},t))}function Un(i,e,t){var n;let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(i===void 0){const{keepUndefined:r}=(n=t!=null?t:e)!=null?n:{};if(!r)return}return new pe(i,s,t).toString(t)}const Vn=Object.freeze(Object.defineProperty({__proto__:null,CST:jn,Composer:At,Document:pe,Schema:We,YAMLError:Nt,YAMLParseError:X,YAMLWarning:ds,Alias:De,isAlias:x,isCollection:L,isDocument:Ne,isMap:ee,isNode:T,isPair:I,isScalar:A,isSeq:ue,Pair:_,Scalar:O,YAMLMap:j,YAMLSeq:te,Lexer:As,LineCounter:Es,Parser:Et,parse:Fn,parseAllDocuments:qn,parseDocument:Ts,stringify:Un,visit:G,visitAsync:Ke},Symbol.toStringTag,{value:"Module"})),index_137b3043=Object.freeze(Object.defineProperty({__proto__:null,Alias:De,CST:jn,Composer:At,Document:pe,Lexer:As,LineCounter:Es,Pair:_,Parser:Et,Scalar:O,Schema:We,YAMLError:Nt,YAMLMap:j,YAMLParseError:X,YAMLSeq:te,YAMLWarning:ds,default:Vn,isAlias:x,isCollection:L,isDocument:Ne,isMap:ee,isNode:T,isPair:I,isScalar:A,isSeq:ue,parse:Fn,parseAllDocuments:qn,parseDocument:Ts,stringify:Un,visit:G,visitAsync:Ke},Symbol.toStringTag,{value:"Module"}))});
