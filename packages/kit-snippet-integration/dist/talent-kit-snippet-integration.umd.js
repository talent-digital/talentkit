(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";var rl=Object.defineProperty,sl=Object.defineProperties;var ol=Object.getOwnPropertyDescriptors;var Pi=Object.getOwnPropertySymbols;var il=Object.prototype.hasOwnProperty,al=Object.prototype.propertyIsEnumerable;var Po=(s,e)=>(e=Symbol[s])?e:Symbol.for("Symbol."+s);var Li=(s,e,t)=>e in s?rl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Lo=(s,e)=>{for(var t in e||(e={}))il.call(e,t)&&Li(s,t,e[t]);if(Pi)for(var t of Pi(e))al.call(e,t)&&Li(s,t,e[t]);return s},jo=(s,e)=>sl(s,ol(e));var ll=function(s,e){this[0]=s,this[1]=e};var pr=s=>{var e=s[Po("asyncIterator")],t=!1,n,i={};return e==null?(e=s[Po("iterator")](),n=r=>i[r]=c=>e[r](c)):(e=e.call(s),n=r=>i[r]=c=>{if(t){if(t=!1,r==="throw")throw c;return c}return t=!0,{done:!1,value:new ll(new Promise(p=>{var f=e[r](c);if(!(f instanceof Object))throw TypeError("Object expected");p(f)}),1)}}),i[Po("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=r=>{throw r},"return"in e&&n("return"),i};function _mergeNamespaces(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in s)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(s,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var keycloak={exports:{}},sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var createOutputMethod=function(s,e){return function(t){return new Sha256(e,!0).update(t)[s]()}},createMethod=function(s){var e=createOutputMethod("hex",s);NODE_JS&&(e=nodeWrap(e,s)),e.create=function(){return new Sha256(s)},e.update=function(i){return e.create().update(i)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n,s)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(s){if(typeof s=="string")return crypto.createHash(algorithm).update(s,"utf8").digest("hex");if(s==null)throw new Error(ERROR);return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(s)).digest("hex"):method(s)};return nodeMethod},createHmacOutputMethod=function(s,e){return function(t,n){return new HmacSha256(t,e,!0).update(n)[s]()}},createHmacMethod=function(s){var e=createHmacOutputMethod("hex",s);e.create=function(i){return new HmacSha256(i,s)},e.update=function(i,r){return e.create(i).update(r)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createHmacOutputMethod(n,s)}return e};function Sha256(s,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=s}Sha256.prototype.update=function(s){if(!this.finalized){var e,t=typeof s;if(t!=="string"){if(t==="object"){if(s===null)throw new Error(ERROR);if(ARRAY_BUFFER&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(s)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,i=0,r,c=s.length,p=this.blocks;i<c;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),e)for(r=this.start;i<c&&r<64;++i)p[r>>2]|=s[i]<<SHIFT[r++&3];else for(r=this.start;i<c&&r<64;++i)n=s.charCodeAt(i),n<128?p[r>>2]|=n<<SHIFT[r++&3]:n<2048?(p[r>>2]|=(192|n>>6)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]):n<55296||n>=57344?(p[r>>2]|=(224|n>>12)<<SHIFT[r++&3],p[r>>2]|=(128|n>>6&63)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]):(n=65536+((n&1023)<<10|s.charCodeAt(++i)&1023),p[r>>2]|=(240|n>>18)<<SHIFT[r++&3],p[r>>2]|=(128|n>>12&63)<<SHIFT[r++&3],p[r>>2]|=(128|n>>6&63)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=p[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,e=this.lastByteIndex;s[16]=this.block,s[e>>2]|=EXTRA[e&3],this.block=s[16],e>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var s=this.h0,e=this.h1,t=this.h2,n=this.h3,i=this.h4,r=this.h5,c=this.h6,p=this.h7,f=this.blocks,g,Wn,Qn,Yn,xn,er,Hn,ir,Zn,zn,nr;for(g=16;g<64;++g)xn=f[g-15],Wn=(xn>>>7|xn<<25)^(xn>>>18|xn<<14)^xn>>>3,xn=f[g-2],Qn=(xn>>>17|xn<<15)^(xn>>>19|xn<<13)^xn>>>10,f[g]=f[g-16]+Wn+f[g-7]+Qn<<0;for(nr=e&t,g=0;g<64;g+=4)this.first?(this.is224?(ir=300032,xn=f[0]-1413257819,p=xn-150054599<<0,n=xn+24177077<<0):(ir=704751109,xn=f[0]-210244248,p=xn-1521486534<<0,n=xn+143694565<<0),this.first=!1):(Wn=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),Qn=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),ir=s&e,Yn=ir^s&t^nr,Hn=i&r^~i&c,xn=p+Qn+Hn+K[g]+f[g],er=Wn+Yn,p=n+xn<<0,n=xn+er<<0),Wn=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),Qn=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),Zn=n&s,Yn=Zn^n&e^ir,Hn=p&i^~p&r,xn=c+Qn+Hn+K[g+1]+f[g+1],er=Wn+Yn,c=t+xn<<0,t=xn+er<<0,Wn=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),Qn=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),zn=t&n,Yn=zn^t&s^Zn,Hn=c&p^~c&i,xn=r+Qn+Hn+K[g+2]+f[g+2],er=Wn+Yn,r=e+xn<<0,e=xn+er<<0,Wn=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),Qn=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),nr=e&t,Yn=nr^e&n^zn,Hn=r&c^~r&p,xn=i+Qn+Hn+K[g+3]+f[g+3],er=Wn+Yn,i=s+xn<<0,s=xn+er<<0;this.h0=this.h0+s<<0,this.h1=this.h1+e<<0,this.h2=this.h2+t<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0,this.h5=this.h5+r<<0,this.h6=this.h6+c<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var s=this.h0,e=this.h1,t=this.h2,n=this.h3,i=this.h4,r=this.h5,c=this.h6,p=this.h7,f=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15];return this.is224||(f+=HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[p&15]),f},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var s=this.h0,e=this.h1,t=this.h2,n=this.h3,i=this.h4,r=this.h5,c=this.h6,p=this.h7,f=[s>>24&255,s>>16&255,s>>8&255,s&255,e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255,r>>24&255,r>>16&255,r>>8&255,r&255,c>>24&255,c>>16&255,c>>8&255,c&255];return this.is224||f.push(p>>24&255,p>>16&255,p>>8&255,p&255),f},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(this.is224?28:32),e=new DataView(s);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),s};function HmacSha256(s,e,t){var n,i=typeof s;if(i==="string"){var r=[],c=s.length,p=0,f;for(n=0;n<c;++n)f=s.charCodeAt(n),f<128?r[p++]=f:f<2048?(r[p++]=192|f>>6,r[p++]=128|f&63):f<55296||f>=57344?(r[p++]=224|f>>12,r[p++]=128|f>>6&63,r[p++]=128|f&63):(f=65536+((f&1023)<<10|s.charCodeAt(++n)&1023),r[p++]=240|f>>18,r[p++]=128|f>>12&63,r[p++]=128|f>>6&63,r[p++]=128|f&63);s=r}else if(i==="object"){if(s===null)throw new Error(ERROR);if(ARRAY_BUFFER&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(s)))throw new Error(ERROR)}else throw new Error(ERROR);s.length>64&&(s=new Sha256(e,!0).update(s).array());var g=[],Wn=[];for(n=0;n<64;++n){var Qn=s[n]||0;g[n]=92^Qn,Wn[n]=54^Qn}Sha256.call(this,e,t),this.update(Wn),this.oKeyPad=g,this.inner=!0,this.sharedMemory=t}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var s=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(s),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()}(sha256)),sha256.exports}var base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=p,base64Js.toByteArray=g,base64Js.fromByteArray=Yn;for(var s=[],e=[],t=typeof Uint8Array!="undefined"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=n.length;i<r;++i)s[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function c(xn){var er=xn.length;if(er%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Hn=xn.indexOf("=");Hn===-1&&(Hn=er);var ir=Hn===er?0:4-Hn%4;return[Hn,ir]}function p(xn){var er=c(xn),Hn=er[0],ir=er[1];return(Hn+ir)*3/4-ir}function f(xn,er,Hn){return(er+Hn)*3/4-Hn}function g(xn){var er,Hn=c(xn),ir=Hn[0],Zn=Hn[1],zn=new t(f(xn,ir,Zn)),nr=0,sr=Zn>0?ir-4:ir,or;for(or=0;or<sr;or+=4)er=e[xn.charCodeAt(or)]<<18|e[xn.charCodeAt(or+1)]<<12|e[xn.charCodeAt(or+2)]<<6|e[xn.charCodeAt(or+3)],zn[nr++]=er>>16&255,zn[nr++]=er>>8&255,zn[nr++]=er&255;return Zn===2&&(er=e[xn.charCodeAt(or)]<<2|e[xn.charCodeAt(or+1)]>>4,zn[nr++]=er&255),Zn===1&&(er=e[xn.charCodeAt(or)]<<10|e[xn.charCodeAt(or+1)]<<4|e[xn.charCodeAt(or+2)]>>2,zn[nr++]=er>>8&255,zn[nr++]=er&255),zn}function Wn(xn){return s[xn>>18&63]+s[xn>>12&63]+s[xn>>6&63]+s[xn&63]}function Qn(xn,er,Hn){for(var ir,Zn=[],zn=er;zn<Hn;zn+=3)ir=(xn[zn]<<16&16711680)+(xn[zn+1]<<8&65280)+(xn[zn+2]&255),Zn.push(Wn(ir));return Zn.join("")}function Yn(xn){for(var er,Hn=xn.length,ir=Hn%3,Zn=[],zn=16383,nr=0,sr=Hn-ir;nr<sr;nr+=zn)Zn.push(Qn(xn,nr,nr+zn>sr?sr:nr+zn));return ir===1?(er=xn[Hn-1],Zn.push(s[er>>2]+s[er<<4&63]+"==")):ir===2&&(er=(xn[Hn-2]<<8)+xn[Hn-1],Zn.push(s[er>>10]+s[er>>4&63]+s[er<<2&63]+"=")),Zn.join("")}return base64Js}(function(s,e){(function(t,n){s.exports=n(requireSha256(),requireBase64Js())})(window,function(t,n){if(typeof Promise=="undefined")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var i=!1;function r(){i||(i=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function c(p){if(!(this instanceof c))return new c(p);for(var f=this,g,Wn=[],Qn,Yn={enable:!0,callbackList:[],interval:5},xn=document.getElementsByTagName("script"),er=0;er<xn.length;er++)(xn[er].src.indexOf("keycloak.js")!==-1||xn[er].src.indexOf("keycloak.min.js")!==-1)&&xn[er].src.indexOf("version=")!==-1&&(f.iframeVersion=xn[er].src.substring(xn[er].src.indexOf("version=")+8).split("&")[0]);var Hn=!0,ir=Zr(console.info),Zn=Zr(console.warn);f.init=function(rr){f.authenticated=!1,Qn=oo();var cr=["default","cordova","cordova-native"];if(rr&&cr.indexOf(rr.adapter)>-1?g=Gr(rr.adapter):rr&&typeof rr.adapter=="object"?g=rr.adapter:window.Cordova||window.cordova?g=Gr("cordova"):g=Gr(),rr){if(typeof rr.useNonce!="undefined"&&(Hn=rr.useNonce),typeof rr.checkLoginIframe!="undefined"&&(Yn.enable=rr.checkLoginIframe),rr.checkLoginIframeInterval&&(Yn.interval=rr.checkLoginIframeInterval),rr.onLoad==="login-required"&&(f.loginRequired=!0),rr.responseMode)if(rr.responseMode==="query"||rr.responseMode==="fragment")f.responseMode=rr.responseMode;else throw"Invalid value for responseMode";if(rr.flow){switch(rr.flow){case"standard":f.responseType="code";break;case"implicit":f.responseType="id_token token";break;case"hybrid":f.responseType="code id_token token";break;default:throw"Invalid value for flow"}f.flow=rr.flow}if(rr.timeSkew!=null&&(f.timeSkew=rr.timeSkew),rr.redirectUri&&(f.redirectUri=rr.redirectUri),rr.silentCheckSsoRedirectUri&&(f.silentCheckSsoRedirectUri=rr.silentCheckSsoRedirectUri),typeof rr.silentCheckSsoFallback=="boolean"?f.silentCheckSsoFallback=rr.silentCheckSsoFallback:f.silentCheckSsoFallback=!0,rr.pkceMethod){if(rr.pkceMethod!=="S256")throw"Invalid value for pkceMethod";f.pkceMethod=rr.pkceMethod}typeof rr.enableLogging=="boolean"?f.enableLogging=rr.enableLogging:f.enableLogging=!1,typeof rr.scope=="string"&&(f.scope=rr.scope),typeof rr.messageReceiveTimeout=="number"&&rr.messageReceiveTimeout>0?f.messageReceiveTimeout=rr.messageReceiveTimeout:f.messageReceiveTimeout=1e4}f.responseMode||(f.responseMode="fragment"),f.responseType||(f.responseType="code",f.flow="standard");var vr=Lr(),wr=Lr();wr.promise.then(function(){f.onReady&&f.onReady(f.authenticated),vr.setSuccess(f.authenticated)}).catch(function(Rr){vr.setError(Rr)});var gr=kr();function dr(){var Rr=function(Kr){Kr||(Ur.prompt="none"),f.login(Ur).then(function(){wr.setSuccess()}).catch(function(io){wr.setError(io)})},Cr=function(){var Kr=document.createElement("iframe"),io=f.createLoginUrl({prompt:"none",redirectUri:f.silentCheckSsoRedirectUri});Kr.setAttribute("src",io),Kr.setAttribute("title","keycloak-silent-check-sso"),Kr.style.display="none",document.body.appendChild(Kr);var no=function(ao){if(!(ao.origin!==window.location.origin||Kr.contentWindow!==ao.source)){var Ao=br(ao.data);fr(Ao,wr),document.body.removeChild(Kr),window.removeEventListener("message",no)}};window.addEventListener("message",no)},Ur={};switch(rr.onLoad){case"check-sso":Yn.enable?Qr().then(function(){Pr().then(function(Kr){Kr?wr.setSuccess():f.silentCheckSsoRedirectUri?Cr():Rr(!1)}).catch(function(Kr){wr.setError(Kr)})}):f.silentCheckSsoRedirectUri?Cr():Rr(!1);break;case"login-required":Rr(!0);break;default:throw"Invalid value for onLoad"}}function Ar(){var Rr=br(window.location.href);if(Rr&&window.history.replaceState(window.history.state,null,Rr.newUrl),Rr&&Rr.valid)return Qr().then(function(){fr(Rr,wr)}).catch(function(Cr){wr.setError(Cr)});rr?rr.token&&rr.refreshToken?(Or(rr.token,rr.refreshToken,rr.idToken),Yn.enable?Qr().then(function(){Pr().then(function(Cr){Cr?(f.onAuthSuccess&&f.onAuthSuccess(),wr.setSuccess(),qr()):wr.setSuccess()}).catch(function(Cr){wr.setError(Cr)})}):f.updateToken(-1).then(function(){f.onAuthSuccess&&f.onAuthSuccess(),wr.setSuccess()}).catch(function(Cr){f.onAuthError&&f.onAuthError(),rr.onLoad?dr():wr.setError(Cr)})):rr.onLoad?dr():wr.setSuccess():wr.setSuccess()}function _r(){var Rr=Lr(),Cr=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",Cr),Rr.setSuccess())};return document.addEventListener("readystatechange",Cr),Cr(),Rr.promise}return gr.then(function(){_r().then(Nr).then(Ar).catch(function(Rr){vr.setError(Rr)})}),gr.catch(function(Rr){vr.setError(Rr)}),vr.promise},f.login=function(rr){return g.login(rr)};function zn(rr){var cr=null,vr=window.crypto||window.msCrypto;if(vr&&vr.getRandomValues&&window.Uint8Array)return cr=new Uint8Array(rr),vr.getRandomValues(cr),cr;cr=new Array(rr);for(var wr=0;wr<cr.length;wr++)cr[wr]=Math.floor(256*Math.random());return cr}function nr(rr){return sr(rr,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function sr(rr,cr){for(var vr=zn(rr),wr=new Array(rr),gr=0;gr<rr;gr++)wr[gr]=cr.charCodeAt(vr[gr]%cr.length);return String.fromCharCode.apply(null,wr)}function or(rr,cr){switch(rr){case"S256":var vr=new Uint8Array(t.arrayBuffer(cr)),wr=n.fromByteArray(vr).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return wr;default:throw"Invalid value for pkceMethod"}}f.createLoginUrl=function(rr){var cr=Sr(),vr=Sr(),wr=g.redirectUri(rr),gr={state:cr,nonce:vr,redirectUri:encodeURIComponent(wr)};rr&&rr.prompt&&(gr.prompt=rr.prompt);var dr;rr&&rr.action=="register"?dr=f.endpoints.register():dr=f.endpoints.authorize();var Ar=rr&&rr.scope||f.scope;Ar?Ar.indexOf("openid")===-1&&(Ar="openid "+Ar):Ar="openid";var _r=dr+"?client_id="+encodeURIComponent(f.clientId)+"&redirect_uri="+encodeURIComponent(wr)+"&state="+encodeURIComponent(cr)+"&response_mode="+encodeURIComponent(f.responseMode)+"&response_type="+encodeURIComponent(f.responseType)+"&scope="+encodeURIComponent(Ar);if(Hn&&(_r=_r+"&nonce="+encodeURIComponent(vr)),rr&&rr.prompt&&(_r+="&prompt="+encodeURIComponent(rr.prompt)),rr&&rr.maxAge&&(_r+="&max_age="+encodeURIComponent(rr.maxAge)),rr&&rr.loginHint&&(_r+="&login_hint="+encodeURIComponent(rr.loginHint)),rr&&rr.idpHint&&(_r+="&kc_idp_hint="+encodeURIComponent(rr.idpHint)),rr&&rr.action&&rr.action!="register"&&(_r+="&kc_action="+encodeURIComponent(rr.action)),rr&&rr.locale&&(_r+="&ui_locales="+encodeURIComponent(rr.locale)),f.pkceMethod){var Rr=nr(96);gr.pkceCodeVerifier=Rr;var Cr=or(f.pkceMethod,Rr);_r+="&code_challenge="+Cr,_r+="&code_challenge_method="+f.pkceMethod}return Qn.add(gr),_r},f.logout=function(rr){return g.logout(rr)},f.createLogoutUrl=function(rr){var cr=f.endpoints.logout()+"?redirect_uri="+encodeURIComponent(g.redirectUri(rr,!1));return cr},f.register=function(rr){return g.register(rr)},f.createRegisterUrl=function(rr){return rr||(rr={}),rr.action="register",f.createLoginUrl(rr)},f.createAccountUrl=function(rr){var cr=ar(),vr=void 0;return typeof cr!="undefined"&&(vr=cr+"/account?referrer="+encodeURIComponent(f.clientId)+"&referrer_uri="+encodeURIComponent(g.redirectUri(rr))),vr},f.accountManagement=function(){return g.accountManagement()},f.hasRealmRole=function(rr){var cr=f.realmAccess;return!!cr&&cr.roles.indexOf(rr)>=0},f.hasResourceRole=function(rr,cr){if(!f.resourceAccess)return!1;var vr=f.resourceAccess[cr||f.clientId];return!!vr&&vr.roles.indexOf(rr)>=0},f.loadUserProfile=function(){var rr=ar()+"/account",cr=new XMLHttpRequest;cr.open("GET",rr,!0),cr.setRequestHeader("Accept","application/json"),cr.setRequestHeader("Authorization","bearer "+f.token);var vr=Lr();return cr.onreadystatechange=function(){cr.readyState==4&&(cr.status==200?(f.profile=JSON.parse(cr.responseText),vr.setSuccess(f.profile)):vr.setError())},cr.send(),vr.promise},f.loadUserInfo=function(){var rr=f.endpoints.userinfo(),cr=new XMLHttpRequest;cr.open("GET",rr,!0),cr.setRequestHeader("Accept","application/json"),cr.setRequestHeader("Authorization","bearer "+f.token);var vr=Lr();return cr.onreadystatechange=function(){cr.readyState==4&&(cr.status==200?(f.userInfo=JSON.parse(cr.responseText),vr.setSuccess(f.userInfo)):vr.setError())},cr.send(),vr.promise},f.isTokenExpired=function(rr){if(!f.tokenParsed||!f.refreshToken&&f.flow!="implicit")throw"Not authenticated";if(f.timeSkew==null)return ir("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var cr=f.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+f.timeSkew;if(rr){if(isNaN(rr))throw"Invalid minValidity";cr-=rr}return cr<0},f.updateToken=function(rr){var cr=Lr();if(!f.refreshToken)return cr.setError(),cr.promise;rr=rr||5;var vr=function(){var gr=!1;if(rr==-1?(gr=!0,ir("[KEYCLOAK] Refreshing token: forced refresh")):(!f.tokenParsed||f.isTokenExpired(rr))&&(gr=!0,ir("[KEYCLOAK] Refreshing token: token expired")),!gr)cr.setSuccess(!1);else{var dr="grant_type=refresh_token&refresh_token="+f.refreshToken,Ar=f.endpoints.token();if(Wn.push(cr),Wn.length==1){var _r=new XMLHttpRequest;_r.open("POST",Ar,!0),_r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),_r.withCredentials=!0,dr+="&client_id="+encodeURIComponent(f.clientId);var Rr=new Date().getTime();_r.onreadystatechange=function(){if(_r.readyState==4)if(_r.status==200){ir("[KEYCLOAK] Token refreshed"),Rr=(Rr+new Date().getTime())/2;var Cr=JSON.parse(_r.responseText);Or(Cr.access_token,Cr.refresh_token,Cr.id_token,Rr),f.onAuthRefreshSuccess&&f.onAuthRefreshSuccess();for(var Ur=Wn.pop();Ur!=null;Ur=Wn.pop())Ur.setSuccess(!0)}else{Zn("[KEYCLOAK] Failed to refresh token"),_r.status==400&&f.clearToken(),f.onAuthRefreshError&&f.onAuthRefreshError();for(var Ur=Wn.pop();Ur!=null;Ur=Wn.pop())Ur.setError(!0)}},_r.send(dr)}}};if(Yn.enable){var wr=Pr();wr.then(function(){vr()}).catch(function(gr){cr.setError(gr)})}else vr();return cr.promise},f.clearToken=function(){f.token&&(Or(null,null,null),f.onAuthLogout&&f.onAuthLogout(),f.loginRequired&&f.login())};function ar(){if(typeof f.authServerUrl!="undefined")return f.authServerUrl.charAt(f.authServerUrl.length-1)=="/"?f.authServerUrl+"realms/"+encodeURIComponent(f.realm):f.authServerUrl+"/realms/"+encodeURIComponent(f.realm)}function ur(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function fr(rr,cr){var vr=rr.code,wr=rr.error,gr=rr.prompt,dr=new Date().getTime();if(rr.kc_action_status&&f.onActionUpdate&&f.onActionUpdate(rr.kc_action_status),wr){if(gr!="none"){var Ar={error:wr,error_description:rr.error_description};f.onAuthError&&f.onAuthError(Ar),cr&&cr.setError(Ar)}else cr&&cr.setSuccess();return}else f.flow!="standard"&&(rr.access_token||rr.id_token)&&Ur(rr.access_token,null,rr.id_token,!0);if(f.flow!="implicit"&&vr){var _r="code="+vr+"&grant_type=authorization_code",Rr=f.endpoints.token(),Cr=new XMLHttpRequest;Cr.open("POST",Rr,!0),Cr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),_r+="&client_id="+encodeURIComponent(f.clientId),_r+="&redirect_uri="+rr.redirectUri,rr.pkceCodeVerifier&&(_r+="&code_verifier="+rr.pkceCodeVerifier),Cr.withCredentials=!0,Cr.onreadystatechange=function(){if(Cr.readyState==4)if(Cr.status==200){var Kr=JSON.parse(Cr.responseText);Ur(Kr.access_token,Kr.refresh_token,Kr.id_token,f.flow==="standard"),qr()}else f.onAuthError&&f.onAuthError(),cr&&cr.setError()},Cr.send(_r)}function Ur(Kr,io,no,ao){dr=(dr+new Date().getTime())/2,Or(Kr,io,no,dr),Hn&&(f.tokenParsed&&f.tokenParsed.nonce!=rr.storedNonce||f.refreshTokenParsed&&f.refreshTokenParsed.nonce!=rr.storedNonce||f.idTokenParsed&&f.idTokenParsed.nonce!=rr.storedNonce)?(ir("[KEYCLOAK] Invalid nonce, clearing token"),f.clearToken(),cr&&cr.setError()):ao&&(f.onAuthSuccess&&f.onAuthSuccess(),cr&&cr.setSuccess())}}function kr(rr){var cr=Lr(),vr;p?typeof p=="string"&&(vr=p):vr="keycloak.json";function wr(Cr){Cr?f.endpoints={authorize:function(){return Cr.authorization_endpoint},token:function(){return Cr.token_endpoint},logout:function(){if(!Cr.end_session_endpoint)throw"Not supported by the OIDC server";return Cr.end_session_endpoint},checkSessionIframe:function(){if(!Cr.check_session_iframe)throw"Not supported by the OIDC server";return Cr.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!Cr.userinfo_endpoint)throw"Not supported by the OIDC server";return Cr.userinfo_endpoint}}:f.endpoints={authorize:function(){return ar()+"/protocol/openid-connect/auth"},token:function(){return ar()+"/protocol/openid-connect/token"},logout:function(){return ar()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var Ur=ar()+"/protocol/openid-connect/login-status-iframe.html";return f.iframeVersion&&(Ur=Ur+"?version="+f.iframeVersion),Ur},thirdPartyCookiesIframe:function(){var Ur=ar()+"/protocol/openid-connect/3p-cookies/step1.html";return f.iframeVersion&&(Ur=Ur+"?version="+f.iframeVersion),Ur},register:function(){return ar()+"/protocol/openid-connect/registrations"},userinfo:function(){return ar()+"/protocol/openid-connect/userinfo"}}}if(vr){var gr=new XMLHttpRequest;gr.open("GET",vr,!0),gr.setRequestHeader("Accept","application/json"),gr.onreadystatechange=function(){if(gr.readyState==4)if(gr.status==200||Er(gr)){var Cr=JSON.parse(gr.responseText);f.authServerUrl=Cr["auth-server-url"],f.realm=Cr.realm,f.clientId=Cr.resource,wr(null),cr.setSuccess()}else cr.setError()},gr.send()}else{if(!p.clientId)throw"clientId missing";f.clientId=p.clientId;var dr=p.oidcProvider;if(dr)if(typeof dr=="string"){var Rr;dr.charAt(dr.length-1)=="/"?Rr=dr+".well-known/openid-configuration":Rr=dr+"/.well-known/openid-configuration";var gr=new XMLHttpRequest;gr.open("GET",Rr,!0),gr.setRequestHeader("Accept","application/json"),gr.onreadystatechange=function(){if(gr.readyState==4)if(gr.status==200||Er(gr)){var Ur=JSON.parse(gr.responseText);wr(Ur),cr.setSuccess()}else cr.setError()},gr.send()}else wr(dr),cr.setSuccess();else{if(!p.url){for(var Ar=document.getElementsByTagName("script"),_r=0;_r<Ar.length;_r++)if(Ar[_r].src.match(/.*keycloak\.js/)){p.url=Ar[_r].src.substr(0,Ar[_r].src.indexOf("/js/keycloak.js"));break}}if(!p.realm)throw"realm missing";f.authServerUrl=p.url,f.realm=p.realm,wr(null),cr.setSuccess()}}return cr.promise}function Er(rr){return rr.status==0&&rr.responseText&&rr.responseURL.startsWith("file:")}function Or(rr,cr,vr,wr){if(f.tokenTimeoutHandle&&(clearTimeout(f.tokenTimeoutHandle),f.tokenTimeoutHandle=null),cr?(f.refreshToken=cr,f.refreshTokenParsed=Fr(cr)):(delete f.refreshToken,delete f.refreshTokenParsed),vr?(f.idToken=vr,f.idTokenParsed=Fr(vr)):(delete f.idToken,delete f.idTokenParsed),rr){if(f.token=rr,f.tokenParsed=Fr(rr),f.sessionId=f.tokenParsed.session_state,f.authenticated=!0,f.subject=f.tokenParsed.sub,f.realmAccess=f.tokenParsed.realm_access,f.resourceAccess=f.tokenParsed.resource_access,wr&&(f.timeSkew=Math.floor(wr/1e3)-f.tokenParsed.iat),f.timeSkew!=null&&(ir("[KEYCLOAK] Estimated time difference between browser and server is "+f.timeSkew+" seconds"),f.onTokenExpired)){var gr=(f.tokenParsed.exp-new Date().getTime()/1e3+f.timeSkew)*1e3;ir("[KEYCLOAK] Token expires in "+Math.round(gr/1e3)+" s"),gr<=0?f.onTokenExpired():f.tokenTimeoutHandle=setTimeout(f.onTokenExpired,gr)}}else delete f.token,delete f.tokenParsed,delete f.subject,delete f.realmAccess,delete f.resourceAccess,f.authenticated=!1}function Fr(rr){switch(rr=rr.split(".")[1],rr=rr.replace(/-/g,"+"),rr=rr.replace(/_/g,"/"),rr.length%4){case 0:break;case 2:rr+="==";break;case 3:rr+="=";break;default:throw"Invalid token"}return rr=decodeURIComponent(escape(atob(rr))),rr=JSON.parse(rr),rr}function Sr(){var rr="0123456789abcdef",cr=sr(36,rr).split("");cr[14]="4",cr[19]=rr.substr(cr[19]&3|8,1),cr[8]=cr[13]=cr[18]=cr[23]="-";var vr=cr.join("");return vr}function br(rr){var cr=Mr(rr);if(cr){var vr=Qn.get(cr.state);return vr&&(cr.valid=!0,cr.redirectUri=vr.redirectUri,cr.storedNonce=vr.nonce,cr.prompt=vr.prompt,cr.pkceCodeVerifier=vr.pkceCodeVerifier),cr}}function Mr(rr){var cr;switch(f.flow){case"standard":cr=["code","state","session_state","kc_action_status"];break;case"implicit":cr=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":cr=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}cr.push("error"),cr.push("error_description"),cr.push("error_uri");var vr=rr.indexOf("?"),wr=rr.indexOf("#"),gr,dr;if(f.responseMode==="query"&&vr!==-1?(gr=rr.substring(0,vr),dr=Dr(rr.substring(vr+1,wr!==-1?wr:rr.length),cr),dr.paramsString!==""&&(gr+="?"+dr.paramsString),wr!==-1&&(gr+=rr.substring(wr))):f.responseMode==="fragment"&&wr!==-1&&(gr=rr.substring(0,wr),dr=Dr(rr.substring(wr+1),cr),dr.paramsString!==""&&(gr+="#"+dr.paramsString)),dr&&dr.oauthParams){if(f.flow==="standard"||f.flow==="hybrid"){if((dr.oauthParams.code||dr.oauthParams.error)&&dr.oauthParams.state)return dr.oauthParams.newUrl=gr,dr.oauthParams}else if(f.flow==="implicit"&&(dr.oauthParams.access_token||dr.oauthParams.error)&&dr.oauthParams.state)return dr.oauthParams.newUrl=gr,dr.oauthParams}}function Dr(rr,cr){for(var vr=rr.split("&"),wr={paramsString:"",oauthParams:{}},gr=0;gr<vr.length;gr++){var dr=vr[gr].indexOf("="),Ar=vr[gr].slice(0,dr);cr.indexOf(Ar)!==-1?wr.oauthParams[Ar]=vr[gr].slice(dr+1):(wr.paramsString!==""&&(wr.paramsString+="&"),wr.paramsString+=vr[gr])}return wr}function Lr(){var rr={setSuccess:function(cr){rr.resolve(cr)},setError:function(cr){rr.reject(cr)}};return rr.promise=new Promise(function(cr,vr){rr.resolve=cr,rr.reject=vr}),rr.promise.success=function(cr){return r(),this.then(function(wr){cr(wr)}),this},rr.promise.error=function(cr){return r(),this.catch(function(wr){cr(wr)}),this},rr}function Jr(rr,cr,vr){var wr=null,gr=new Promise(function(dr,Ar){wr=setTimeout(function(){Ar({error:vr||"Promise is not settled within timeout of "+cr+"ms"})},cr)});return Promise.race([rr,gr]).finally(function(){clearTimeout(wr)})}function Qr(){var rr=Lr();if(!Yn.enable||Yn.iframe)return rr.setSuccess(),rr.promise;var cr=document.createElement("iframe");Yn.iframe=cr,cr.onload=function(){var gr=f.endpoints.authorize();gr.charAt(0)==="/"?Yn.iframeOrigin=ur():Yn.iframeOrigin=gr.substring(0,gr.indexOf("/",8)),rr.setSuccess()};var vr=f.endpoints.checkSessionIframe();cr.setAttribute("src",vr),cr.setAttribute("title","keycloak-session-iframe"),cr.style.display="none",document.body.appendChild(cr);var wr=function(gr){if(!(gr.origin!==Yn.iframeOrigin||Yn.iframe.contentWindow!==gr.source)&&(gr.data=="unchanged"||gr.data=="changed"||gr.data=="error")){gr.data!="unchanged"&&f.clearToken();for(var dr=Yn.callbackList.splice(0,Yn.callbackList.length),Ar=dr.length-1;Ar>=0;--Ar){var _r=dr[Ar];gr.data=="error"?_r.setError():_r.setSuccess(gr.data=="unchanged")}}};return window.addEventListener("message",wr,!1),rr.promise}function qr(){Yn.enable&&f.token&&setTimeout(function(){Pr().then(function(rr){rr&&qr()})},Yn.interval*1e3)}function Pr(){var rr=Lr();if(Yn.iframe&&Yn.iframeOrigin){var cr=f.clientId+" "+(f.sessionId?f.sessionId:"");Yn.callbackList.push(rr);var vr=Yn.iframeOrigin;Yn.callbackList.length==1&&Yn.iframe.contentWindow.postMessage(cr,vr)}else rr.setSuccess();return rr.promise}function Nr(){var rr=Lr();if(Yn.enable||f.silentCheckSsoRedirectUri){var cr=document.createElement("iframe");cr.setAttribute("src",f.endpoints.thirdPartyCookiesIframe()),cr.setAttribute("title","keycloak-3p-check-iframe"),cr.style.display="none",document.body.appendChild(cr);var vr=function(wr){cr.contentWindow===wr.source&&(wr.data!=="supported"&&wr.data!=="unsupported"||(wr.data==="unsupported"&&(Yn.enable=!1,f.silentCheckSsoFallback&&(f.silentCheckSsoRedirectUri=!1),Zn("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(cr),window.removeEventListener("message",vr),rr.setSuccess()))};window.addEventListener("message",vr,!1)}else rr.setSuccess();return Jr(rr.promise,f.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function Gr(rr){if(!rr||rr=="default")return{login:function(dr){return window.location.replace(f.createLoginUrl(dr)),Lr().promise},logout:function(dr){return window.location.replace(f.createLogoutUrl(dr)),Lr().promise},register:function(dr){return window.location.replace(f.createRegisterUrl(dr)),Lr().promise},accountManagement:function(){var dr=f.createAccountUrl();if(typeof dr!="undefined")window.location.href=dr;else throw"Not supported by the OIDC server";return Lr().promise},redirectUri:function(dr,Ar){return dr&&dr.redirectUri?dr.redirectUri:f.redirectUri?f.redirectUri:location.href}};if(rr=="cordova"){Yn.enable=!1;var cr=function(dr,Ar,_r){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(dr,Ar,_r):window.open(dr,Ar,_r)},vr=function(dr){return dr&&dr.cordovaOptions?Object.keys(dr.cordovaOptions).reduce(function(Ar,_r){return Ar[_r]=dr.cordovaOptions[_r],Ar},{}):{}},wr=function(dr){return Object.keys(dr).reduce(function(Ar,_r){return Ar.push(_r+"="+dr[_r]),Ar},[]).join(",")},gr=function(dr){var Ar=vr(dr);return Ar.location="no",dr&&dr.prompt=="none"&&(Ar.hidden="yes"),wr(Ar)};return{login:function(dr){var Ar=Lr(),_r=gr(dr),Rr=f.createLoginUrl(dr),Cr=cr(Rr,"_blank",_r),Ur=!1,Kr=!1,io=function(){Kr=!0,Cr.close()};return Cr.addEventListener("loadstart",function(no){if(no.url.indexOf("http://localhost")==0){var ao=br(no.url);fr(ao,Ar),io(),Ur=!0}}),Cr.addEventListener("loaderror",function(no){if(!Ur)if(no.url.indexOf("http://localhost")==0){var ao=br(no.url);fr(ao,Ar),io(),Ur=!0}else Ar.setError(),io()}),Cr.addEventListener("exit",function(no){Kr||Ar.setError({reason:"closed_by_user"})}),Ar.promise},logout:function(dr){var Ar=Lr(),_r=f.createLogoutUrl(dr),Rr=cr(_r,"_blank","location=no,hidden=yes,clearcache=yes"),Cr;return Rr.addEventListener("loadstart",function(Ur){Ur.url.indexOf("http://localhost")==0&&Rr.close()}),Rr.addEventListener("loaderror",function(Ur){Ur.url.indexOf("http://localhost")==0||(Cr=!0),Rr.close()}),Rr.addEventListener("exit",function(Ur){Cr?Ar.setError():(f.clearToken(),Ar.setSuccess())}),Ar.promise},register:function(dr){var Ar=Lr(),_r=f.createRegisterUrl(),Rr=gr(dr),Cr=cr(_r,"_blank",Rr);return Cr.addEventListener("loadstart",function(Ur){if(Ur.url.indexOf("http://localhost")==0){Cr.close();var Kr=br(Ur.url);fr(Kr,Ar)}}),Ar.promise},accountManagement:function(){var dr=f.createAccountUrl();if(typeof dr!="undefined"){var Ar=cr(dr,"_blank","location=no");Ar.addEventListener("loadstart",function(_r){_r.url.indexOf("http://localhost")==0&&Ar.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(dr){return"http://localhost"}}}if(rr=="cordova-native")return Yn.enable=!1,{login:function(dr){var Ar=Lr(),_r=f.createLoginUrl(dr);return universalLinks.subscribe("keycloak",function(Rr){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var Cr=br(Rr.url);fr(Cr,Ar)}),window.cordova.plugins.browsertab.openUrl(_r),Ar.promise},logout:function(dr){var Ar=Lr(),_r=f.createLogoutUrl(dr);return universalLinks.subscribe("keycloak",function(Rr){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),f.clearToken(),Ar.setSuccess()}),window.cordova.plugins.browsertab.openUrl(_r),Ar.promise},register:function(dr){var Ar=Lr(),_r=f.createRegisterUrl(dr);return universalLinks.subscribe("keycloak",function(Rr){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var Cr=br(Rr.url);fr(Cr,Ar)}),window.cordova.plugins.browsertab.openUrl(_r),Ar.promise},accountManagement:function(){var dr=f.createAccountUrl();if(typeof dr!="undefined")window.cordova.plugins.browsertab.openUrl(dr);else throw"Not supported by the OIDC server"},redirectUri:function(dr){return dr&&dr.redirectUri?dr.redirectUri:f.redirectUri?f.redirectUri:"http://localhost"}};throw"invalid adapter type: "+rr}var Xr=function(){if(!(this instanceof Xr))return new Xr;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var rr=this;function cr(){for(var vr=new Date().getTime(),wr=0;wr<localStorage.length;wr++){var gr=localStorage.key(wr);if(gr&&gr.indexOf("kc-callback-")==0){var dr=localStorage.getItem(gr);if(dr)try{var Ar=JSON.parse(dr).expires;(!Ar||Ar<vr)&&localStorage.removeItem(gr)}catch(_r){localStorage.removeItem(gr)}}}}rr.get=function(vr){if(vr){var wr="kc-callback-"+vr,gr=localStorage.getItem(wr);return gr&&(localStorage.removeItem(wr),gr=JSON.parse(gr)),cr(),gr}},rr.add=function(vr){cr();var wr="kc-callback-"+vr.state;vr.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(wr,JSON.stringify(vr))}},Yr=function(){if(!(this instanceof Yr))return new Yr;var rr=this;rr.get=function(gr){if(gr){var dr=vr("kc-callback-"+gr);if(wr("kc-callback-"+gr,"",cr(-100)),dr)return JSON.parse(dr)}},rr.add=function(gr){wr("kc-callback-"+gr.state,JSON.stringify(gr),cr(60))},rr.removeItem=function(gr){wr(gr,"",cr(-100))};var cr=function(gr){var dr=new Date;return dr.setTime(dr.getTime()+gr*60*1e3),dr},vr=function(gr){for(var dr=gr+"=",Ar=document.cookie.split(";"),_r=0;_r<Ar.length;_r++){for(var Rr=Ar[_r];Rr.charAt(0)==" ";)Rr=Rr.substring(1);if(Rr.indexOf(dr)==0)return Rr.substring(dr.length,Rr.length)}return""},wr=function(gr,dr,Ar){var _r=gr+"="+dr+"; expires="+Ar.toUTCString()+"; ";document.cookie=_r}};function oo(){try{return new Xr}catch(rr){}return new Yr}function Zr(rr){return function(){f.enableLogging&&rr.apply(console,Array.prototype.slice.call(arguments))}}}return c})})(keycloak);var keycloakExports=keycloak.exports;const H$1=getDefaultExportFromCjs(keycloakExports);var build_umd$1={exports:{}};(function(s,e){(function(n,i){s.exports=i()})(commonjsGlobal,function(){return function(t){var n={};function i(r){if(n[r])return n[r].exports;var c=n[r]={i:r,l:!1,exports:{}};return t[r].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=t,i.c=n,i.d=function(r,c,p){i.o(r,c)||Object.defineProperty(r,c,{enumerable:!0,get:p})},i.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,c){if(c&1&&(r=i(r)),c&8||c&4&&typeof r=="object"&&r&&r.__esModule)return r;var p=Object.create(null);if(i.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:r}),c&2&&typeof r!="string")for(var f in r)i.d(p,f,function(g){return r[g]}.bind(null,f));return p},i.n=function(r){var c=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(c,"a",c),c},i.o=function(r,c){return Object.prototype.hasOwnProperty.call(r,c)},i.p="",i(i.s=0)}({"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(t,n){function i(r,c){(c==null||c>r.length)&&(c=r.length);for(var p=0,f=new Array(c);p<c;p++)f[p]=r[p];return f}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function c(p){if(Array.isArray(p))return r(p)}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(t,n){function i(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/createClass.js":function(t,n){function i(c,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function r(c,p,f){return p&&i(c.prototype,p),f&&i(c,f),c}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(t,n){function i(r,c,p){return c in r?Object.defineProperty(r,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[c]=p,r}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(t,n){function i(r){return r&&r.__esModule?r:{default:r}}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireWildcard.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/typeof.js").default;function c(f){if(typeof WeakMap!="function")return null;var g=new WeakMap,Wn=new WeakMap;return(c=function(Yn){return Yn?Wn:g})(f)}function p(f,g){if(!g&&f&&f.__esModule)return f;if(f===null||r(f)!=="object"&&typeof f!="function")return{default:f};var Wn=c(g);if(Wn&&Wn.has(f))return Wn.get(f);var Qn={},Yn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var xn in f)if(xn!=="default"&&Object.prototype.hasOwnProperty.call(f,xn)){var er=Yn?Object.getOwnPropertyDescriptor(f,xn):null;er&&(er.get||er.set)?Object.defineProperty(Qn,xn,er):Qn[xn]=f[xn]}return Qn.default=f,Wn&&Wn.set(f,Qn),Qn}t.exports=p,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(t,n){function i(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(t,n){function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function c(p,f){if(p==null)return{};var g=r(p,f),Wn,Qn;if(Object.getOwnPropertySymbols){var Yn=Object.getOwnPropertySymbols(p);for(Qn=0;Qn<Yn.length;Qn++)Wn=Yn[Qn],!(f.indexOf(Wn)>=0)&&Object.prototype.propertyIsEnumerable.call(p,Wn)&&(g[Wn]=p[Wn])}return g}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(t,n){function i(r,c){if(r==null)return{};var p={},f=Object.keys(r),g,Wn;for(Wn=0;Wn<f.length;Wn++)g=f[Wn],!(c.indexOf(g)>=0)&&(p[g]=r[g]);return p}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),c=i("./node_modules/@babel/runtime/helpers/iterableToArray.js"),p=i("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),f=i("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function g(Wn){return r(Wn)||c(Wn)||p(Wn)||f()}t.exports=g,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,n){function i(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(t.exports=i=function(p){return typeof p},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=i=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t.exports.default=t.exports,t.exports.__esModule=!0),i(r)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function c(p,f){if(p){if(typeof p=="string")return r(p,f);var g=Object.prototype.toString.call(p).slice(8,-1);if(g==="Object"&&p.constructor&&(g=p.constructor.name),g==="Map"||g==="Set")return Array.from(p);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return r(p,f)}}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/webpack/buildin/global.js":function(t,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){typeof window=="object"&&(i=window)}t.exports=i},"./packages/@apphub:logrocket-console/src/index.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(i("./packages/@apphub:logrocket-console/src/registerConsole.js")),p=c.default;n.default=p,t.exports=n.default},"./packages/@apphub:logrocket-console/src/registerConsole.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var c=r(i("./node_modules/@babel/runtime/helpers/typeof.js")),p=r(i("./packages/@apphub:logrocket-utils/src/enhanceFunc.js")),f=i("./packages/@apphub:logrocket-exceptions/src/index.js");function g(Wn){var Qn=[],Yn=["log","warn","info","error","debug"];return Yn.forEach(function(xn){Qn.push((0,p.default)(console,xn,function(){for(var er=arguments.length,Hn=new Array(er),ir=0;ir<er;ir++)Hn[ir]=arguments[ir];Wn.addEvent("lr.core.LogEvent",function(){var Zn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zn=Zn.isEnabled;return(0,c.default)(zn)==="object"&&zn[xn]===!1||zn===!1?null:(xn==="error"&&Zn.shouldAggregateConsoleErrors&&f.Capture.captureMessage(Wn,Hn[0],{},!0),{logLevel:xn.toUpperCase(),args:Hn})})}))}),function(){Qn.forEach(function(xn){return xn()})}}t.exports=n.default},"./packages/@apphub:logrocket-exceptions/src/Capture.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.captureMessage=Qn,n.captureException=Yn;var c=r(i("./node_modules/@babel/runtime/helpers/typeof.js")),p=r(i("./packages/@apphub:logrocket-utils/src/TraceKit.js")),f=r(i("./packages/@apphub:logrocket-exceptions/src/stackTraceFromError.js"));function g(xn){return/boolean|number|string/.test((0,c.default)(xn))}function Wn(xn,er){if(er){for(var Hn=["level","logger"],ir=0,Zn=Hn;ir<Zn.length;ir++){var zn=Zn[ir],nr=er[zn];g(nr)&&(xn[zn]=nr.toString())}for(var sr=["tags","extra"],or=0,ar=sr;or<ar.length;or++){for(var ur=ar[or],fr=er[ur]||{},kr={},Er=0,Or=Object.keys(fr);Er<Or.length;Er++){var Fr=Or[Er],Sr=fr[Fr];g(Sr)&&(kr[Fr.toString()]=Sr.toString())}xn[ur]=kr}}}function Qn(xn,er){var Hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Zn={exceptionType:ir?"CONSOLE":"MESSAGE",message:er,browserHref:window.location?window.location.href:""};Wn(Zn,Hn),xn.addEvent("lr.core.Exception",function(){return Zn})}function Yn(xn,er){var Hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Zn=ir||p.default.computeStackTrace(er),zn={exceptionType:"WINDOW",errorType:Zn.name,message:Zn.message,browserHref:window.location?window.location.href:""};Wn(zn,Hn);var nr={_stackTrace:(0,f.default)(Zn)};xn.addEvent("lr.core.Exception",function(){return zn},nr)}},"./packages/@apphub:logrocket-exceptions/src/index.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),c=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"registerExceptions",{enumerable:!0,get:function(){return p.default}}),n.Capture=void 0;var p=c(i("./packages/@apphub:logrocket-exceptions/src/registerExceptions.js")),f=r(i("./packages/@apphub:logrocket-exceptions/src/Capture.js"));n.Capture=f},"./packages/@apphub:logrocket-exceptions/src/raven/raven.js":function(t,n,i){(function(r){var c=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var p=c(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),f=c(i("./node_modules/@babel/runtime/helpers/createClass.js")),g=c(i("./packages/@apphub:logrocket-utils/src/TraceKit.js")),Wn=Object.prototype;function Qn(Zn){return Zn===void 0}function Yn(Zn){return typeof Zn=="function"}function xn(Zn,zn){return Wn.hasOwnProperty.call(Zn,zn)}function er(Zn,zn,nr,sr){var or=Zn[zn];Zn[zn]=nr(or),sr&&sr.push([Zn,zn,or])}var Hn=typeof window!="undefined"?window:typeof r!="undefined"?r:typeof self!="undefined"?self:{};Hn.document;var ir=function(){function Zn(zn){var nr=zn.captureException;(0,p.default)(this,Zn),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=nr,g.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,f.default)(Zn,[{key:"uninstall",value:function(){g.default.report.unsubscribe(this._errorHandler);for(var nr;this._wrappedBuiltIns.length;){nr=this._wrappedBuiltIns.shift();var sr=nr[0],or=nr[1],ar=nr[2];sr[or]=ar}}},{key:"_errorHandler",value:function(nr){this._ignoreOnError||this.captureException(nr)}},{key:"_ignoreNextOnError",value:function(){var nr=this;this._ignoreOnError+=1,setTimeout(function(){nr._ignoreOnError-=1})}},{key:"context",value:function(nr,sr,or){return Yn(nr)&&(or=sr||[],sr=nr,nr=void 0),this.wrap(nr,sr).apply(this,or)}},{key:"wrap",value:function(nr,sr,or){var ar=this;if(Qn(sr)&&!Yn(nr))return nr;if(Yn(nr)&&(sr=nr,nr=void 0),!Yn(sr))return sr;try{if(sr.__lr__)return sr;if(sr.__lr_wrapper__)return sr.__lr_wrapper__;if(!Object.isExtensible(sr))return sr}catch(kr){return sr}function ur(){var kr=[],Er=arguments.length,Or=!nr||nr&&nr.deep!==!1;for(or&&Yn(or)&&or.apply(this,arguments);Er--;)kr[Er]=Or?ar.wrap(nr,arguments[Er]):arguments[Er];try{return sr.apply(this,kr)}catch(Fr){throw ar._ignoreNextOnError(),ar.captureException(g.default.computeStackTrace(Fr),nr),Fr}}for(var fr in sr)xn(sr,fr)&&(ur[fr]=sr[fr]);return ur.prototype=sr.prototype,sr.__lr_wrapper__=ur,ur.__lr__=!0,ur.__inner__=sr,ur}},{key:"_instrumentTryCatch",value:function(){var nr=this,sr=nr._wrappedBuiltIns;function or(Er){return function(Or,Fr){for(var Sr=new Array(arguments.length),br=0;br<Sr.length;++br)Sr[br]=arguments[br];var Mr=Sr[0];return Yn(Mr)&&(Sr[0]=nr.wrap(Mr)),Er.apply?Er.apply(this,Sr):Er(Sr[0],Sr[1])}}function ar(Er){var Or=Hn[Er]&&Hn[Er].prototype;Or&&Or.hasOwnProperty&&Or.hasOwnProperty("addEventListener")&&(er(Or,"addEventListener",function(Fr){return function(Sr,br,Mr,Dr){try{br&&br.handleEvent&&(br.handleEvent=nr.wrap(br.handleEvent))}catch(Jr){}var Lr;return Fr.call(this,Sr,nr.wrap(br,void 0,Lr),Mr,Dr)}},sr),er(Or,"removeEventListener",function(Fr){return function(Sr,br,Mr,Dr){try{br=br&&(br.__lr_wrapper__?br.__lr_wrapper__:br)}catch(Lr){}return Fr.call(this,Sr,br,Mr,Dr)}},sr))}er(Hn,"setTimeout",or,sr),er(Hn,"setInterval",or,sr),Hn.requestAnimationFrame&&er(Hn,"requestAnimationFrame",function(Er){return function(Or){return Er(nr.wrap(Or))}},sr);for(var ur=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fr=0;fr<ur.length;fr++)ar(ur[fr]);var kr=Hn.jQuery||Hn.$;kr&&kr.fn&&kr.fn.ready&&er(kr.fn,"ready",function(Er){return function(Or){return Er.call(this,nr.wrap(Or))}},sr)}}]),Zn}();n.default=ir,t.exports=n.default}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./packages/@apphub:logrocket-exceptions/src/registerExceptions.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),c=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var p=c(i("./packages/@apphub:logrocket-exceptions/src/raven/raven.js")),f=r(i("./packages/@apphub:logrocket-exceptions/src/Capture.js"));function g(Wn){var Qn=new p.default({captureException:function(er){f.captureException(Wn,null,null,er)}}),Yn=function(er){Wn.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:er.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",Yn),function(){window.removeEventListener("unhandledrejection",Yn),Qn.uninstall()}}t.exports=n.default},"./packages/@apphub:logrocket-exceptions/src/stackTraceFromError.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c){function p(f){return f===null?void 0:f}return c.stack?c.stack.map(function(f){return{lineNumber:p(f.line),columnNumber:p(f.column),fileName:p(f.url),functionName:p(f.func)}}):void 0}t.exports=n.default},"./packages/@apphub:logrocket-network/src/fetchIntercept.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(i("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),p=i("./packages/@apphub:logrocket-network/src/registerXHR.js"),f=[];function g(xn,er){for(var Hn=f.reduce(function(sr,or){return[or].concat(sr)},[]),ir=arguments.length,Zn=new Array(ir>2?ir-2:0),zn=2;zn<ir;zn++)Zn[zn-2]=arguments[zn];var nr=Promise.resolve(Zn);return Hn.forEach(function(sr){var or=sr.request,ar=sr.requestError;(or||ar)&&(nr=nr.then(function(ur){return or.apply(void 0,[er].concat((0,c.default)(ur)))},function(ur){return ar.apply(void 0,[er].concat((0,c.default)(ur)))}))}),nr=nr.then(function(sr){(0,p.setActive)(!1);var or,ar;try{or=xn.apply(void 0,(0,c.default)(sr))}catch(ur){ar=ur}if((0,p.setActive)(!0),ar)throw ar;return or}),Hn.forEach(function(sr){var or=sr.response,ar=sr.responseError;(or||ar)&&(nr=nr.then(function(ur){return or(er,ur)},function(ur){return ar&&ar(er,ur)}))}),nr}function Wn(xn){if(!(!xn.fetch||!xn.Promise)){var er=xn.fetch.polyfill;xn.fetch=function(Hn){var ir=0;return function(){for(var Zn=arguments.length,zn=new Array(Zn),nr=0;nr<Zn;nr++)zn[nr]=arguments[nr];return g.apply(void 0,[Hn,ir++].concat(zn))}}(xn.fetch),er&&(xn.fetch.polyfill=er)}}var Qn=!1,Yn={register:function(er){return Qn||(Qn=!0,Wn(window)),f.push(er),function(){var Hn=f.indexOf(er);Hn>=0&&f.splice(Hn,1)}},clear:function(){f=[]}};n.default=Yn,t.exports=n.default},"./packages/@apphub:logrocket-network/src/index.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=er;var c=r(i("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(i("./node_modules/@babel/runtime/helpers/typeof.js")),f=r(i("./packages/@apphub:logrocket-network/src/registerFetch.js")),g=r(i("./packages/@apphub:logrocket-network/src/registerNetworkInformation.js")),Wn=r(i("./packages/@apphub:logrocket-network/src/registerXHR.js")),Qn=r(i("./packages/@apphub:logrocket-utils/src/mapValues.js"));function Yn(Hn,ir){var Zn=Object.keys(Hn);if(Object.getOwnPropertySymbols){var zn=Object.getOwnPropertySymbols(Hn);ir&&(zn=zn.filter(function(nr){return Object.getOwnPropertyDescriptor(Hn,nr).enumerable})),Zn.push.apply(Zn,zn)}return Zn}function xn(Hn){for(var ir=1;ir<arguments.length;ir++){var Zn=arguments[ir]!=null?arguments[ir]:{};ir%2?Yn(Object(Zn),!0).forEach(function(zn){(0,c.default)(Hn,zn,Zn[zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Hn,Object.getOwnPropertyDescriptors(Zn)):Yn(Object(Zn)).forEach(function(zn){Object.defineProperty(Hn,zn,Object.getOwnPropertyDescriptor(Zn,zn))})}return Hn}function er(Hn){var ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1},Zn=ir.isReactNative,zn=ir.shouldAugmentNPS,nr=ir.shouldParseXHRBlob,sr={},or=function(Sr){var br=4096e3,Mr=Sr;if((0,p.default)(Sr)==="object"&&Sr!=null){var Dr=Object.getPrototypeOf(Sr);(Dr===Object.prototype||Dr===null)&&(Mr=JSON.stringify(Sr))}if(Mr&&Mr.length&&Mr.length>br&&typeof Mr=="string"){var Lr=Mr.substring(0,1e3);return"".concat(Lr,` ... LogRocket truncating to first 1000 characters.
      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference#network`)}return Sr},ar=function(Sr,br){var Mr=br.method;Hn.addEvent("lr.network.RequestEvent",function(){var Dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Lr=Dr.isEnabled,Jr=Lr===void 0?!0:Lr,Qr=Dr.requestSanitizer,qr=Qr===void 0?function(Xr){return Xr}:Qr;if(!Jr)return null;var Pr=null;try{Pr=qr(xn(xn({},br),{},{reqId:Sr}))}catch(Xr){console.error(Xr)}if(Pr){var Nr=Pr.url;if(typeof document!="undefined"&&typeof document.createElement=="function"){var Gr=document.createElement("a");Gr.href=Pr.url,Nr=Gr.href}return{reqId:Sr,url:Nr,headers:(0,Qn.default)(Pr.headers,function(Xr){return"".concat(Xr)}),body:or(Pr.body),method:Mr,referrer:Pr.referrer||void 0,mode:Pr.mode||void 0,credentials:Pr.credentials||void 0}}return sr[Sr]=!0,null})},ur=function(Sr,br){var Mr=br.method,Dr=br.status;Hn.addEvent("lr.network.ResponseEvent",function(){var Lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Jr=Lr.isEnabled,Qr=Jr===void 0?!0:Jr,qr=Lr.responseSanitizer,Pr=qr===void 0?function(Gr){return Gr}:qr;if(Qr){if(sr[Sr])return delete sr[Sr],null}else return null;var Nr=null;try{Nr=Pr(xn(xn({},br),{},{reqId:Sr}))}catch(Gr){console.error(Gr)}return Nr?{reqId:Sr,status:Nr.status,headers:(0,Qn.default)(Nr.headers,function(Gr){return"".concat(Gr)}),body:or(Nr.body),method:Mr}:{reqId:Sr,status:Dr,headers:{},body:null,method:Mr}})},fr=function(Sr){return Hn.isDisabled||sr[Sr]===!0},kr=(0,f.default)({addRequest:ar,addResponse:ur,isIgnored:fr}),Er=(0,Wn.default)({addRequest:ar,addResponse:ur,isIgnored:fr,logger:Hn,shouldAugmentNPS:zn,shouldParseXHRBlob:nr}),Or=Zn?function(){}:(0,g.default)(Hn);return function(){Or(),kr(),Er()}}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerFetch.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=er;var c=r(i("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(i("./packages/@apphub:logrocket-utils/src/mapValues.js")),f=r(i("./packages/@apphub:logrocket-network/src/fetchIntercept.js"));function g(Hn,ir){var Zn=Object.keys(Hn);if(Object.getOwnPropertySymbols){var zn=Object.getOwnPropertySymbols(Hn);ir&&(zn=zn.filter(function(nr){return Object.getOwnPropertyDescriptor(Hn,nr).enumerable})),Zn.push.apply(Zn,zn)}return Zn}function Wn(Hn){for(var ir=1;ir<arguments.length;ir++){var Zn=arguments[ir]!=null?arguments[ir]:{};ir%2?g(Object(Zn),!0).forEach(function(zn){(0,c.default)(Hn,zn,Zn[zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Hn,Object.getOwnPropertyDescriptors(Zn)):g(Object(Zn)).forEach(function(zn){Object.defineProperty(Hn,zn,Object.getOwnPropertyDescriptor(Zn,zn))})}return Hn}function Qn(Hn){if(Hn==null||typeof Hn.forEach!="function")return Hn;var ir={};return Hn.forEach(function(Zn,zn){ir[zn]?ir[zn]="".concat(ir[zn],",").concat(Zn):ir[zn]="".concat(Zn)}),ir}var Yn=function(ir){return(0,p.default)(Qn(ir),function(Zn){return"".concat(Zn)})};function xn(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:Hn.url,headers:Yn(Hn.headers),method:Hn.method&&Hn.method.toUpperCase(),referrer:Hn.referrer||void 0,mode:Hn.mode||void 0,credentials:Hn.credentials||void 0}}function er(Hn){var ir=Hn.addRequest,Zn=Hn.addResponse,zn=Hn.isIgnored,nr="fetch-",sr={},or=f.default.register({request:function(ur){for(var fr=arguments.length,kr=new Array(fr>1?fr-1:0),Er=1;Er<fr;Er++)kr[Er-1]=arguments[Er];var Or;if(typeof Request!="undefined"&&kr[0]instanceof Request){var Fr;try{Fr=kr[0].clone().text()}catch(Sr){Fr=Promise.resolve("LogRocket fetch error: ".concat(Sr.message))}Or=Fr.then(function(Sr){return Wn(Wn({},xn(kr[0])),{},{body:Sr})},function(Sr){return Wn(Wn({},xn(kr[0])),{},{body:"LogRocket fetch error: ".concat(Sr.message)})})}else Or=Promise.resolve(Wn(Wn({},xn(kr[1])),{},{url:"".concat(kr[0]),body:(kr[1]||{}).body}));return Or.then(function(Sr){return sr[ur]=Sr.method,ir("".concat(nr).concat(ur),Sr),kr})},requestError:function(ur,fr){return Promise.reject(fr)},response:function(ur,fr){var kr;if(zn("".concat(nr).concat(ur)))return fr;try{kr=fr.clone().text()}catch(Er){kr=Promise.resolve("LogRocket fetch error: ".concat(Er.message))}return kr.catch(function(Er){if(!(Er.name==="AbortError"&&Er instanceof DOMException))throw Er}).then(function(Er){var Or={url:fr.url,status:fr.status,headers:Yn(fr.headers),body:Er,method:sr[ur]};delete sr[ur],Zn("".concat(nr).concat(ur),Or)}),fr},responseError:function(ur,fr){var kr={url:void 0,status:0,headers:{},body:"".concat(fr)};return Zn("".concat(nr).concat(ur),kr),Promise.reject(fr)}});return or}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerNetworkInformation.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function c(p){var f=void 0;function g(){var Wn={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(Wn.effectiveType=r[window.navigator.connection.effectiveType]||"UNKNOWN"):Wn.effectiveType="NONE",!(f&&Wn.online===f.online&&Wn.effectiveType===f.effectiveType)&&(f=Wn,p.addEvent("lr.network.NetworkStatusEvent",function(){var Qn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Yn=Qn.isEnabled,xn=Yn===void 0?!0:Yn;return xn?Wn:null}))}return setTimeout(g),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",g),window.addEventListener("online",g),window.addEventListener("offline",g),function(){window.removeEventListener("offline",g),window.removeEventListener("online",g),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",g)}}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerXHR.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.setActive=Qn,n.default=xn;var c=r(i("./packages/@apphub:logrocket-utils/src/mapValues.js")),p=r(i("./packages/@apphub:logrocket-utils/src/enhanceFunc.js")),f=r(i("./packages/@apphub:logrocket-utils/src/startsWith.js")),g=i("./packages/@apphub:logrocket-utils/src/constants/nps.js"),Wn=!0;function Qn(er){Wn=er}var Yn=0;function xn(er){var Hn=er.addRequest,ir=er.addResponse,Zn=er.isIgnored,zn=er.logger,nr=er.shouldAugmentNPS,sr=nr===void 0?!0:nr,or=er.shouldParseXHRBlob,ar=or===void 0?!1:or,ur=XMLHttpRequest,fr=new WeakMap,kr=!1,Er="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(Fr,Sr){var br=new ur(Fr,Sr);if(!Wn)return br;fr.set(br,{xhrId:++Yn,headers:{}});var Mr=br.open;function Dr(){for(var qr=arguments.length,Pr=new Array(qr),Nr=0;Nr<qr;Nr++)Pr[Nr]=arguments[Nr];try{var Gr=Pr[1];if(window.URL&&typeof window.URL=="function"&&Gr.search(g.WOOTRIC_RESPONSES_REGEX)===0){var Xr=new window.URL(zn.recordingURL);Xr.searchParams.set("nps","wootric");var Yr=new window.URL(Gr),oo=Yr.searchParams.get("response[text]"),Zr=oo?"".concat(oo,`

`):"";Yr.searchParams.set("response[text]","".concat(Zr,"<").concat(Xr.href,"|View LogRocket session>")),Pr[1]=Yr.href}}catch(rr){}return Mr.apply(this,Pr)}var Lr=br.send;function Jr(){for(var qr=arguments.length,Pr=new Array(qr),Nr=0;Nr<qr;Nr++)Pr[Nr]=arguments[Nr];try{var Gr=fr.get(br);if(window.URL&&typeof window.URL=="function"&&Gr&&Gr.url&&Gr.url.search(g.DELIGHTED_RESPONSES_REGEX)===0&&Pr.length&&Pr[0].indexOf(g.DELIGHTED_FEEDBACK_PREFIX)!==-1){var Xr=new window.URL(zn.recordingURL);Xr.searchParams.set("nps","delighted");var Yr=encodeURIComponent(Xr.href),oo=Pr[0].split("&").map(function(Zr){if((0,f.default)(Zr,g.DELIGHTED_FEEDBACK_PREFIX)){var rr=Zr===g.DELIGHTED_FEEDBACK_PREFIX;return"".concat(Zr).concat(rr?"":`

`,"<").concat(Yr,"|View LogRocket session>")}return Zr}).join("&");Pr[0]=oo}}catch(Zr){}return Lr.apply(this,Pr)}sr&&(br.open=Dr,br.send=Jr),(0,p.default)(br,"open",function(qr,Pr){if(!kr){var Nr=fr.get(br);Nr.method=qr,Nr.url=Pr}}),(0,p.default)(br,"send",function(qr){if(!kr){var Pr=fr.get(br);if(Pr){var Nr={url:Pr.url,method:Pr.method&&Pr.method.toUpperCase(),headers:(0,c.default)(Pr.headers||{},function(Gr){return Gr.join(", ")}),body:qr};Hn("".concat(Er).concat(Pr.xhrId),Nr)}}}),(0,p.default)(br,"setRequestHeader",function(qr,Pr){if(!kr){var Nr=fr.get(br);Nr&&(Nr.headers=Nr.headers||{},Nr.headers[qr]=Nr.headers[qr]||[],Nr.headers[qr].push(Pr))}});var Qr={readystatechange:function(){if(!kr&&br.readyState===4){var Pr=fr.get(br);if(!Pr||Zn("".concat(Er).concat(Pr.xhrId)))return;var Nr=br.getAllResponseHeaders()||"",Gr=Nr.split(/[\r\n]+/).reduce(function(Zr,rr){var cr=Zr,vr=rr.split(": ");if(vr.length>0){var wr=vr.shift(),gr=vr.join(": ");Zr[wr]?cr[wr]+=", ".concat(gr):cr[wr]=gr}return cr},{}),Xr;try{switch(br.responseType){case"json":Xr=zn._shouldCloneResponse?JSON.parse(JSON.stringify(br.response)):br.response;break;case"arraybuffer":case"blob":{Xr=br.response;break}case"document":{Xr=br.responseXML;break}case"text":case"":{Xr=br.responseText;break}default:Xr=""}}catch(Zr){Xr="LogRocket: Error accessing response."}var Yr={url:Pr.url,status:br.status,headers:Gr,body:Xr,method:(Pr.method||"").toUpperCase()};if(ar&&Yr.body instanceof Blob){var oo=new FileReader;oo.readAsText(Yr.body),oo.onload=function(){try{Yr.body=JSON.parse(oo.result)}catch(Zr){}ir("".concat(Er).concat(Pr.xhrId),Yr)}}else ir("".concat(Er).concat(Pr.xhrId),Yr)}}};return Object.keys(Qr).forEach(function(qr){br.addEventListener(qr,Qr[qr])}),br},XMLHttpRequest.prototype=ur.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(Or){XMLHttpRequest[Or]=ur[Or]}),function(){kr=!0,XMLHttpRequest=ur}}},"./packages/@apphub:logrocket-redux/src/createEnhancer.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=Qn;var c=r(i("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(i("./packages/@apphub:now/src/index.js"));function f(Yn,xn){var er=Object.keys(Yn);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(Yn);xn&&(Hn=Hn.filter(function(ir){return Object.getOwnPropertyDescriptor(Yn,ir).enumerable})),er.push.apply(er,Hn)}return er}function g(Yn){for(var xn=1;xn<arguments.length;xn++){var er=arguments[xn]!=null?arguments[xn]:{};xn%2?f(Object(er),!0).forEach(function(Hn){(0,c.default)(Yn,Hn,er[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Yn,Object.getOwnPropertyDescriptors(er)):f(Object(er)).forEach(function(Hn){Object.defineProperty(Yn,Hn,Object.getOwnPropertyDescriptor(er,Hn))})}return Yn}var Wn=0;function Qn(Yn){var xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},er=xn.stateSanitizer,Hn=er===void 0?function(zn){return zn}:er,ir=xn.actionSanitizer,Zn=ir===void 0?function(zn){return zn}:ir;return function(zn){return function(nr,sr,or){var ar=zn(nr,sr,or),ur=ar.dispatch,fr=Wn++;Yn.addEvent("lr.redux.InitialState",function(){var Er;try{Er=Hn(ar.getState())}catch(Or){console.error(Or.toString())}return{state:Er,storeId:fr}});var kr=function(Or){var Fr=(0,p.default)(),Sr,br;try{br=ur(Or)}catch(Dr){Sr=Dr}finally{var Mr=(0,p.default)()-Fr;Yn.addEvent("lr.redux.ReduxAction",function(){var Dr=null,Lr=null;try{Dr=Hn(ar.getState()),Lr=Zn(Or)}catch(Jr){console.error(Jr.toString())}return Dr&&Lr?{storeId:fr,action:Lr,duration:Mr,stateDelta:Dr}:null})}if(Sr)throw Sr;return br};return g(g({},ar),{},{dispatch:kr})}}}t.exports=n.default},"./packages/@apphub:logrocket-redux/src/createMiddleware.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var c=r(i("./packages/@apphub:now/src/index.js")),p=0;function f(g){var Wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qn=Wn.stateSanitizer,Yn=Qn===void 0?function(Hn){return Hn}:Qn,xn=Wn.actionSanitizer,er=xn===void 0?function(Hn){return Hn}:xn;return function(Hn){var ir=p++;return g.addEvent("lr.redux.InitialState",function(){var Zn;try{Zn=Yn(Hn.getState())}catch(zn){console.error(zn.toString())}return{state:Zn,storeId:ir}}),function(Zn){return function(zn){var nr=(0,c.default)(),sr,or;try{or=Zn(zn)}catch(ur){sr=ur}finally{var ar=(0,c.default)()-nr;g.addEvent("lr.redux.ReduxAction",function(){var ur=null,fr=null;try{ur=Yn(Hn.getState()),fr=er(zn)}catch(kr){console.error(kr.toString())}return ur&&fr?{storeId:ir,action:fr,duration:ar,stateDelta:ur}:null})}if(sr)throw sr;return or}}}}t.exports=n.default},"./packages/@apphub:logrocket-redux/src/index.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createEnhancer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"createMiddleware",{enumerable:!0,get:function(){return p.default}});var c=r(i("./packages/@apphub:logrocket-redux/src/createEnhancer.js")),p=r(i("./packages/@apphub:logrocket-redux/src/createMiddleware.js"))},"./packages/@apphub:logrocket-utils/src/TraceKit.js":function(t,n,i){(function(r){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c={collectWindowErrors:!0,debug:!1},p=typeof window!="undefined"?window:typeof r!="undefined"?r:typeof self!="undefined"?self:{},f=[].slice,g="?",Wn=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function Qn(){return typeof document=="undefined"||typeof document.location=="undefined"?"":document.location.href}c.report=function(){var er=[],Hn=null,ir=null,Zn=null;function zn(Sr){kr(),er.push(Sr)}function nr(Sr){for(var br=er.length-1;br>=0;--br)er[br]===Sr&&er.splice(br,1)}function sr(){Er(),er=[]}function or(Sr,br){var Mr=null;if(!(br&&!c.collectWindowErrors)){for(var Dr in er)if(er.hasOwnProperty(Dr))try{er[Dr].apply(null,[Sr].concat(f.call(arguments,2)))}catch(Lr){Mr=Lr}if(Mr)throw Mr}}var ar,ur;function fr(Sr,br,Mr,Dr,Lr){var Jr=null;if(Zn)c.computeStackTrace.augmentStackTraceWithInitialElement(Zn,br,Mr,Sr),Or();else if(Lr)Jr=c.computeStackTrace(Lr),or(Jr,!0);else{var Qr={url:br,line:Mr,column:Dr},qr=void 0,Pr=Sr,Nr;if({}.toString.call(Sr)==="[object String]"){var Nr=Sr.match(Wn);Nr&&(qr=Nr[1],Pr=Nr[2])}Qr.func=g,Jr={name:qr,message:Pr,url:Qn(),stack:[Qr]},or(Jr,!0)}return ar?ar.apply(this,arguments):!1}function kr(){ur||(ar=p.onerror,p.onerror=fr,ur=!0)}function Er(){ur&&(p.onerror=ar,ur=!1,ar=void 0)}function Or(){var Sr=Zn,br=Hn;Hn=null,Zn=null,ir=null,or.apply(null,[Sr,!1].concat(br))}function Fr(Sr,br){var Mr=f.call(arguments,1);if(Zn){if(ir===Sr)return;Or()}var Dr=c.computeStackTrace(Sr);if(Zn=Dr,ir=Sr,Hn=Mr,setTimeout(function(){ir===Sr&&Or()},Dr.incomplete?2e3:0),br!==!1)throw Sr}return Fr.subscribe=zn,Fr.unsubscribe=nr,Fr.uninstall=sr,Fr}(),c.computeStackTrace=function(){function er(zn){if(!(typeof zn.stack=="undefined"||!zn.stack)){var nr=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,or=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ar=zn.stack.split(`
`),ur=[],fr,kr;/^(.*) is undefined$/.exec(zn.message);for(var Er=0,Or=ar.length;Er<Or;++Er){if(fr=nr.exec(ar[Er])){var Fr=fr[2]&&fr[2].indexOf("native")!==-1;kr={url:Fr?null:fr[2],func:fr[1]||g,args:Fr?[fr[2]]:[],line:fr[3]?+fr[3]:null,column:fr[4]?+fr[4]:null}}else if(fr=or.exec(ar[Er]))kr={url:fr[2],func:fr[1]||g,args:[],line:+fr[3],column:fr[4]?+fr[4]:null};else if(fr=sr.exec(ar[Er]))kr={url:fr[3],func:fr[1]||g,args:fr[2]?fr[2].split(","):[],line:fr[4]?+fr[4]:null,column:fr[5]?+fr[5]:null};else continue;!kr.func&&kr.line&&(kr.func=g),ur.push(kr)}return ur.length?(!ur[0].column&&typeof zn.columnNumber!="undefined"&&(ur[0].column=zn.columnNumber+1),{name:zn.name,message:zn.message,url:Qn(),stack:ur}):null}}function Hn(zn,nr,sr,or){var ar={url:nr,line:sr};if(ar.url&&ar.line){if(zn.incomplete=!1,ar.func||(ar.func=g),zn.stack.length>0&&zn.stack[0].url===ar.url){if(zn.stack[0].line===ar.line)return!1;if(!zn.stack[0].line&&zn.stack[0].func===ar.func)return zn.stack[0].line=ar.line,!1}return zn.stack.unshift(ar),zn.partial=!0,!0}else zn.incomplete=!0;return!1}function ir(zn,nr){for(var sr=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,or=[],ar={},ur=!1,fr,kr,Er=ir.caller;Er&&!ur;Er=Er.caller)if(!(Er===Zn||Er===c.report)){if(kr={url:null,func:g,line:null,column:null},Er.name?kr.func=Er.name:(fr=sr.exec(Er.toString()))&&(kr.func=fr[1]),typeof kr.func=="undefined")try{kr.func=fr.input.substring(0,fr.input.indexOf("{"))}catch(Fr){}ar[""+Er]?ur=!0:ar[""+Er]=!0,or.push(kr)}nr&&or.splice(0,nr);var Or={name:zn.name,message:zn.message,url:Qn(),stack:or};return Hn(Or,zn.sourceURL||zn.fileName,zn.line||zn.lineNumber,zn.message||zn.description),Or}function Zn(zn,nr){var sr=null;nr=nr==null?0:+nr;try{if(sr=er(zn),sr)return sr}catch(or){if(c.debug)throw or}try{if(sr=ir(zn,nr+1),sr)return sr}catch(or){if(c.debug)throw or}return{name:zn.name,message:zn.message,url:Qn()}}return Zn.augmentStackTraceWithInitialElement=Hn,Zn.computeStackTraceFromStackProp=er,Zn}();var Yn=c;n.default=Yn,t.exports=n.default}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./packages/@apphub:logrocket-utils/src/constants/nps.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DELIGHTED_FEEDBACK_PREFIX=n.DELIGHTED_RESPONSES_REGEX=n.WOOTRIC_RESPONSES_REGEX=void 0;var r=/^https:\/\/production.wootric.com\/responses/;n.WOOTRIC_RESPONSES_REGEX=r;var c=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;n.DELIGHTED_RESPONSES_REGEX=c;var p="comment=";n.DELIGHTED_FEEDBACK_PREFIX=p},"./packages/@apphub:logrocket-utils/src/enhanceFunc.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c,p,f){var g=c[p];function Wn(){for(var Qn,Yn=arguments.length,xn=new Array(Yn),er=0;er<Yn;er++)xn[er]=arguments[er];return g&&(Qn=g.apply(this,xn)),f.apply(this,xn),Qn}return c[p]=Wn,function(){c[p]=g}}t.exports=n.default},"./packages/@apphub:logrocket-utils/src/mapValues.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c,p){if(c==null)return{};var f={};return Object.keys(c).forEach(function(g){f[g]=p(c[g])}),f}t.exports=n.default},"./packages/@apphub:logrocket-utils/src/startsWith.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(c,p){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return c&&p&&c.substring(f,f+p.length)===p}t.exports=n.default},"./packages/@apphub:now/src/index.js":function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=Date.now.bind(Date),c=r(),p=typeof performance!="undefined"&&performance.now?performance.now.bind(performance):function(){return r()-c};n.default=p,t.exports=n.default},"./packages/logrocket/src/LogRocket.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MAX_QUEUE_SIZE=void 0;var c=r(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=r(i("./node_modules/@babel/runtime/helpers/createClass.js")),f=r(i("./node_modules/@babel/runtime/helpers/defineProperty.js")),g=r(i("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),Wn=r(i("./packages/@apphub:logrocket-network/src/index.js")),Qn=i("./packages/@apphub:logrocket-exceptions/src/index.js"),Yn=r(i("./packages/@apphub:logrocket-console/src/index.js")),xn=i("./packages/@apphub:logrocket-redux/src/index.js");function er(nr,sr){var or=Object.keys(nr);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(nr);sr&&(ar=ar.filter(function(ur){return Object.getOwnPropertyDescriptor(nr,ur).enumerable})),or.push.apply(or,ar)}return or}function Hn(nr){for(var sr=1;sr<arguments.length;sr++){var or=arguments[sr]!=null?arguments[sr]:{};sr%2?er(Object(or),!0).forEach(function(ar){(0,f.default)(nr,ar,or[ar])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nr,Object.getOwnPropertyDescriptors(or)):er(Object(or)).forEach(function(ar){Object.defineProperty(nr,ar,Object.getOwnPropertyDescriptor(or,ar))})}return nr}var ir=1e3;n.MAX_QUEUE_SIZE=ir;var Zn=function(){var sr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},or=sr.ingestServer,ar=(0,g.default)(sr,["ingestServer"]);return or?Hn({serverURL:"".concat(or,"/i"),statsURL:"".concat(or,"/s")},ar):ar},zn=function(){function nr(){var sr=this;(0,c.default)(this,nr),this._buffer=[],["log","info","warn","error","debug"].forEach(function(or){sr[or]=function(){for(var ar=arguments.length,ur=new Array(ar),fr=0;fr<ar;fr++)ur[fr]=arguments[fr];sr.addEvent("lr.core.LogEvent",function(){var kr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return or==="error"&&kr.shouldAggregateConsoleErrors&&Qn.Capture.captureMessage(sr,ur[0],{},!0),{logLevel:or.toUpperCase(),args:ur}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,p.default)(nr,[{key:"addEvent",value:function(or,ar){var ur=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fr=Date.now();this._run(function(kr){kr.addEvent(or,ar,Hn(Hn({},ur),{},{timeOverride:fr}))})}},{key:"onLogger",value:function(or){for(this._logger=or;this._buffer.length>0;){var ar=this._buffer.shift();ar(this._logger)}}},{key:"_run",value:function(or){if(!this._isDisabled)if(this._logger)or(this._logger);else{if(this._buffer.length>=ir){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(or.bind(this))}}},{key:"init",value:function(or){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var ur=ar.shouldAugmentNPS,fr=ur===void 0?!0:ur,kr=ar.shouldParseXHRBlob,Er=kr===void 0?!1:kr;this._installed.push((0,Qn.registerExceptions)(this)),this._installed.push((0,Wn.default)(this,{shouldAugmentNPS:!!fr,shouldParseXHRBlob:!!Er})),this._installed.push((0,Yn.default)(this)),this._isInitialized=!0,this._run(function(Or){Or.init(or,Zn(ar))})}}},{key:"start",value:function(){this._run(function(or){or.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(or){return or()}),this._buffer=[],this._run(function(or){or.uninstall()})}},{key:"identify",value:function(or,ar){this._run(function(ur){ur.identify(or,ar)})}},{key:"startNewSession",value:function(){this._run(function(or){or.startNewSession()})}},{key:"track",value:function(or,ar){this._run(function(ur){ur.track(or,ar)})}},{key:"getSessionURL",value:function(or){if(typeof or!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(ar){ar.getSessionURL?ar.getSessionURL(or):or(ar.recordingURL)})}},{key:"getVersion",value:function(or){this._run(function(ar){or(ar.version)})}},{key:"captureMessage",value:function(or){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qn.Capture.captureMessage(this,or,ar)}},{key:"captureException",value:function(or){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qn.Capture.captureException(this,or,ar)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,xn.createEnhancer)(this,or)}},{key:"reduxMiddleware",value:function(){var or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,xn.createMiddleware)(this,or)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),nr}();n.default=zn},"./packages/logrocket/src/makeLogRocket.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var c=r(i("./packages/logrocket/src/LogRocket.js")),p="LogRocket does not yet support React Native.",f=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(Yn){return function(){return Yn.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(Yn){return function(xn){return Yn(xn)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function g(){var Wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};if(typeof navigator!="undefined"&&navigator.product==="ReactNative")throw new Error(p);if(typeof window!="undefined"){if(window._disableLogRocket)return f();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var Qn=new c.default;return Wn(Qn),Qn}}return f()}t.exports=n.default},"./packages/logrocket/src/module-npm.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(i("./packages/logrocket/src/setup.js")),p=(0,c.default)(),f=p;n.default=f,t.exports=n.default},"./packages/logrocket/src/setup.js":function(t,n,i){var r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var c=r(i("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=r(i("./packages/logrocket/src/makeLogRocket.js")),f={"cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com"};function g(){var Wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Qn=Wn.enterpriseServer,Yn=Wn.sdkVersion,xn=Yn===void 0?"2.2.1":Yn,er=(0,c.default)(Wn,["enterpriseServer","sdkVersion"]),Hn="https://cdn.logrocket.io",ir;if(xn==="script")try{var Zn=document.currentScript,zn=Zn.src.match(/^(https?:\/\/([^\\]+))\/.+$/),nr=zn&&zn[2];nr&&f[nr]&&(Hn=zn&&zn[1],ir=f[nr])}catch(ur){}else Hn="https://cdn.lr-in.com",ir="https://r.lr-in.com";var sr=er.sdkServer||Qn,or=er.ingestServer||Qn||ir,ar=(0,p.default)(function(){var ur=document.createElement("script");or&&(typeof window.__SDKCONFIG__=="undefined"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(or,"/i"),window.__SDKCONFIG__.statsURL="".concat(or,"/s")),sr?ur.src="".concat(sr,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?ur.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?ur.src=window._lrAsyncScript:ur.src="".concat(Hn,"/logger-1.min.js"),ur.async=!0,document.head.appendChild(ur),ur.onload=function(){typeof window._LRLogger=="function"?ar.onLogger(new window._LRLogger({sdkVersion:xn})):(console.warn("LogRocket: script execution has been blocked by a product or service."),ar.uninstall())},ur.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),ar.uninstall()}});return ar}t.exports=n.default},0:function(t,n,i){t.exports=i("./packages/logrocket/src/module-npm.js")}})})})(build_umd$1);var build_umdExports=build_umd$1.exports;const S$1=getDefaultExportFromCjs(build_umdExports),build_umd=_mergeNamespaces({__proto__:null,default:S$1},[build_umdExports]);var W$1=Object.defineProperty,_=Object.defineProperties,z$1=Object.getOwnPropertyDescriptors,U$1=Object.getOwnPropertySymbols,N$1=Object.prototype.hasOwnProperty,x$1=Object.prototype.propertyIsEnumerable,M$1=(s,e,t)=>e in s?W$1(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,a=(s,e)=>{for(var t in e||(e={}))N$1.call(e,t)&&M$1(s,t,e[t]);if(U$1)for(var t of U$1(e))x$1.call(e,t)&&M$1(s,t,e[t]);return s},m=(s,e)=>_(s,z$1(e)),D$2=(s,e)=>{var t={};for(var n in s)N$1.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&U$1)for(var n of U$1(s))e.indexOf(n)<0&&x$1.call(s,n)&&(t[n]=s[n]);return t},u$1=(s,e,t)=>new Promise((n,i)=>{var r=f=>{try{p(t.next(f))}catch(g){i(g)}},c=f=>{try{p(t.throw(f))}catch(g){i(g)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(r,c);p((t=t.apply(s,e)).next())});let X$2=class{constructor(e={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...t)=>fetch(...t),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=t=>{this.securityData=t},this.contentFormatters={"application/json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"text/plain":t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,"multipart/form-data":t=>Object.keys(t||{}).reduce((n,i)=>{const r=t[i];return n.append(i,r instanceof Blob?r:typeof r=="object"&&r!==null?JSON.stringify(r):`${r}`),n},new FormData),"application/x-www-form-urlencoded":t=>this.toQueryString(t)},this.createAbortSignal=t=>{if(this.abortControllers.has(t)){const i=this.abortControllers.get(t);return i?i.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal},this.abortRequest=t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))},this.request=t=>u$1(this,null,function*(){var n=t,{body:i,secure:r,path:c,type:p,query:f,format:g,baseUrl:Wn,cancelToken:Qn}=n,Yn=D$2(n,["body","secure","path","type","query","format","baseUrl","cancelToken"]);const xn=(typeof r=="boolean"?r:this.baseApiParams.secure)&&this.securityWorker&&(yield this.securityWorker(this.securityData))||{},er=this.mergeRequestParams(Yn,xn),Hn=f&&this.toQueryString(f),ir=this.contentFormatters[p||"application/json"],Zn=g||er.format;return this.customFetch(`${Wn||this.baseUrl||""}${c}${Hn?`?${Hn}`:""}`,m(a({},er),{headers:a(a({},er.headers||{}),p&&p!=="multipart/form-data"?{"Content-Type":p}:{}),signal:Qn?this.createAbortSignal(Qn):er.signal,body:typeof i>"u"||i===null?null:ir(i)})).then(zn=>u$1(this,null,function*(){const nr=zn;nr.data=null,nr.error=null;const sr=Zn?yield zn[Zn]().then(or=>(nr.ok?nr.data=or:nr.error=or,nr)).catch(or=>(nr.error=or,nr)):nr;if(Qn&&this.abortControllers.delete(Qn),!zn.ok)throw sr;return sr}))}),Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(n=>this.encodeQueryParam(t,n)).join("&")}toQueryString(e){const t=e||{};return Object.keys(t).filter(n=>typeof t[n]<"u").map(n=>Array.isArray(t[n])?this.addArrayQueryParam(t,n):this.addQueryParam(t,n)).join("&")}addQueryParams(e){const t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return m(a(a(a({},this.baseApiParams),e),t||{}),{headers:a(a(a({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}},L$1=class extends X$2{constructor(){super(...arguments),this.domainModelTalent={updateTalentUserName:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/update-name`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserGroup:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/update-group`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserTags:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/tags`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentSupportUserFlag:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/support`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserName1:(e,t={})=>this.request(a({path:"/api/v1/talent/update-name",method:"PUT",body:e,secure:!0,type:"application/json"},t)),updateTalentUserGroup1:(e,t={})=>this.request(a({path:"/api/v1/talent/update-group",method:"PUT",body:e,secure:!0,type:"application/json"},t)),updateTalentUserTags1:(e,t={})=>this.request(a({path:"/api/v1/talent/tags",method:"PUT",body:e,secure:!0,type:"application/json"},t)),loadTalentUser:(e,t={})=>this.request(a({path:`/api/v1/talent/${e}`,method:"GET",secure:!0},t)),loadTalentUser1:(e={})=>this.request(a({path:"/api/v1/talent",method:"GET",secure:!0},e))},this.domainModelTalentGroup={updateTalentGroup:(e,t,n={})=>this.request(a({path:`/api/v1/talent-groups/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),deleteTalentGroup:(e,t={})=>this.request(a({path:`/api/v1/talent-groups/${e}`,method:"DELETE",secure:!0},t)),getAllGroups:(e={})=>this.request(a({path:"/api/v1/talent-groups",method:"GET",secure:!0},e)),addTalentGroup:(e,t={})=>this.request(a({path:"/api/v1/talent-groups",method:"POST",body:e,secure:!0,type:"application/json"},t)),loadTalentGroups:(e,t={})=>this.request(a({path:`/api/v1/talent-groups/by-parent/${e}`,method:"GET",secure:!0},t)),loadTalentGroups1:(e={})=>this.request(a({path:"/api/v1/talent-groups/by-parent",method:"GET",secure:!0},e))},this.domainModelTags={updateTag:(e,t,n={})=>this.request(a({path:`/api/v1/tags/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),deleteTag:(e,t={})=>this.request(a({path:`/api/v1/tags/${e}`,method:"DELETE",secure:!0},t)),getAllTags:(e={})=>this.request(a({path:"/api/v1/tags",method:"GET",secure:!0},e)),addTag:(e,t={})=>this.request(a({path:"/api/v1/tags",method:"POST",body:e,secure:!0,type:"application/json"},t)),loadTagsTypes:(e={})=>this.request(a({path:"/api/v1/tags/types",method:"GET",secure:!0},e)),findTagsByType:(e,t={})=>this.request(a({path:`/api/v1/tags/by-type/${e}`,method:"GET",secure:!0},t))},this.organisationAnalyticsSignals={upsertSignalModule:(e,t={})=>this.request(a({path:"/api/v1/signals/module",method:"PUT",body:e,secure:!0,type:"application/json"},t)),executeSignalsJob:(e={})=>this.request(a({path:"/api/v1/signals/populate",method:"POST",secure:!0},e)),getWebSignals:(e={})=>this.request(a({path:"/api/v1/signals",method:"GET",secure:!0},e))},this.utilitiesRealtime={getRealtimeDocument:(e,t,n={})=>this.request(a({path:`/api/v1/realtime/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),sendRealtimeDocument:(e,t,n={})=>this.request(a({path:`/api/v1/realtime/${e}`,method:"POST",body:t,secure:!0,format:"json"},n))},this.utilitiesTenantConfiguration={updateSingleValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/single-value",method:"PUT",body:e,secure:!0,type:"application/json"},t)),saveSingleValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/single-value",method:"POST",body:e,secure:!0,type:"application/json"},t)),updateMultiValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/multi-value",method:"PUT",body:e,secure:!0,type:"application/json"},t)),saveMultiValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/multi-value",method:"POST",body:e,secure:!0,type:"application/json"},t)),findSingleValueConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/single-value/${e}`,method:"GET",secure:!0},t)),findMultiValueConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/multi-value/${e}`,method:"GET",secure:!0},t)),findAllConfigItems:(e={})=>this.request(a({path:"/api/v1/config",method:"GET",secure:!0},e)),removeConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/${e}`,method:"DELETE",secure:!0},t))},this.utilitiesArticles={getArticle:(e,t={})=>this.request(a({path:`/api/v1/articles/${e}`,method:"GET",secure:!0},t)),updateArticleById:(e,t,n={})=>this.request(a({path:`/api/v1/articles/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),articleUp:(e,t={})=>this.request(a({path:`/api/v1/articles/up/${e}`,method:"PUT",secure:!0},t)),articleTop:(e,t={})=>this.request(a({path:`/api/v1/articles/top/${e}`,method:"PUT",secure:!0},t)),articleDown:(e,t={})=>this.request(a({path:`/api/v1/articles/down/${e}`,method:"PUT",secure:!0},t)),articleBottom:(e,t={})=>this.request(a({path:`/api/v1/articles/bottom/${e}`,method:"PUT",secure:!0},t)),getArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"GET",query:e,secure:!0},t)),saveOrUpdateArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"PUT",body:e,secure:!0,type:"application/json"},t)),addArticle:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"POST",body:e,secure:!0,type:"application/json"},t)),deleteArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"DELETE",query:e,secure:!0},t))},this.utilitiesMisc={createUser:(e,t={})=>this.request(a({path:"/api/v1/user",method:"POST",body:e,secure:!0,type:"application/json"},t)),createCampaignUsingTemplateWithTag:(e,t={})=>this.request(a({path:`/api/v1/campaign/${e}`,method:"POST",secure:!0},t)),getVersion:(e={})=>this.request(a({path:"/api/v1/version",method:"GET",secure:!0},e))},this.domainModelMissions={getAllTargets:(e={})=>this.request(a({path:"/api/v1/missions/target",method:"GET",secure:!0},e)),createTarget:(e,t={})=>this.request(a({path:"/api/v1/missions/target",method:"POST",body:e,secure:!0,type:"application/json"},t)),runMissionsCalculationJob:(e={})=>this.request(a({path:"/api/v1/missions/calculate",method:"POST",secure:!0},e)),getMissionsAggregatedProgress:(e={})=>this.request(a({path:"/api/v1/missions/progress",method:"GET",secure:!0},e)),getMissionIndividualProgress:(e={})=>this.request(a({path:"/api/v1/missions/individual/progress",method:"GET",secure:!0},e)),deleteTarget:(e,t={})=>this.request(a({path:`/api/v1/missions/target/${e}`,method:"DELETE",secure:!0},t))},this.organisationAnalyticsFeedback={getFeedbackQuestions:(e={})=>this.request(a({path:"/api/v1/feedback-questions",method:"GET",secure:!0},e)),addNewQuestion:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions",method:"POST",body:e,secure:!0,type:"application/json"},t)),deleteQuestion:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions",method:"DELETE",query:e,secure:!0},t)),getStatistics:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions/statistics",method:"GET",query:e,secure:!0},t))},this.domainModelCompetences={getCompetencesTree:(e={})=>this.request(a({path:"/api/v1/competences",method:"GET",secure:!0},e)),addNewCompetence:(e,t={})=>this.request(a({path:"/api/v1/competences",method:"POST",body:e,secure:!0,type:"application/json"},t)),createTestItem:(e,t={})=>this.request(a({path:"/api/v1/test-item",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.domainModelCertificates={findTalentCertificates:(e={})=>this.request(a({path:"/api/v1/certificate",method:"GET",secure:!0},e)),createOrUpdateTalentCertificates:(e,t={})=>this.request(a({path:"/api/v1/certificate",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.utilitiesAssets={asyncS3Upload:(e,t,n={})=>this.request(a({path:`/api/v1/assets/${e}/upload`,method:"POST",body:t,secure:!0,type:"multipart/form-data"},n)),getS3Video:(e,t={})=>this.request(a({path:`/api/v1/assets/video/${e}`,method:"GET",secure:!0},t)),getAllS3ObjectsFromBucket:(e,t={})=>this.request(a({path:"/api/v1/assets/objects",method:"GET",query:e,secure:!0},t)),getS3Image:(e,t={})=>this.request(a({path:`/api/v1/assets/image/${e}`,method:"GET",secure:!0},t)),deleteS3File:(e,t,n={})=>this.request(a({path:`/api/v1/assets/delete/${e}/${t}`,method:"DELETE",secure:!0},n))},this.utilitiesSavegame={saveOrUpdateState:(e,t={})=>this.request(a({path:"/api/v1/savegame",method:"POST",body:e,secure:!0,type:"application/json"},t)),getResult:(e,t={})=>this.request(a({path:`/api/v1/savegame/${e}`,method:"GET",secure:!0,format:"json"},t))},this.domainModelEvents={saveEvent:(e,t={})=>this.request(a({path:"/api/v1/event",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.domainModelTimeline={saveTimelineTrainingEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/training",method:"POST",body:e,secure:!0,type:"application/json"},t)),saveTimelineMicrolearningEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/microlearning",method:"POST",body:e,secure:!0,type:"application/json"},t)),saveTimelineEpisodeEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/episode",method:"POST",body:e,secure:!0,type:"application/json"},t)),getAllTimelineEvents:(e={})=>this.request(a({path:"/api/v1/timeline",method:"GET",secure:!0},e))},this.domainModelSeasons={getAllSeasons:(e={})=>this.request(a({path:"/api/v1/season",method:"GET",secure:!0},e)),addSeason:(e,t={})=>this.request(a({path:"/api/v1/season",method:"POST",body:e,secure:!0,type:"application/json"},t)),getEpisode:(e,t,n={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}`,method:"GET",secure:!0},n)),deleteEpisode:(e,t,n={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}`,method:"DELETE",secure:!0},n)),getSeason:(e,t={})=>this.request(a({path:`/api/v1/season/${e}`,method:"GET",secure:!0},t)),deleteSeason:(e,t={})=>this.request(a({path:`/api/v1/season/${e}`,method:"DELETE",secure:!0},t)),deleteBadge:(e,t,n,i={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}/badge/${n}`,method:"DELETE",secure:!0},i))},this.userAnalyticsRecommendations={getTrainingRecommendations:(e={})=>this.request(a({path:"/api/v1/recommendation/training",method:"GET",secure:!0},e)),getPlayRecommendations:(e={})=>this.request(a({path:"/api/v1/recommendation/play",method:"GET",secure:!0},e))},this.userAnalyticsProgressReporting={getCompetenceAreaTestDetailsReports:(e,t={})=>this.request(a({path:"/api/v1/user-report/test-details",method:"GET",query:e,secure:!0,format:"json"},t)),getSubCompetencesTestsReports:(e,t={})=>this.request(a({path:"/api/v1/user-report/sub-competence",method:"GET",query:e,secure:!0,format:"json"},t)),findTalentStatistics:(e,t={})=>this.request(a({path:"/api/v1/user-report/statistics",method:"GET",query:e,secure:!0},t)),getProfileTwoQualificationAdvices:(e,t={})=>this.request(a({path:`/api/v1/user-report/qualifications/${e}`,method:"GET",secure:!0,format:"json"},t)),getPlayerTeamOrganisationComparisonReport:(e={})=>this.request(a({path:"/api/v1/user-report/compare",method:"GET",secure:!0,format:"json"},e)),getCompetenceAreaTestResults:(e={})=>this.request(a({path:"/api/v1/user-report",method:"GET",secure:!0,format:"json"},e))},this.organisationAnalyticsReport={getProfileTwoTagCompetenceAreas:(e,t={})=>this.request(a({path:`/api/v1/company-report/tag-area/${e}`,method:"GET",secure:!0,format:"json"},t)),getCompanyNumberOfUsersStatistics:(e={})=>this.request(a({path:"/api/v1/company-report/number-of-users",method:"GET",secure:!0,format:"json"},e)),getCompanyLastCompletedEpisodeStatistics:(e,t={})=>this.request(a({path:"/api/v1/company-report/last-completed-episodes",method:"GET",query:e,secure:!0,format:"json"},t)),getProfileTwoGeneralReport:(e={})=>this.request(a({path:"/api/v1/company-report/general",method:"GET",secure:!0,format:"json"},e)),getProfileTwoDepartmentAreas:(e={})=>this.request(a({path:"/api/v1/company-report/department-area",method:"GET",secure:!0,format:"json"},e)),getCompanyCompetenceAreaTestResults:(e={})=>this.request(a({path:"/api/v1/company-report",method:"GET",secure:!0,format:"json"},e))}}};const F$2={dev:"talentdigit.al",prod:"talentdigital.eu"},Y$2=["devtd2","internaldemo"],Z$2=s=>Y$2.includes(s)?F$2.dev:F$2.prod,B$2=s=>`https://${s}.${Z$2(s)}`,ee$2=s=>s.slice(s.lastIndexOf(".")+1),Q$2=s=>u$1(void 0,[s],function*({content:e,fileName:t,fileExtension:n}){switch(t?ee$2(t):n){case"json":return JSON.parse(e);case"md":const{marked:i}=yield Promise.resolve().then(()=>marked_esmNC81mQAE);return i(e);case"toml":return(yield Promise.resolve().then(()=>indexCL7TgaLK).then(r=>r.i)).parse(e);case"yaml":case"yml":return(yield Promise.resolve().then(()=>indexGfxNFmh)).parse(e);default:throw new Error("Unsuppoted file extension, supported extensions: json, md, toml, yml/yaml ")}}),j$2=({auth:s,tenant:e,localBackendURL:t,customFetch:n})=>{if(n)return new L$1({baseUrl:"",customFetch:n});if(!s)throw"Either auth or custom fetch need to be defined";if(!e)throw"Tenant must be defined if no customFetch is provided";const i=B$2(e),r=()=>u$1(void 0,null,function*(){return s.updateToken().then(()=>({headers:{Authorization:`Bearer ${s.token}`}}))});return new L$1({baseUrl:t!=null?t:i,securityWorker:r})};let O$1=class ji{constructor(e){this.auth=e,this.auth.onTokenExpired=()=>{this.auth.token&&this.auth.updateToken(5)}}get token(){return this.auth.token}get user(){if(!this.auth.tokenParsed)throw"Token has not been parsed";return this.auth.tokenParsed}static create(e){return u$1(this,null,function*(){const t=`talentdigital-${e}`,n=`${B$2(e)}/auth`,i=H$1({realm:t,url:n,clientId:"td-profile2"});try{if(yield i.init({onLoad:"check-sso",checkLoginIframe:!1}))return new ji(i);yield i.login({maxAge:1e5})}catch(r){alert("Error authenticating"),console.error(r),r instanceof Error?S$1.captureException(r):typeof r=="string"&&S$1.captureException(new Error(r))}})}updateToken(){return this.auth.updateToken(5)}},G$2=class Ni{constructor(e,t,n,i){this.id=e,this.name=t,this.image=n,this.storage=i,this.storageKey="BADGES_ENGINE_STORAGE"}get awarded(){return(this.storage.getItem(this.storageKey)||[]).includes(this.id)}static createForEpisode(e,t){return e!=null&&e.badges?Object.fromEntries(Object.entries(e.badges).map(([n,{name:i,image:r}])=>[n,new Ni(n,i,r,t)])):{}}award(){if(this.awarded)return;const e=this.storage.getItem(this.storageKey)||[];this.storage.setItem(this.storageKey,[...e,this.id])}},te$2=class{constructor(e){this.storage=e,this._points=0,this.storageKey="ENGAGEMENT_POINTS";const t=e.getItem(this.storageKey);t&&(this._points=t.points)}get points(){return this._points}add(e){return this._points+=e,this.sync(),this._points}sync(){let e=this.storage.getItem(this.storageKey);e&&(e=m(a({},e),{points:this._points}),this.storage.setItem(this.storageKey,e))}},se$2=class{constructor(e,t,n,i){this.api=e,this.storage=t,this.id=n,this.savegameKeyId=i}end(){return u$1(this,null,function*(){const e=this.savegameKeyId,t=this.id.season,n=this.id.episode,i=[{eventTypeId:"episode.end",season:t,episode:n}];yield this.api.domainModelEvents.saveEvent({applicationId:e,events:i,seasonId:t,episodeId:n});let r=this.storage.getItem(w)||{};const c=r[this.id.season]||{},p=c[this.id.episode]||{},f=p.playcount||0;r=m(a({},r),{[this.id.season]:m(a({},c),{[this.id.episode]:m(a({},p),{playcount:f+1})})}),this.storage.setItem(w,r),this.navigateToDashboard()})}pause(){this.navigateToDashboard()}navigateToDashboard(){this.id.redirectUrl?window.location.assign(this.id.redirectUrl):(console.error("No redirect URL hasn't been set"),S$1.captureException(new Error("No redirect URL hasn't been set")),window.close())}},C$2=class Ui{constructor(e,t,n,i,r,c,p){this.id=e,this.question=t,this.answers=n,this.api=i,this.seasonId=r,this.episodeId=c,this.savegameKeyId=p}static createForEpisode({season:e,episode:t},n,i,r){return n!=null&&n.feedbackQuestions?Object.fromEntries(n.feedbackQuestions.map(({id:c,question:p,answers:f})=>[c,new Ui(c,p,f,i,e,t,r)])):{}}submit(e){const t=this.answers[e];if(!t){console.error("Invalid answer id"),S$1.captureException(new Error(`Invalid answer id: ${e}`));return}const n=JSON.stringify(t),i=[{eventTypeId:this.id,type:"decision.choose",payload:{decision:this.id,option:{id:e,text:n}}}];return this.api.domainModelEvents.saveEvent({applicationId:this.savegameKeyId,events:i,seasonId:this.seasonId,episodeId:this.episodeId})}};const K$2=s=>(e,t)=>u$1(void 0,null,function*(){if(!t)throw"Invalid request";const{method:n}=t,i=e.split("/").slice(3).join("/");let r;if(n==="GET"){if((r=/season\/(.+)\/episode\/(.+)/.exec(i))!==null){const c={season:r[1],episode:r[2]},p=s.episodes[c.episode];if(!p)throw`Episode ${c.episode} not found`;const f=a({},p);return f.assetsURL=s.assetsURL,f.testItems=J$2(s.competenceAreas,c),f.feedbackQuestions=ae$2(s.competenceAreas,c),Promise.resolve(new Response(JSON.stringify(f)))}if((r=/user-report\/test-details\?season=(.*)&episode=(.*)/.exec(i))!==null){const c={season:r[1],episode:r[2]},p=J$2(s.competenceAreas,c);return Promise.resolve(new Response(JSON.stringify(p)))}}if(n==="POST")return Promise.resolve(new Response)}),J$2=(s,{episode:e})=>Object.values(s).flatMap(({competences:t})=>Object.values(t).flatMap(({subCompetences:n})=>Object.values(n).flatMap(({testItems:i})=>i?Object.entries(i).filter(([r,c])=>c.episode===e).map(([r,{level:c,documentation:p}])=>({id:r,level:c,documentation:p})):[]))),ae$2=(s,{episode:e})=>Object.values(s).flatMap(({competences:t})=>Object.values(t).flatMap(({subCompetences:n})=>Object.values(n).flatMap(({feedbackQuestions:i})=>i?Object.entries(i).filter(([r,c])=>c.episode===e).map(([r,{question:c,answers:p}])=>({id:r,question:c,answers:p})):[])));let A$2=class Fi{constructor(e,t={},n){this.api=e,this.state=t,this.savegameKeyId=n}get length(){return Object.keys(this.state).length}static create(e,t){return u$1(this,null,function*(){const{data:n}=yield e.utilitiesSavegame.getResult(t),i=n!=null&&n.state?JSON.parse(n.state):{};return new Fi(e,i,t)})}clear(){this.state={},this.sync()}key(e){return Object.keys(this.state)[e]||null}removeItem(e){delete this.state[e],this.sync()}getItem(e){const t=this.state[e];return t?JSON.stringify(t):null}setItem(e,t){this.state[e]=JSON.parse(t),this.sync()}sync(){this.api.utilitiesSavegame.saveOrUpdateState({applicationId:this.savegameKeyId,state:JSON.stringify(this.state)})}},ie$2=class{constructor(e,t){this.id=e,this.storage=t}load(){const e=this.storage.getItem(w);if(!e)return null;const t=e[this.id.season];if(!t)return null;const n=t[this.id.episode];return n?n.savegame:null}save(e){var t;let n=this.storage.getItem(w)||{};n=m(a({},n),{[this.id.season]:m(a({},n[this.id.season]||{}),{[this.id.episode]:m(a({},((t=n[this.id.season])==null?void 0:t[this.id.episode])||{}),{savegame:e})})}),this.storage.setItem(w,n)}},$$1=class{constructor(e){this.storage=e}getItem(e){const t=this.storage.getItem(e);return t?JSON.parse(t):null}setItem(e,t){this.storage.setItem(e,JSON.stringify(t))}clear(){this.storage.clear()}},k$1=class Di{constructor(e,t,n,i,r,c,p){this.id=e,this.documentation=t,this.level=n,this.api=i,this.seasonId=r,this.episodeId=c,this.savegameKeyId=p}static createForEpisode(e,t,n,i){return t!=null&&t.testItems?Object.fromEntries(t.testItems.map(r=>[r.id,new Di(r.id,r.documentation,r.level,n,e.season,e.episode,i)])):{}}pass(e){return this.result=1,this.api.domainModelEvents.saveEvent(this.generatePayload(1,e))}fail(e){return this.result=0,this.api.domainModelEvents.saveEvent(this.generatePayload(0,e))}generatePayload(e,t){const n=[{type:"test.complete",payload:{test:this.id,data:t||{},failed:!e,timestamp:Date.now()},result:{id:this.id,value:e}}];return{applicationId:this.savegameKeyId,events:n,seasonId:this.seasonId,episodeId:this.episodeId}}},R$1=class Mi{constructor(e,{logRocketId:t,userInfo:n,playerName:i}){e.init(t),n.sub&&e.identify(n.sub,{name:i}),this.logRocket=e}static create(e){return u$1(this,null,function*(){const{default:t}=yield Promise.resolve().then(()=>build_umd);return new Mi(t,e)})}track(e){this.logRocket.track(e)}};const w="SEASONS",oe$2={id:"player",companyName:"ACME Inc.",companyLogo:"/logos/logo1.svg",playerName:"Teammitglied",playerAvatar:"/avatars/avatar5.svg",leadingColor:"#d3e553",playerEmailAddress:"teammitglied@acme.com"},re$2=()=>{const s="td",e=new URLSearchParams(location.search),t=e.get("sid")||localStorage.getItem(`${s}-sid`),n=e.get("eid")||localStorage.getItem(`${s}-eid`),i=e.get("redirectUrl")||localStorage.getItem(`${s}-redirectUrl`),r=e.get("configUrl")||localStorage.getItem(`${s}-configUrl`)||void 0;if(!t||!n)throw"Could not retrieve season or episode id from URL";if(!i)throw"Could not retrieve redirectUrl from URL";return localStorage.setItem(`${s}-sid`,t),localStorage.setItem(`${s}-eid`,n),localStorage.setItem(`${s}-redirectUrl`,i),r&&localStorage.setItem(`${s}-configUrl`,r),{season:t,episode:n,redirectUrl:i,configUrl:r}};let V$2=class qi{constructor(e,t,n,i,r,c,p,f,g,Wn,Qn,Yn,xn){this.api=e,this.episode=t,this.badges=n,this.tests=i,this.feedbackQuestions=r,this.savegame=c,this.engagement=p,this.events=f,this.id=g,this.profile=Wn,this.formatConfiguration=Qn,this.tracker=Yn,this.authUser=xn,this.assets={getUrl:er=>{var Hn;if(!((Hn=this.episode)!=null&&Hn.assetsURL))throw new Error("Assets URL is not defined");return`${this.episode.assetsURL}/${er}`},get:er=>u$1(this,null,function*(){let Hn;try{const ir=yield fetch(this.assets.getUrl(er));if(ir.status!==200)throw new Error(`Could not fetch data. HTML status: ${ir.status}`);if(Hn=yield ir.text(),!Hn)throw new Error("File is empty!")}catch(ir){throw ir}return Q$2({content:Hn,fileName:er})})}}static create(e){return u$1(this,null,function*(){let t,n,i;const r=e.id||re$2(),c=e==null?void 0:e.savegameKeyId;if(!c)throw new Error("savegameKeyId not found");if(!r.season||!r.episode)throw new Error("sid or eid not found");if(e.seasonDefinition){const zn=K$2(e.seasonDefinition);n=j$2({customFetch:zn}),i=new $$1(window.localStorage)}else if(r.configUrl){const zn=yield(yield fetch(`${r.configUrl}/season.yaml`)).text(),nr=(yield Promise.resolve().then(()=>indexGfxNFmh)).parse(zn),sr=K$2(m(a({},nr),{assetsURL:r.configUrl}));n=j$2({customFetch:sr}),i=new $$1(window.localStorage)}else{if(!e.tenant)throw"config.tenant must be provided";if(t=yield O$1.create(e.tenant),!t)throw"Could not create Authentication Service";n=j$2({auth:t,tenant:e.tenant,localBackendURL:e.localBackendURL}),i=new $$1(yield A$2.create(n,c))}if(!n)throw new Error("Couldn't initialize the library");const{data:p}=yield n.domainModelSeasons.getEpisode(r.season,r.episode,{format:"json"});let f;if(p.assetsURL&&p.formatConfiguration&&!e.seasonDefinition)try{f=yield(yield fetch(`${p.assetsURL}/${p.formatConfiguration}`)).text()}catch(zn){console.error("No episode configuration found"),S$1.captureException(new Error("No episode configuration found"))}let g;f&&(g=yield Q$2({content:f,fileName:p.formatConfiguration}));const Wn=k$1.createForEpisode(r,p,n,c),Qn=C$2.createForEpisode(r,p,n,c),Yn=new ie$2(r,i),xn=new te$2(i),er=G$2.createForEpisode(p,i),Hn=i.getItem("SETTINGS")||oe$2,ir=new se$2(n,i,r,c);let Zn;return e.logRocketId&&t!=null&&t.user&&(Zn=yield R$1.create({logRocketId:e.logRocketId,userInfo:t.user,playerName:Hn.playerName})),new qi(n,p,er,Wn,Qn,Yn,xn,ir,r,Hn,g,Zn,t==null?void 0:t.user)})}};const EPISODE_END="td-episode-end",TEST_PASS="td-test-pass",TEST_FAIL="td-test-fail",TEST_ID_PREFIX="td-test-id-",LOADING_SCREEN_ID="td-loading-screen";function initialize(){console.debug("Initializing talentkit"),createLoadingScreen();const s=getConfig();console.debug("Config",s),V$2.create(s).then(onTalentKitCreation).catch(logError)}function onTalentKitCreation(s){console.debug("Kit:",s),clearLoadingScreen(),attachTestListeners(s,TEST_PASS),attachTestListeners(s,TEST_FAIL),attachEndEpisodeListeners(s),handleSaveGame(s)}function attachTestListeners(s,e){document.querySelectorAll(`.${e}`).forEach(t=>{console.debug(`Element found for ${e} ${getElementInfo(t)}`),t.addEventListener("click",n=>{var r;n.preventDefault(),createLoadingScreen();const i=(r=Array.from(t.classList).find(c=>c.includes(TEST_ID_PREFIX)))==null?void 0:r.split(TEST_ID_PREFIX)[1];if(!i){logError(`Test ID not found for element ${getElementInfo(t)}`);return}if(!s.tests[i]){logError(`Test id: ${i} not found in kit.tests, available tests are: ${Object.keys(s.tests).toString()}`);return}e===TEST_PASS?s.tests[i].pass().then(()=>goToOriginalUrl(n)).catch(logError).finally(clearLoadingScreen):s.tests[i].fail().then(()=>goToOriginalUrl(n)).catch(logError).finally(clearLoadingScreen)})})}function attachEndEpisodeListeners(s){document.querySelectorAll(`.${EPISODE_END}`).forEach(e=>{console.debug(`Element found for ${EPISODE_END} ${getElementInfo(e)}`),e.addEventListener("click",()=>{const t=s.savegame.load(),n=isSavegame(t)?t:{};s.savegame.save(jo(Lo({},n),{lastPlayedUrl:void 0})),s.events.end().catch(logError)})})}function handleSaveGame(s){const e=new URLSearchParams(window.location.search).get("no-savegame")!==null,t=window.location.href.includes("sid")&&window.location.href.includes("eid"),n=s.savegame.load(),i=isSavegame(n)&&n;if(console.debug("Current savegame",i),t&&!e&&isSavegame(i)&&domainMatches(i)&&appNameMatches(i)&&window.location.href!==i.lastPlayedUrl){window.location.href=i.lastPlayedUrl;return}const r=isSavegame(i)?i:{},c=jo(Lo({},r),{lastPlayedUrl:window.location.href});s.savegame.save(c),console.debug("New savegame",c)}function domainMatches(s){var e,t;try{const n=/\/\/([a-z])+/g,i=(t=(e=s.lastPlayedUrl.match(n))==null?void 0:e[0].split("//")[1])!=null?t:"",r=window.location.host.includes(i);return console.debug("Domain matches",r),r}catch(n){return console.debug("domainMatches - savegameDomain not found"),!0}}function appNameMatches(s){try{const e=s.lastPlayedUrl.split("/app/webflow/")[1].split("/")[0],t=window.location.href.split("/app/webflow/")[1].split("/")[0],n=e===t;return console.debug("appNameMatches",n),n}catch(e){return console.debug("appNameMatches - app name not found"),!0}}function isSavegame(s){return!!(typeof s=="object"&&(s!=null&&s.hasOwnProperty("lastPlayedUrl")))}function goToOriginalUrl(s){const e=s.target;e!=null&&e.href&&(window.location.href=e.href)}function getConfig(){var r;const s=(r=window.location.hostname.split("."))==null?void 0:r[0],e=/app\/webflow\/([^\/?]+)(\/|(?=\?|$))/,t=window.location.pathname.match(e),n=t?t[1]:"webflow";return{tenant:s.startsWith("localhost")||window.location.hostname.endsWith("webflow.io")?"devtd2":s,savegameKeyId:n}}function createLoadingScreen(){const s=`
    @keyframes infinite-rotaton-animation {
      from { transform: rotate(0deg) }
      to { transform: rotate(360deg) }
    }

    .td-infinite-rotation {
      animation: infinite-rotaton-animation 2s linear infinite;
    }
  `,e=document.createElement("style");e.innerText=s,document.head.appendChild(e);const t=document.createElement("div");t.id=LOADING_SCREEN_ID,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="1000",t.style.transition="opacity 3s ease-in-out",t.style.opacity="0";const n=document.createElement("div");n.innerText="↻",n.style.fontSize="64px",n.style.color="white",n.className="td-infinite-rotation",document.body.appendChild(t),t.appendChild(n),setTimeout(()=>{t&&(t.style.opacity="1")},400)}function clearLoadingScreen(){var s;(s=document.getElementById(LOADING_SCREEN_ID))==null||s.remove()}function logError(s){console.error(`Kit snippet integration: ${s}`)}function getElementInfo(s){const e=s.classList.toString(),t=s.innerHTML;return`with classes ${e} and text ${t}`}initialize();function F$1(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let C$1=F$1();function K$1(s){C$1=s}const X$1=/[&<>"']/,Y$1=new RegExp(X$1.source,"g"),W=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ee$1=new RegExp(W.source,"g"),te$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v$1=s=>te$1[s];function b(s,e){if(e){if(X$1.test(s))return s.replace(Y$1,v$1)}else if(W.test(s))return s.replace(ee$1,v$1);return s}const ne$1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function G$1(s){return s.replace(ne$1,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ie$1=/(^|[^\[])\^/g;function k(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(n,i)=>(i=i.source||i,i=i.replace(ie$1,"$1"),s=s.replace(n,i),t),getRegex:()=>new RegExp(s,e)};return t}const se$1=/[^\w:]/g,re$1=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function M(s,e,t){if(s){let n;try{n=decodeURIComponent(G$1(t)).replace(se$1,"").toLowerCase()}catch(i){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!re$1.test(t)&&(t=ce$1(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(n){return null}return t}const Z$1={},le$1=/^[^:]+:\/*[^/]*$/,ae$1=/^([^:]+:)[\s\S]*$/,oe$1=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ce$1(s,e){Z$1[" "+s]||(le$1.test(s)?Z$1[" "+s]=s+"/":Z$1[" "+s]=q$1(s,"/",!0)),s=Z$1[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(ae$1,"$1")+e:e.charAt(0)==="/"?t?e:s.replace(oe$1,"$1")+e:s+e}const B$1={exec:function(){}};function y(s){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s}function j$1(s,e){const t=s.replace(/\|/g,(r,c,p)=>{let f=!1,g=c;for(;--g>=0&&p[g]==="\\";)f=!f;return f?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function q$1(s,e,t){const n=s.length;if(n===0)return"";let i=0;for(;i<n;){const r=s.charAt(n-i-1);if(r===e&&!t)i++;else if(r!==e&&t)i++;else break}return s.slice(0,n-i)}function he$1(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let n=0,i=0;for(;i<t;i++)if(s[i]==="\\")i++;else if(s[i]===e[0])n++;else if(s[i]===e[1]&&(n--,n<0))return i;return-1}function V$1(s){s&&s.sanitize&&!s.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function Q$1(s,e,t,n){const i=e.href,r=e.title?b(e.title):null,c=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const p={type:"link",raw:t,href:i,title:r,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,p}return{type:"image",raw:t,href:i,title:r,text:b(c)}}function pe$1(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[c]=r;return c.length>=n.length?i.slice(n.length):i}).join(`
`)}let D$1=class{constructor(e){this.options=e||C$1}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:q$1(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=pe$1(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=q$1(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,c,p,f,g,Wn,Qn,Yn,xn,er,Hn=t[1].trim();const ir=Hn.length>1,Zn={type:"list",raw:"",ordered:ir,start:ir?+Hn.slice(0,-1):"",loose:!1,items:[]};Hn=ir?`\\d{1,9}\\${Hn.slice(-1)}`:`\\${Hn}`,this.options.pedantic&&(Hn=ir?Hn:"[*+-]");const zn=new RegExp(`^( {0,3}${Hn})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(er=!1,!(!(t=zn.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),Wn=t[2].split(`
`,1)[0].replace(/^\t+/,sr=>" ".repeat(3*sr.length)),Qn=e.split(`
`,1)[0],this.options.pedantic?(c=2,xn=Wn.trimLeft()):(c=t[2].search(/[^ ]/),c=c>4?1:c,xn=Wn.slice(c),c+=t[1].length),f=!1,!Wn&&/^ *$/.test(Qn)&&(n+=Qn+`
`,e=e.substring(Qn.length+1),er=!0),!er){const sr=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),or=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ar=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),ur=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(Yn=e.split(`
`,1)[0],Qn=Yn,this.options.pedantic&&(Qn=Qn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ar.test(Qn)||ur.test(Qn)||sr.test(Qn)||or.test(e)));){if(Qn.search(/[^ ]/)>=c||!Qn.trim())xn+=`
`+Qn.slice(c);else{if(f||Wn.search(/[^ ]/)>=4||ar.test(Wn)||ur.test(Wn)||or.test(Wn))break;xn+=`
`+Qn}!f&&!Qn.trim()&&(f=!0),n+=Yn+`
`,e=e.substring(Yn.length+1),Wn=Qn.slice(c)}}Zn.loose||(g?Zn.loose=!0:/\n *\n *$/.test(n)&&(g=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(xn),i&&(r=i[0]!=="[ ] ",xn=xn.replace(/^\[[ xX]\] +/,""))),Zn.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:xn}),Zn.raw+=n}Zn.items[Zn.items.length-1].raw=n.trimRight(),Zn.items[Zn.items.length-1].text=xn.trimRight(),Zn.raw=Zn.raw.trimRight();const nr=Zn.items.length;for(p=0;p<nr;p++)if(this.lexer.state.top=!1,Zn.items[p].tokens=this.lexer.blockTokens(Zn.items[p].text,[]),!Zn.loose){const sr=Zn.items[p].tokens.filter(ar=>ar.type==="space"),or=sr.length>0&&sr.some(ar=>/\n.*\n/.test(ar.raw));Zn.loose=or}if(Zn.loose)for(p=0;p<nr;p++)Zn.items[p].loose=!0;return Zn}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):b(t[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:j$1(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let i=n.align.length,r,c,p,f;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.rows.length,r=0;r<i;r++)n.rows[r]=j$1(n.rows[r],n.header.length).map(g=>({text:g}));for(i=n.header.length,c=0;c<i;c++)n.header[c].tokens=this.lexer.inline(n.header[c].text);for(i=n.rows.length,c=0;c<i;c++)for(f=n.rows[c],p=0;p<f.length;p++)f[p].tokens=this.lexer.inline(f[p].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:b(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):b(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const c=q$1(n.slice(0,-1),"\\");if((n.length-c.length)%2===0)return}else{const c=he$1(t[2],"()");if(c>-1){const p=(t[0].indexOf("!")===0?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,p).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],r=c[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Q$1(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Q$1(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const c=i[0].length-1;let p,f,g=c,Wn=0;const Qn=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Qn.lastIndex=0,t=t.slice(-1*e.length+c);(i=Qn.exec(t))!=null;){if(p=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!p)continue;if(f=p.length,i[3]||i[4]){g+=f;continue}else if((i[5]||i[6])&&c%3&&!((c+f)%3)){Wn+=f;continue}if(g-=f,g>0)continue;f=Math.min(f,f+g+Wn);const Yn=e.slice(0,c+i.index+(i[0].length-p.length)+f);if(Math.min(c,f)%2){const er=Yn.slice(1,-1);return{type:"em",raw:Yn,text:er,tokens:this.lexer.inlineTokens(er)}}const xn=Yn.slice(2,-2);return{type:"strong",raw:Yn,text:xn,tokens:this.lexer.inlineTokens(xn)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=b(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let i,r;return n[2]==="@"?(i=b(this.options.mangle?t(n[1]):n[1]),r="mailto:"+i):(i=b(n[1]),r=i),{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let i,r;if(n[2]==="@")i=b(this.options.mangle?t(n[0]):n[0]),r="mailto:"+i;else{let c;do c=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(c!==n[0]);i=b(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):b(n[0]):n[0]:i=b(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}};const h$1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:B$1,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};h$1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,h$1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,h$1.def=k(h$1.def).replace("label",h$1._label).replace("title",h$1._title).getRegex(),h$1.bullet=/(?:[*+-]|\d{1,9}[.)])/,h$1.listItemStart=k(/^( *)(bull) */).replace("bull",h$1.bullet).getRegex(),h$1.list=k(h$1.list).replace(/bull/g,h$1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+h$1.def.source+")").getRegex(),h$1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",h$1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,h$1.html=k(h$1.html,"i").replace("comment",h$1._comment).replace("tag",h$1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),h$1.paragraph=k(h$1._paragraph).replace("hr",h$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h$1._tag).getRegex(),h$1.blockquote=k(h$1.blockquote).replace("paragraph",h$1.paragraph).getRegex(),h$1.normal=y({},h$1),h$1.gfm=y({},h$1.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),h$1.gfm.table=k(h$1.gfm.table).replace("hr",h$1.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h$1._tag).getRegex(),h$1.gfm.paragraph=k(h$1._paragraph).replace("hr",h$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",h$1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h$1._tag).getRegex(),h$1.pedantic=y({},h$1.normal,{html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",h$1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B$1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(h$1.normal._paragraph).replace("hr",h$1.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",h$1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B$1,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B$1,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};o._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",o.punctuation=k(o.punctuation).replace(/punctuation/g,o._punctuation).getRegex(),o.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,o.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,o._comment=k(h$1._comment).replace("(?:-->|$)","-->").getRegex(),o.emStrong.lDelim=k(o.emStrong.lDelim).replace(/punct/g,o._punctuation).getRegex(),o.emStrong.rDelimAst=k(o.emStrong.rDelimAst,"g").replace(/punct/g,o._punctuation).getRegex(),o.emStrong.rDelimUnd=k(o.emStrong.rDelimUnd,"g").replace(/punct/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=k(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=k(o.tag).replace("comment",o._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=k(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=k(o.reflink).replace("label",o._label).replace("ref",h$1._label).getRegex(),o.nolink=k(o.nolink).replace("ref",h$1._label).getRegex(),o.reflinkSearch=k(o.reflinkSearch,"g").replace("reflink",o.reflink).replace("nolink",o.nolink).getRegex(),o.normal=y({},o),o.pedantic=y({},o.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=y({},o.normal,{escape:k(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),o.gfm.url=k(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=y({},o.gfm,{br:k(o.br).replace("{2,}","*").getRegex(),text:k(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ue$1(s){return s.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function N(s){let e="",t,n;const i=s.length;for(t=0;t<i;t++)n=s.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}let A$1=class No{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||C$1,this.options.tokenizer=this.options.tokenizer||new D$1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:h$1.normal,inline:o.normal};this.options.pedantic?(t.block=h$1.pedantic,t.inline=o.pedantic):this.options.gfm&&(t.block=h$1.gfm,this.options.breaks?t.inline=o.breaks:t.inline=o.gfm),this.tokenizer.rules=t}static get rules(){return{block:h$1,inline:o}}static lex(e,t){return new No(t).lex(e)}static lexInline(e,t){return new No(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(p,f,g)=>f+"    ".repeat(g.length));let n,i,r,c;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(n=p.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const f=e.slice(1);let g;this.options.extensions.startBlock.forEach(function(Wn){g=Wn.call({lexer:this},f),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(r=e.substring(0,p+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){i=t[t.length-1],c&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),c=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,c=e,p,f,g;if(this.tokens.links){const Wn=Object.keys(this.tokens.links);if(Wn.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)Wn.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,p.index)+"["+P("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,p.index)+"["+P("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,p.index+p[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(f||(g=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Wn=>(n=Wn.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,c,g)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,N)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,N))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let Wn=1/0;const Qn=e.slice(1);let Yn;this.options.extensions.startInline.forEach(function(xn){Yn=xn.call({lexer:this},Qn),typeof Yn=="number"&&Yn>=0&&(Wn=Math.min(Wn,Yn))}),Wn<1/0&&Wn>=0&&(r=e.substring(0,Wn+1))}if(n=this.tokenizer.inlineText(r,ue$1)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(g=n.raw.slice(-1)),f=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const Wn="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Wn);break}else throw new Error(Wn)}}return t}};class O{constructor(e){this.options=e||C$1}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+b(i)+'">'+(n?e:b(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:b(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const i=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=M(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(e=M(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class H{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}let J$1=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};class S{constructor(e){this.options=e||C$1,this.options.renderer=this.options.renderer||new O,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new H,this.slugger=new J$1}static parse(e,t){return new S(t).parse(e)}static parseInline(e,t){return new S(t).parseInline(e)}parse(e,t=!0){let n="",i,r,c,p,f,g,Wn,Qn,Yn,xn,er,Hn,ir,Zn,zn,nr,sr,or,ar;const ur=e.length;for(i=0;i<ur;i++){if(xn=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[xn.type]&&(ar=this.options.extensions.renderers[xn.type].call({parser:this},xn),ar!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(xn.type))){n+=ar||"";continue}switch(xn.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(xn.tokens),xn.depth,G$1(this.parseInline(xn.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(xn.text,xn.lang,xn.escaped);continue}case"table":{for(Qn="",Wn="",p=xn.header.length,r=0;r<p;r++)Wn+=this.renderer.tablecell(this.parseInline(xn.header[r].tokens),{header:!0,align:xn.align[r]});for(Qn+=this.renderer.tablerow(Wn),Yn="",p=xn.rows.length,r=0;r<p;r++){for(g=xn.rows[r],Wn="",f=g.length,c=0;c<f;c++)Wn+=this.renderer.tablecell(this.parseInline(g[c].tokens),{header:!1,align:xn.align[c]});Yn+=this.renderer.tablerow(Wn)}n+=this.renderer.table(Qn,Yn);continue}case"blockquote":{Yn=this.parse(xn.tokens),n+=this.renderer.blockquote(Yn);continue}case"list":{for(er=xn.ordered,Hn=xn.start,ir=xn.loose,p=xn.items.length,Yn="",r=0;r<p;r++)zn=xn.items[r],nr=zn.checked,sr=zn.task,Zn="",zn.task&&(or=this.renderer.checkbox(nr),ir?zn.tokens.length>0&&zn.tokens[0].type==="paragraph"?(zn.tokens[0].text=or+" "+zn.tokens[0].text,zn.tokens[0].tokens&&zn.tokens[0].tokens.length>0&&zn.tokens[0].tokens[0].type==="text"&&(zn.tokens[0].tokens[0].text=or+" "+zn.tokens[0].tokens[0].text)):zn.tokens.unshift({type:"text",text:or}):Zn+=or),Zn+=this.parse(zn.tokens,ir),Yn+=this.renderer.listitem(Zn,sr,nr);n+=this.renderer.list(Yn,er,Hn);continue}case"html":{n+=this.renderer.html(xn.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(xn.tokens));continue}case"text":{for(Yn=xn.tokens?this.parseInline(xn.tokens):xn.text;i+1<ur&&e[i+1].type==="text";)xn=e[++i],Yn+=`
`+(xn.tokens?this.parseInline(xn.tokens):xn.text);n+=t?this.renderer.paragraph(Yn):Yn;continue}default:{const fr='Token with "'+xn.type+'" type was not found.';if(this.options.silent){console.error(fr);return}else throw new Error(fr)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,r,c;const p=e.length;for(i=0;i<p;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(c=this.options.extensions.renderers[r.type].call({parser:this},r),c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=c||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const f='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(f);return}else throw new Error(f)}}}return n}}function u(s,e,t){if(typeof s=="undefined"||s===null)throw new Error("marked(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=y({},u.defaults,e||{}),V$1(e),t){const i=e.highlight;let r;try{r=A$1.lex(s,e)}catch(f){return t(f)}const c=function(f){let g;if(!f)try{e.walkTokens&&u.walkTokens(r,e.walkTokens),g=S.parse(r,e)}catch(Wn){f=Wn}return e.highlight=i,f?t(f):t(null,g)};if(!i||i.length<3||(delete e.highlight,!r.length))return c();let p=0;u.walkTokens(r,function(f){f.type==="code"&&(p++,setTimeout(()=>{i(f.text,f.lang,function(g,Wn){if(g)return c(g);Wn!=null&&Wn!==f.text&&(f.text=Wn,f.escaped=!0),p--,p===0&&c()})},0))}),p===0&&c();return}function n(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+b(i.message+"",!0)+"</pre>";throw i}try{const i=A$1.lex(s,e);if(e.walkTokens){if(e.async)return Promise.all(u.walkTokens(i,e.walkTokens)).then(()=>S.parse(i,e)).catch(n);u.walkTokens(i,e.walkTokens)}return S.parse(i,e)}catch(i){n(i)}}u.options=u.setOptions=function(s){return y(u.defaults,s),K$1(u.defaults),u},u.getDefaults=F$1,u.defaults=C$1,u.use=function(...s){const e=u.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const n=y({},t);if(n.async=u.defaults.async||n.async,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const r=e.renderers[i.name];r?e.renderers[i.name]=function(...c){let p=i.renderer.apply(this,c);return p===!1&&(p=r.apply(this,c)),p}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){const i=u.defaults.renderer||new O;for(const r in t.renderer){const c=i[r];i[r]=(...p)=>{let f=t.renderer[r].apply(i,p);return f===!1&&(f=c.apply(i,p)),f}}n.renderer=i}if(t.tokenizer){const i=u.defaults.tokenizer||new D$1;for(const r in t.tokenizer){const c=i[r];i[r]=(...p)=>{let f=t.tokenizer[r].apply(i,p);return f===!1&&(f=c.apply(i,p)),f}}n.tokenizer=i}if(t.walkTokens){const i=u.defaults.walkTokens;n.walkTokens=function(r){let c=[];return c.push(t.walkTokens.call(this,r)),i&&(c=c.concat(i.call(this,r))),c}}u.setOptions(n)})},u.walkTokens=function(s,e){let t=[];for(const n of s)switch(t=t.concat(e.call(u,n)),n.type){case"table":{for(const i of n.header)t=t.concat(u.walkTokens(i.tokens,e));for(const i of n.rows)for(const r of i)t=t.concat(u.walkTokens(r.tokens,e));break}case"list":{t=t.concat(u.walkTokens(n.items,e));break}default:u.defaults.extensions&&u.defaults.extensions.childTokens&&u.defaults.extensions.childTokens[n.type]?u.defaults.extensions.childTokens[n.type].forEach(function(i){t=t.concat(u.walkTokens(n[i],e))}):n.tokens&&(t=t.concat(u.walkTokens(n.tokens,e)))}return t},u.parseInline=function(s,e){if(typeof s=="undefined"||s===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");e=y({},u.defaults,e||{}),V$1(e);try{const t=A$1.lexInline(s,e);return e.walkTokens&&u.walkTokens(t,e.walkTokens),S.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+b(t.message+"",!0)+"</pre>";throw t}},u.Parser=S,u.parser=S.parse,u.Renderer=O,u.TextRenderer=H,u.Lexer=A$1,u.lexer=A$1.lex,u.Tokenizer=D$1,u.Slugger=J$1,u.parse=u,u.options,u.setOptions,u.use,u.walkTokens,u.parseInline,S.parse,A$1.lex;const marked_esmNC81mQAE=Object.freeze(Object.defineProperty({__proto__:null,Lexer:A$1,Parser:S,Renderer:O,Slugger:J$1,TextRenderer:H,Tokenizer:D$1,get defaults(){return C$1},getDefaults:F$1,marked:u},Symbol.toStringTag,{value:"Module"}));function ii(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in s)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(s,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}function ti(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var li=function(){function s(n,i){function r(){this.constructor=n}r.prototype=i.prototype,n.prototype=new r}function e(n,i,r,c,p,f){this.message=n,this.expected=i,this.found=r,this.offset=c,this.line=p,this.column=f,this.name="SyntaxError"}s(e,Error);function t(n){var i=arguments.length>1?arguments[1]:{},r={},c={start:hi},p=hi,f=function(){return Ii},g=r,Wn="#",Qn={type:"literal",value:"#",description:'"#"'},Yn=void 0,xn={type:"any",description:"any character"},er="[",Hn={type:"literal",value:"[",description:'"["'},ir="]",Zn={type:"literal",value:"]",description:'"]"'},zn=function(l){Io(to("ObjectPath",l,Cs,eo))},nr=function(l){Io(to("ArrayPath",l,Cs,eo))},sr=function(l,I){return l.concat(I)},or=function(l){return[l]},ar=function(l){return l},ur=".",fr={type:"literal",value:".",description:'"."'},kr="=",Er={type:"literal",value:"=",description:'"="'},Or=function(l,I){Io(to("Assign",I,Cs,eo,l))},Fr=function(l){return l.join("")},Sr=function(l){return l.value},br='"""',Mr={type:"literal",value:'"""',description:'"\\"\\"\\""'},Dr=null,Lr=function(l){return to("String",l.join(""),Cs,eo)},Jr='"',Qr={type:"literal",value:'"',description:'"\\""'},qr="'''",Pr={type:"literal",value:"'''",description:`"'''"`},Nr="'",Gr={type:"literal",value:"'",description:`"'"`},Xr=function(l){return l},Yr=function(l){return l},oo="\\",Zr={type:"literal",value:"\\",description:'"\\\\"'},rr=function(){return""},cr="e",vr={type:"literal",value:"e",description:'"e"'},wr="E",gr={type:"literal",value:"E",description:'"E"'},dr=function(l,I){return to("Float",parseFloat(l+"e"+I),Cs,eo)},Ar=function(l){return to("Float",parseFloat(l),Cs,eo)},_r="+",Rr={type:"literal",value:"+",description:'"+"'},Cr=function(l){return l.join("")},Ur="-",Kr={type:"literal",value:"-",description:'"-"'},io=function(l){return"-"+l.join("")},no=function(l){return to("Integer",parseInt(l,10),Cs,eo)},ao="true",Ao={type:"literal",value:"true",description:'"true"'},Hi=function(){return to("Boolean",!0,Cs,eo)},Uo="false",Bi={type:"literal",value:"false",description:'"false"'},Ki=function(){return to("Boolean",!1,Cs,eo)},zi=function(){return to("Array",[],Cs,eo)},Gi=function(l){return to("Array",l?[l]:[],Cs,eo)},Xi=function(l){return to("Array",l,Cs,eo)},Wi=function(l,I){return to("Array",l.concat(I),Cs,eo)},Fo=function(l){return l},Do=",",Mo={type:"literal",value:",",description:'","'},Vi="{",Ji={type:"literal",value:"{",description:'"{"'},Qi="}",Yi={type:"literal",value:"}",description:'"}"'},Zi=function(l){return to("InlineTable",l,Cs,eo)},qo=function(l,I){return to("InlineTableValue",I,Cs,eo,l)},ea=function(l){return"."+l},ta=function(l){return l.join("")},go=":",mo={type:"literal",value:":",description:'":"'},Ho=function(l){return l.join("")},Bo="T",Ko={type:"literal",value:"T",description:'"T"'},na="Z",ra={type:"literal",value:"Z",description:'"Z"'},sa=function(l,I){return to("Date",new Date(l+"T"+I+"Z"),Cs,eo)},oa=function(l,I){return to("Date",new Date(l+"T"+I),Cs,eo)},ia=/^[ \t]/,aa={type:"class",value:"[ \\t]",description:"[ \\t]"},zo=`
`,Go={type:"literal",value:`
`,description:'"\\n"'},la="\r",ca={type:"literal",value:"\r",description:'"\\r"'},ua=/^[0-9a-f]/i,fa={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},ha=/^[0-9]/,da={type:"class",value:"[0-9]",description:"[0-9]"},pa="_",ga={type:"literal",value:"_",description:'"_"'},ma=function(){return""},ya=/^[A-Za-z0-9_\-]/,va={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},ba=function(l){return l.join("")},Xo='\\"',ka={type:"literal",value:'\\"',description:'"\\\\\\""'},wa=function(){return'"'},Wo="\\\\",xa={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Ea=function(){return"\\"},Vo="\\b",Sa={type:"literal",value:"\\b",description:'"\\\\b"'},Aa=function(){return"\b"},Jo="\\t",Ta={type:"literal",value:"\\t",description:'"\\\\t"'},_a=function(){return"	"},Qo="\\n",Oa={type:"literal",value:"\\n",description:'"\\\\n"'},$a=function(){return`
`},Yo="\\f",Ca={type:"literal",value:"\\f",description:'"\\\\f"'},Ia=function(){return"\f"},Zo="\\r",Ra={type:"literal",value:"\\r",description:'"\\\\r"'},Pa=function(){return"\r"},ei="\\U",La={type:"literal",value:"\\U",description:'"\\\\U"'},ri=function(l){return tl(l.join(""))},si="\\u",ja={type:"literal",value:"\\u",description:'"\\\\u"'},d=0,Ir=0,yo=0,To={line:1,column:1,seenCR:!1},ko=0,_o=[],mr=0,yr={},wo;if("startRule"in i){if(!(i.startRule in c))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');p=c[i.startRule]}function Cs(){return Oo(Ir).line}function eo(){return Oo(Ir).column}function Oo(l){function I(Tt,Xn,tr){var lr,hr;for(lr=Xn;lr<tr;lr++)hr=n.charAt(lr),hr===`
`?(Tt.seenCR||Tt.line++,Tt.column=1,Tt.seenCR=!1):hr==="\r"||hr==="\u2028"||hr==="\u2029"?(Tt.line++,Tt.column=1,Tt.seenCR=!0):(Tt.column++,Tt.seenCR=!1)}return yo!==l&&(yo>l&&(yo=0,To={line:1,column:1,seenCR:!1}),I(To,yo,l),yo=l),To}function xr(l){d<ko||(d>ko&&(ko=d,_o=[]),_o.push(l))}function Na(l,I,Tt){function Xn(Tr){var jr=1;for(Tr.sort(function(zr,Hr){return zr.description<Hr.description?-1:zr.description>Hr.description?1:0});jr<Tr.length;)Tr[jr-1]===Tr[jr]?Tr.splice(jr,1):jr++}function tr(Tr,jr){function zr(po){function fo(so){return so.charCodeAt(0).toString(16).toUpperCase()}return po.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(so){return"\\x0"+fo(so)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(so){return"\\x"+fo(so)}).replace(/[\u0180-\u0FFF]/g,function(so){return"\\u0"+fo(so)}).replace(/[\u1080-\uFFFF]/g,function(so){return"\\u"+fo(so)})}var Hr=new Array(Tr.length),Wr,Vr,ro;for(ro=0;ro<Tr.length;ro++)Hr[ro]=Tr[ro].description;return Wr=Tr.length>1?Hr.slice(0,-1).join(", ")+" or "+Hr[Tr.length-1]:Hr[0],Vr=jr?'"'+zr(jr)+'"':"end of input","Expected "+Wr+" but "+Vr+" found."}var lr=Oo(Tt),hr=Tt<n.length?n.charAt(Tt):null;return I!==null&&Xn(I),new e(l!==null?l:tr(I,hr),I,hr,Tt,lr.line,lr.column)}function hi(){var l,I,Tt,Xn=d*49+0,tr=yr[Xn];if(tr)return d=tr.nextPos,tr.result;for(l=d,I=[],Tt=di();Tt!==r;)I.push(Tt),Tt=di();return I!==r&&(Ir=l,I=f()),l=I,yr[Xn]={nextPos:d,result:l},l}function di(){var l,I,Tt,Xn,tr,lr,hr,Tr=d*49+1,jr=yr[Tr];if(jr)return d=jr.nextPos,jr.result;for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=Ua(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();if(Xn!==r){for(tr=[],lr=xo();lr!==r;)tr.push(lr),lr=xo();if(tr!==r){if(lr=[],hr=co(),hr!==r)for(;hr!==r;)lr.push(hr),hr=co();else lr=g;lr===r&&(lr=So()),lr!==r?(I=[I,Tt,Xn,tr,lr],l=I):(d=l,l=g)}else d=l,l=g}else d=l,l=g}else d=l,l=g;else d=l,l=g;if(l===r){if(l=d,I=[],Tt=$r(),Tt!==r)for(;Tt!==r;)I.push(Tt),Tt=$r();else I=g;if(I!==r){if(Tt=[],Xn=co(),Xn!==r)for(;Xn!==r;)Tt.push(Xn),Xn=co();else Tt=g;Tt===r&&(Tt=So()),Tt!==r?(I=[I,Tt],l=I):(d=l,l=g)}else d=l,l=g;l===r&&(l=co())}return yr[Tr]={nextPos:d,result:l},l}function Ua(){var l,I=d*49+2,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(l=xo(),l===r&&(l=Fa(),l===r&&(l=Da(),l===r&&(l=Ma()))),yr[I]={nextPos:d,result:l},l)}function xo(){var l,I,Tt,Xn,tr,lr,hr=d*49+3,Tr=yr[hr];if(Tr)return d=Tr.nextPos,Tr.result;if(l=d,n.charCodeAt(d)===35?(I=Wn,d++):(I=r,mr===0&&xr(Qn)),I!==r){for(Tt=[],Xn=d,tr=d,mr++,lr=co(),lr===r&&(lr=So()),mr--,lr===r?tr=Yn:(d=tr,tr=g),tr!==r?(n.length>d?(lr=n.charAt(d),d++):(lr=r,mr===0&&xr(xn)),lr!==r?(tr=[tr,lr],Xn=tr):(d=Xn,Xn=g)):(d=Xn,Xn=g);Xn!==r;)Tt.push(Xn),Xn=d,tr=d,mr++,lr=co(),lr===r&&(lr=So()),mr--,lr===r?tr=Yn:(d=tr,tr=g),tr!==r?(n.length>d?(lr=n.charAt(d),d++):(lr=r,mr===0&&xr(xn)),lr!==r?(tr=[tr,lr],Xn=tr):(d=Xn,Xn=g)):(d=Xn,Xn=g);Tt!==r?(I=[I,Tt],l=I):(d=l,l=g)}else d=l,l=g;return yr[hr]={nextPos:d,result:l},l}function Fa(){var l,I,Tt,Xn,tr,lr,hr=d*49+4,Tr=yr[hr];if(Tr)return d=Tr.nextPos,Tr.result;if(l=d,n.charCodeAt(d)===91?(I=er,d++):(I=r,mr===0&&xr(Hn)),I!==r){for(Tt=[],Xn=$r();Xn!==r;)Tt.push(Xn),Xn=$r();if(Tt!==r)if(Xn=pi(),Xn!==r){for(tr=[],lr=$r();lr!==r;)tr.push(lr),lr=$r();tr!==r?(n.charCodeAt(d)===93?(lr=ir,d++):(lr=r,mr===0&&xr(Zn)),lr!==r?(Ir=l,I=zn(Xn),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;return yr[hr]={nextPos:d,result:l},l}function Da(){var l,I,Tt,Xn,tr,lr,hr,Tr,jr=d*49+5,zr=yr[jr];if(zr)return d=zr.nextPos,zr.result;if(l=d,n.charCodeAt(d)===91?(I=er,d++):(I=r,mr===0&&xr(Hn)),I!==r)if(n.charCodeAt(d)===91?(Tt=er,d++):(Tt=r,mr===0&&xr(Hn)),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();if(Xn!==r)if(tr=pi(),tr!==r){for(lr=[],hr=$r();hr!==r;)lr.push(hr),hr=$r();lr!==r?(n.charCodeAt(d)===93?(hr=ir,d++):(hr=r,mr===0&&xr(Zn)),hr!==r?(n.charCodeAt(d)===93?(Tr=ir,d++):(Tr=r,mr===0&&xr(Zn)),Tr!==r?(Ir=l,I=nr(tr),l=I):(d=l,l=g)):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g;return yr[jr]={nextPos:d,result:l},l}function pi(){var l,I,Tt,Xn=d*49+6,tr=yr[Xn];if(tr)return d=tr.nextPos,tr.result;if(l=d,I=[],Tt=mi(),Tt!==r)for(;Tt!==r;)I.push(Tt),Tt=mi();else I=g;return I!==r?(Tt=gi(),Tt!==r?(Ir=l,I=sr(I,Tt),l=I):(d=l,l=g)):(d=l,l=g),l===r&&(l=d,I=gi(),I!==r&&(Ir=l,I=or(I)),l=I),yr[Xn]={nextPos:d,result:l},l}function gi(){var l,I,Tt,Xn,tr,lr=d*49+7,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=vo(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();Xn!==r?(Ir=l,I=ar(Tt),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g;if(l===r){for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=$o(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();Xn!==r?(Ir=l,I=ar(Tt),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g}return yr[lr]={nextPos:d,result:l},l}function mi(){var l,I,Tt,Xn,tr,lr,hr,Tr=d*49+8,jr=yr[Tr];if(jr)return d=jr.nextPos,jr.result;for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=vo(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();if(Xn!==r)if(n.charCodeAt(d)===46?(tr=ur,d++):(tr=r,mr===0&&xr(fr)),tr!==r){for(lr=[],hr=$r();hr!==r;)lr.push(hr),hr=$r();lr!==r?(Ir=l,I=ar(Tt),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g;if(l===r){for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=$o(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();if(Xn!==r)if(n.charCodeAt(d)===46?(tr=ur,d++):(tr=r,mr===0&&xr(fr)),tr!==r){for(lr=[],hr=$r();hr!==r;)lr.push(hr),hr=$r();lr!==r?(Ir=l,I=ar(Tt),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g}return yr[Tr]={nextPos:d,result:l},l}function Ma(){var l,I,Tt,Xn,tr,lr,hr=d*49+9,Tr=yr[hr];if(Tr)return d=Tr.nextPos,Tr.result;if(l=d,I=vo(),I!==r){for(Tt=[],Xn=$r();Xn!==r;)Tt.push(Xn),Xn=$r();if(Tt!==r)if(n.charCodeAt(d)===61?(Xn=kr,d++):(Xn=r,mr===0&&xr(Er)),Xn!==r){for(tr=[],lr=$r();lr!==r;)tr.push(lr),lr=$r();tr!==r?(lr=ho(),lr!==r?(Ir=l,I=Or(I,lr),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;if(l===r)if(l=d,I=$o(),I!==r){for(Tt=[],Xn=$r();Xn!==r;)Tt.push(Xn),Xn=$r();if(Tt!==r)if(n.charCodeAt(d)===61?(Xn=kr,d++):(Xn=r,mr===0&&xr(Er)),Xn!==r){for(tr=[],lr=$r();lr!==r;)tr.push(lr),lr=$r();tr!==r?(lr=ho(),lr!==r?(Ir=l,I=Or(I,lr),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;return yr[hr]={nextPos:d,result:l},l}function vo(){var l,I,Tt,Xn=d*49+10,tr=yr[Xn];if(tr)return d=tr.nextPos,tr.result;if(l=d,I=[],Tt=$i(),Tt!==r)for(;Tt!==r;)I.push(Tt),Tt=$i();else I=g;return I!==r&&(Ir=l,I=Fr(I)),l=I,yr[Xn]={nextPos:d,result:l},l}function $o(){var l,I,Tt=d*49+11,Xn=yr[Tt];return Xn?(d=Xn.nextPos,Xn.result):(l=d,I=yi(),I!==r&&(Ir=l,I=Sr(I)),l=I,l===r&&(l=d,I=vi(),I!==r&&(Ir=l,I=Sr(I)),l=I),yr[Tt]={nextPos:d,result:l},l)}function ho(){var l,I=d*49+12,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(l=qa(),l===r&&(l=Ya(),l===r&&(l=za(),l===r&&(l=Ga(),l===r&&(l=Xa(),l===r&&(l=Wa(),l===r&&(l=Va())))))),yr[I]={nextPos:d,result:l},l)}function qa(){var l,I=d*49+13,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(l=Ha(),l===r&&(l=yi(),l===r&&(l=Ba(),l===r&&(l=vi()))),yr[I]={nextPos:d,result:l},l)}function Ha(){var l,I,Tt,Xn,tr,lr=d*49+14,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;if(l=d,n.substr(d,3)===br?(I=br,d+=3):(I=r,mr===0&&xr(Mr)),I!==r)if(Tt=co(),Tt===r&&(Tt=Dr),Tt!==r){for(Xn=[],tr=wi();tr!==r;)Xn.push(tr),tr=wi();Xn!==r?(n.substr(d,3)===br?(tr=br,d+=3):(tr=r,mr===0&&xr(Mr)),tr!==r?(Ir=l,I=Lr(Xn),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g;return yr[lr]={nextPos:d,result:l},l}function yi(){var l,I,Tt,Xn,tr=d*49+15,lr=yr[tr];if(lr)return d=lr.nextPos,lr.result;if(l=d,n.charCodeAt(d)===34?(I=Jr,d++):(I=r,mr===0&&xr(Qr)),I!==r){for(Tt=[],Xn=bi();Xn!==r;)Tt.push(Xn),Xn=bi();Tt!==r?(n.charCodeAt(d)===34?(Xn=Jr,d++):(Xn=r,mr===0&&xr(Qr)),Xn!==r?(Ir=l,I=Lr(Tt),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;return yr[tr]={nextPos:d,result:l},l}function Ba(){var l,I,Tt,Xn,tr,lr=d*49+16,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;if(l=d,n.substr(d,3)===qr?(I=qr,d+=3):(I=r,mr===0&&xr(Pr)),I!==r)if(Tt=co(),Tt===r&&(Tt=Dr),Tt!==r){for(Xn=[],tr=xi();tr!==r;)Xn.push(tr),tr=xi();Xn!==r?(n.substr(d,3)===qr?(tr=qr,d+=3):(tr=r,mr===0&&xr(Pr)),tr!==r?(Ir=l,I=Lr(Xn),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g;return yr[lr]={nextPos:d,result:l},l}function vi(){var l,I,Tt,Xn,tr=d*49+17,lr=yr[tr];if(lr)return d=lr.nextPos,lr.result;if(l=d,n.charCodeAt(d)===39?(I=Nr,d++):(I=r,mr===0&&xr(Gr)),I!==r){for(Tt=[],Xn=ki();Xn!==r;)Tt.push(Xn),Xn=ki();Tt!==r?(n.charCodeAt(d)===39?(Xn=Nr,d++):(Xn=r,mr===0&&xr(Gr)),Xn!==r?(Ir=l,I=Lr(Tt),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;return yr[tr]={nextPos:d,result:l},l}function bi(){var l,I,Tt,Xn=d*49+18,tr=yr[Xn];return tr?(d=tr.nextPos,tr.result):(l=Ci(),l===r&&(l=d,I=d,mr++,n.charCodeAt(d)===34?(Tt=Jr,d++):(Tt=r,mr===0&&xr(Qr)),mr--,Tt===r?I=Yn:(d=I,I=g),I!==r?(n.length>d?(Tt=n.charAt(d),d++):(Tt=r,mr===0&&xr(xn)),Tt!==r?(Ir=l,I=Xr(Tt),l=I):(d=l,l=g)):(d=l,l=g)),yr[Xn]={nextPos:d,result:l},l)}function ki(){var l,I,Tt,Xn=d*49+19,tr=yr[Xn];return tr?(d=tr.nextPos,tr.result):(l=d,I=d,mr++,n.charCodeAt(d)===39?(Tt=Nr,d++):(Tt=r,mr===0&&xr(Gr)),mr--,Tt===r?I=Yn:(d=I,I=g),I!==r?(n.length>d?(Tt=n.charAt(d),d++):(Tt=r,mr===0&&xr(xn)),Tt!==r?(Ir=l,I=Xr(Tt),l=I):(d=l,l=g)):(d=l,l=g),yr[Xn]={nextPos:d,result:l},l)}function wi(){var l,I,Tt,Xn=d*49+20,tr=yr[Xn];return tr?(d=tr.nextPos,tr.result):(l=Ci(),l===r&&(l=Ka(),l===r&&(l=d,I=d,mr++,n.substr(d,3)===br?(Tt=br,d+=3):(Tt=r,mr===0&&xr(Mr)),mr--,Tt===r?I=Yn:(d=I,I=g),I!==r?(n.length>d?(Tt=n.charAt(d),d++):(Tt=r,mr===0&&xr(xn)),Tt!==r?(Ir=l,I=Yr(Tt),l=I):(d=l,l=g)):(d=l,l=g))),yr[Xn]={nextPos:d,result:l},l)}function Ka(){var l,I,Tt,Xn,tr,lr=d*49+21,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;if(l=d,n.charCodeAt(d)===92?(I=oo,d++):(I=r,mr===0&&xr(Zr)),I!==r)if(Tt=co(),Tt!==r){for(Xn=[],tr=Oi();tr!==r;)Xn.push(tr),tr=Oi();Xn!==r?(Ir=l,I=rr(),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g;return yr[lr]={nextPos:d,result:l},l}function xi(){var l,I,Tt,Xn=d*49+22,tr=yr[Xn];return tr?(d=tr.nextPos,tr.result):(l=d,I=d,mr++,n.substr(d,3)===qr?(Tt=qr,d+=3):(Tt=r,mr===0&&xr(Pr)),mr--,Tt===r?I=Yn:(d=I,I=g),I!==r?(n.length>d?(Tt=n.charAt(d),d++):(Tt=r,mr===0&&xr(xn)),Tt!==r?(Ir=l,I=Xr(Tt),l=I):(d=l,l=g)):(d=l,l=g),yr[Xn]={nextPos:d,result:l},l)}function za(){var l,I,Tt,Xn,tr=d*49+23,lr=yr[tr];return lr?(d=lr.nextPos,lr.result):(l=d,I=Ei(),I===r&&(I=Co()),I!==r?(n.charCodeAt(d)===101?(Tt=cr,d++):(Tt=r,mr===0&&xr(vr)),Tt===r&&(n.charCodeAt(d)===69?(Tt=wr,d++):(Tt=r,mr===0&&xr(gr))),Tt!==r?(Xn=Co(),Xn!==r?(Ir=l,I=dr(I,Xn),l=I):(d=l,l=g)):(d=l,l=g)):(d=l,l=g),l===r&&(l=d,I=Ei(),I!==r&&(Ir=l,I=Ar(I)),l=I),yr[tr]={nextPos:d,result:l},l)}function Ei(){var l,I,Tt,Xn,tr,lr,hr=d*49+24,Tr=yr[hr];return Tr?(d=Tr.nextPos,Tr.result):(l=d,n.charCodeAt(d)===43?(I=_r,d++):(I=r,mr===0&&xr(Rr)),I===r&&(I=Dr),I!==r?(Tt=d,Xn=bo(),Xn!==r?(n.charCodeAt(d)===46?(tr=ur,d++):(tr=r,mr===0&&xr(fr)),tr!==r?(lr=bo(),lr!==r?(Xn=[Xn,tr,lr],Tt=Xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r?(Ir=l,I=Cr(Tt),l=I):(d=l,l=g)):(d=l,l=g),l===r&&(l=d,n.charCodeAt(d)===45?(I=Ur,d++):(I=r,mr===0&&xr(Kr)),I!==r?(Tt=d,Xn=bo(),Xn!==r?(n.charCodeAt(d)===46?(tr=ur,d++):(tr=r,mr===0&&xr(fr)),tr!==r?(lr=bo(),lr!==r?(Xn=[Xn,tr,lr],Tt=Xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r?(Ir=l,I=io(Tt),l=I):(d=l,l=g)):(d=l,l=g)),yr[hr]={nextPos:d,result:l},l)}function Ga(){var l,I,Tt=d*49+25,Xn=yr[Tt];return Xn?(d=Xn.nextPos,Xn.result):(l=d,I=Co(),I!==r&&(Ir=l,I=no(I)),l=I,yr[Tt]={nextPos:d,result:l},l)}function Co(){var l,I,Tt,Xn,tr,lr=d*49+26,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;if(l=d,n.charCodeAt(d)===43?(I=_r,d++):(I=r,mr===0&&xr(Rr)),I===r&&(I=Dr),I!==r){if(Tt=[],Xn=Br(),Xn!==r)for(;Xn!==r;)Tt.push(Xn),Xn=Br();else Tt=g;Tt!==r?(Xn=d,mr++,n.charCodeAt(d)===46?(tr=ur,d++):(tr=r,mr===0&&xr(fr)),mr--,tr===r?Xn=Yn:(d=Xn,Xn=g),Xn!==r?(Ir=l,I=Cr(Tt),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;if(l===r)if(l=d,n.charCodeAt(d)===45?(I=Ur,d++):(I=r,mr===0&&xr(Kr)),I!==r){if(Tt=[],Xn=Br(),Xn!==r)for(;Xn!==r;)Tt.push(Xn),Xn=Br();else Tt=g;Tt!==r?(Xn=d,mr++,n.charCodeAt(d)===46?(tr=ur,d++):(tr=r,mr===0&&xr(fr)),mr--,tr===r?Xn=Yn:(d=Xn,Xn=g),Xn!==r?(Ir=l,I=io(Tt),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;return yr[lr]={nextPos:d,result:l},l}function Xa(){var l,I,Tt=d*49+27,Xn=yr[Tt];return Xn?(d=Xn.nextPos,Xn.result):(l=d,n.substr(d,4)===ao?(I=ao,d+=4):(I=r,mr===0&&xr(Ao)),I!==r&&(Ir=l,I=Hi()),l=I,l===r&&(l=d,n.substr(d,5)===Uo?(I=Uo,d+=5):(I=r,mr===0&&xr(Bi)),I!==r&&(Ir=l,I=Ki()),l=I),yr[Tt]={nextPos:d,result:l},l)}function Wa(){var l,I,Tt,Xn,tr,lr=d*49+28,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;if(l=d,n.charCodeAt(d)===91?(I=er,d++):(I=r,mr===0&&xr(Hn)),I!==r){for(Tt=[],Xn=lo();Xn!==r;)Tt.push(Xn),Xn=lo();Tt!==r?(n.charCodeAt(d)===93?(Xn=ir,d++):(Xn=r,mr===0&&xr(Zn)),Xn!==r?(Ir=l,I=zi(),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;if(l===r&&(l=d,n.charCodeAt(d)===91?(I=er,d++):(I=r,mr===0&&xr(Hn)),I!==r?(Tt=Si(),Tt===r&&(Tt=Dr),Tt!==r?(n.charCodeAt(d)===93?(Xn=ir,d++):(Xn=r,mr===0&&xr(Zn)),Xn!==r?(Ir=l,I=Gi(Tt),l=I):(d=l,l=g)):(d=l,l=g)):(d=l,l=g),l===r)){if(l=d,n.charCodeAt(d)===91?(I=er,d++):(I=r,mr===0&&xr(Hn)),I!==r){if(Tt=[],Xn=Eo(),Xn!==r)for(;Xn!==r;)Tt.push(Xn),Xn=Eo();else Tt=g;Tt!==r?(n.charCodeAt(d)===93?(Xn=ir,d++):(Xn=r,mr===0&&xr(Zn)),Xn!==r?(Ir=l,I=Xi(Tt),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;if(l===r)if(l=d,n.charCodeAt(d)===91?(I=er,d++):(I=r,mr===0&&xr(Hn)),I!==r){if(Tt=[],Xn=Eo(),Xn!==r)for(;Xn!==r;)Tt.push(Xn),Xn=Eo();else Tt=g;Tt!==r?(Xn=Si(),Xn!==r?(n.charCodeAt(d)===93?(tr=ir,d++):(tr=r,mr===0&&xr(Zn)),tr!==r?(Ir=l,I=Wi(Tt,Xn),l=I):(d=l,l=g)):(d=l,l=g)):(d=l,l=g)}else d=l,l=g}return yr[lr]={nextPos:d,result:l},l}function Si(){var l,I,Tt,Xn,tr,lr=d*49+29,hr=yr[lr];if(hr)return d=hr.nextPos,hr.result;for(l=d,I=[],Tt=lo();Tt!==r;)I.push(Tt),Tt=lo();if(I!==r)if(Tt=ho(),Tt!==r){for(Xn=[],tr=lo();tr!==r;)Xn.push(tr),tr=lo();Xn!==r?(Ir=l,I=Fo(Tt),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g;return yr[lr]={nextPos:d,result:l},l}function Eo(){var l,I,Tt,Xn,tr,lr,hr,Tr=d*49+30,jr=yr[Tr];if(jr)return d=jr.nextPos,jr.result;for(l=d,I=[],Tt=lo();Tt!==r;)I.push(Tt),Tt=lo();if(I!==r)if(Tt=ho(),Tt!==r){for(Xn=[],tr=lo();tr!==r;)Xn.push(tr),tr=lo();if(Xn!==r)if(n.charCodeAt(d)===44?(tr=Do,d++):(tr=r,mr===0&&xr(Mo)),tr!==r){for(lr=[],hr=lo();hr!==r;)lr.push(hr),hr=lo();lr!==r?(Ir=l,I=Fo(Tt),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g;return yr[Tr]={nextPos:d,result:l},l}function lo(){var l,I=d*49+31,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(l=$r(),l===r&&(l=co(),l===r&&(l=xo())),yr[I]={nextPos:d,result:l},l)}function Va(){var l,I,Tt,Xn,tr,lr,hr=d*49+32,Tr=yr[hr];if(Tr)return d=Tr.nextPos,Tr.result;if(l=d,n.charCodeAt(d)===123?(I=Vi,d++):(I=r,mr===0&&xr(Ji)),I!==r){for(Tt=[],Xn=$r();Xn!==r;)Tt.push(Xn),Xn=$r();if(Tt!==r){for(Xn=[],tr=Ai();tr!==r;)Xn.push(tr),tr=Ai();if(Xn!==r){for(tr=[],lr=$r();lr!==r;)tr.push(lr),lr=$r();tr!==r?(n.charCodeAt(d)===125?(lr=Qi,d++):(lr=r,mr===0&&xr(Yi)),lr!==r?(Ir=l,I=Zi(Xn),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g}else d=l,l=g}else d=l,l=g;return yr[hr]={nextPos:d,result:l},l}function Ai(){var l,I,Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr=d*49+33,Vr=yr[Wr];if(Vr)return d=Vr.nextPos,Vr.result;for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=vo(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();if(Xn!==r)if(n.charCodeAt(d)===61?(tr=kr,d++):(tr=r,mr===0&&xr(Er)),tr!==r){for(lr=[],hr=$r();hr!==r;)lr.push(hr),hr=$r();if(lr!==r)if(hr=ho(),hr!==r){for(Tr=[],jr=$r();jr!==r;)Tr.push(jr),jr=$r();if(Tr!==r)if(n.charCodeAt(d)===44?(jr=Do,d++):(jr=r,mr===0&&xr(Mo)),jr!==r){for(zr=[],Hr=$r();Hr!==r;)zr.push(Hr),Hr=$r();zr!==r?(Ir=l,I=qo(Tt,hr),l=I):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g;if(l===r){for(l=d,I=[],Tt=$r();Tt!==r;)I.push(Tt),Tt=$r();if(I!==r)if(Tt=vo(),Tt!==r){for(Xn=[],tr=$r();tr!==r;)Xn.push(tr),tr=$r();if(Xn!==r)if(n.charCodeAt(d)===61?(tr=kr,d++):(tr=r,mr===0&&xr(Er)),tr!==r){for(lr=[],hr=$r();hr!==r;)lr.push(hr),hr=$r();lr!==r?(hr=ho(),hr!==r?(Ir=l,I=qo(Tt,hr),l=I):(d=l,l=g)):(d=l,l=g)}else d=l,l=g;else d=l,l=g}else d=l,l=g;else d=l,l=g}return yr[Wr]={nextPos:d,result:l},l}function Ti(){var l,I,Tt,Xn=d*49+34,tr=yr[Xn];return tr?(d=tr.nextPos,tr.result):(l=d,n.charCodeAt(d)===46?(I=ur,d++):(I=r,mr===0&&xr(fr)),I!==r?(Tt=bo(),Tt!==r?(Ir=l,I=ea(Tt),l=I):(d=l,l=g)):(d=l,l=g),yr[Xn]={nextPos:d,result:l},l)}function _i(){var l,I,Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr,Vr=d*49+35,ro=yr[Vr];return ro?(d=ro.nextPos,ro.result):(l=d,I=d,Tt=Br(),Tt!==r?(Xn=Br(),Xn!==r?(tr=Br(),tr!==r?(lr=Br(),lr!==r?(n.charCodeAt(d)===45?(hr=Ur,d++):(hr=r,mr===0&&xr(Kr)),hr!==r?(Tr=Br(),Tr!==r?(jr=Br(),jr!==r?(n.charCodeAt(d)===45?(zr=Ur,d++):(zr=r,mr===0&&xr(Kr)),zr!==r?(Hr=Br(),Hr!==r?(Wr=Br(),Wr!==r?(Tt=[Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr],I=Tt):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g),I!==r&&(Ir=l,I=ta(I)),l=I,yr[Vr]={nextPos:d,result:l},l)}function Ja(){var l,I,Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr=d*49+36,Vr=yr[Wr];return Vr?(d=Vr.nextPos,Vr.result):(l=d,I=d,Tt=Br(),Tt!==r?(Xn=Br(),Xn!==r?(n.charCodeAt(d)===58?(tr=go,d++):(tr=r,mr===0&&xr(mo)),tr!==r?(lr=Br(),lr!==r?(hr=Br(),hr!==r?(n.charCodeAt(d)===58?(Tr=go,d++):(Tr=r,mr===0&&xr(mo)),Tr!==r?(jr=Br(),jr!==r?(zr=Br(),zr!==r?(Hr=Ti(),Hr===r&&(Hr=Dr),Hr!==r?(Tt=[Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr],I=Tt):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g),I!==r&&(Ir=l,I=Ho(I)),l=I,yr[Wr]={nextPos:d,result:l},l)}function Qa(){var l,I,Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr,Vr,ro,po,fo,so,Ri=d*49+37,Ro=yr[Ri];return Ro?(d=Ro.nextPos,Ro.result):(l=d,I=d,Tt=Br(),Tt!==r?(Xn=Br(),Xn!==r?(n.charCodeAt(d)===58?(tr=go,d++):(tr=r,mr===0&&xr(mo)),tr!==r?(lr=Br(),lr!==r?(hr=Br(),hr!==r?(n.charCodeAt(d)===58?(Tr=go,d++):(Tr=r,mr===0&&xr(mo)),Tr!==r?(jr=Br(),jr!==r?(zr=Br(),zr!==r?(Hr=Ti(),Hr===r&&(Hr=Dr),Hr!==r?(n.charCodeAt(d)===45?(Wr=Ur,d++):(Wr=r,mr===0&&xr(Kr)),Wr===r&&(n.charCodeAt(d)===43?(Wr=_r,d++):(Wr=r,mr===0&&xr(Rr))),Wr!==r?(Vr=Br(),Vr!==r?(ro=Br(),ro!==r?(n.charCodeAt(d)===58?(po=go,d++):(po=r,mr===0&&xr(mo)),po!==r?(fo=Br(),fo!==r?(so=Br(),so!==r?(Tt=[Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr,Vr,ro,po,fo,so],I=Tt):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g)):(d=I,I=g),I!==r&&(Ir=l,I=Ho(I)),l=I,yr[Ri]={nextPos:d,result:l},l)}function Ya(){var l,I,Tt,Xn,tr,lr=d*49+38,hr=yr[lr];return hr?(d=hr.nextPos,hr.result):(l=d,I=_i(),I!==r?(n.charCodeAt(d)===84?(Tt=Bo,d++):(Tt=r,mr===0&&xr(Ko)),Tt!==r?(Xn=Ja(),Xn!==r?(n.charCodeAt(d)===90?(tr=na,d++):(tr=r,mr===0&&xr(ra)),tr!==r?(Ir=l,I=sa(I,Xn),l=I):(d=l,l=g)):(d=l,l=g)):(d=l,l=g)):(d=l,l=g),l===r&&(l=d,I=_i(),I!==r?(n.charCodeAt(d)===84?(Tt=Bo,d++):(Tt=r,mr===0&&xr(Ko)),Tt!==r?(Xn=Qa(),Xn!==r?(Ir=l,I=oa(I,Xn),l=I):(d=l,l=g)):(d=l,l=g)):(d=l,l=g)),yr[lr]={nextPos:d,result:l},l)}function $r(){var l,I=d*49+39,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(ia.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,mr===0&&xr(aa)),yr[I]={nextPos:d,result:l},l)}function co(){var l,I,Tt,Xn=d*49+40,tr=yr[Xn];return tr?(d=tr.nextPos,tr.result):(n.charCodeAt(d)===10?(l=zo,d++):(l=r,mr===0&&xr(Go)),l===r&&(l=d,n.charCodeAt(d)===13?(I=la,d++):(I=r,mr===0&&xr(ca)),I!==r?(n.charCodeAt(d)===10?(Tt=zo,d++):(Tt=r,mr===0&&xr(Go)),Tt!==r?(I=[I,Tt],l=I):(d=l,l=g)):(d=l,l=g)),yr[Xn]={nextPos:d,result:l},l)}function Oi(){var l,I=d*49+41,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(l=co(),l===r&&(l=$r()),yr[I]={nextPos:d,result:l},l)}function So(){var l,I,Tt=d*49+42,Xn=yr[Tt];return Xn?(d=Xn.nextPos,Xn.result):(l=d,mr++,n.length>d?(I=n.charAt(d),d++):(I=r,mr===0&&xr(xn)),mr--,I===r?l=Yn:(d=l,l=g),yr[Tt]={nextPos:d,result:l},l)}function uo(){var l,I=d*49+43,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(ua.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,mr===0&&xr(fa)),yr[I]={nextPos:d,result:l},l)}function Br(){var l,I,Tt=d*49+44,Xn=yr[Tt];return Xn?(d=Xn.nextPos,Xn.result):(ha.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,mr===0&&xr(da)),l===r&&(l=d,n.charCodeAt(d)===95?(I=pa,d++):(I=r,mr===0&&xr(ga)),I!==r&&(Ir=l,I=ma()),l=I),yr[Tt]={nextPos:d,result:l},l)}function $i(){var l,I=d*49+45,Tt=yr[I];return Tt?(d=Tt.nextPos,Tt.result):(ya.test(n.charAt(d))?(l=n.charAt(d),d++):(l=r,mr===0&&xr(va)),yr[I]={nextPos:d,result:l},l)}function bo(){var l,I,Tt,Xn=d*49+46,tr=yr[Xn];if(tr)return d=tr.nextPos,tr.result;if(l=d,I=[],Tt=Br(),Tt!==r)for(;Tt!==r;)I.push(Tt),Tt=Br();else I=g;return I!==r&&(Ir=l,I=ba(I)),l=I,yr[Xn]={nextPos:d,result:l},l}function Ci(){var l,I,Tt=d*49+47,Xn=yr[Tt];return Xn?(d=Xn.nextPos,Xn.result):(l=d,n.substr(d,2)===Xo?(I=Xo,d+=2):(I=r,mr===0&&xr(ka)),I!==r&&(Ir=l,I=wa()),l=I,l===r&&(l=d,n.substr(d,2)===Wo?(I=Wo,d+=2):(I=r,mr===0&&xr(xa)),I!==r&&(Ir=l,I=Ea()),l=I,l===r&&(l=d,n.substr(d,2)===Vo?(I=Vo,d+=2):(I=r,mr===0&&xr(Sa)),I!==r&&(Ir=l,I=Aa()),l=I,l===r&&(l=d,n.substr(d,2)===Jo?(I=Jo,d+=2):(I=r,mr===0&&xr(Ta)),I!==r&&(Ir=l,I=_a()),l=I,l===r&&(l=d,n.substr(d,2)===Qo?(I=Qo,d+=2):(I=r,mr===0&&xr(Oa)),I!==r&&(Ir=l,I=$a()),l=I,l===r&&(l=d,n.substr(d,2)===Yo?(I=Yo,d+=2):(I=r,mr===0&&xr(Ca)),I!==r&&(Ir=l,I=Ia()),l=I,l===r&&(l=d,n.substr(d,2)===Zo?(I=Zo,d+=2):(I=r,mr===0&&xr(Ra)),I!==r&&(Ir=l,I=Pa()),l=I,l===r&&(l=Za()))))))),yr[Tt]={nextPos:d,result:l},l)}function Za(){var l,I,Tt,Xn,tr,lr,hr,Tr,jr,zr,Hr,Wr=d*49+48,Vr=yr[Wr];return Vr?(d=Vr.nextPos,Vr.result):(l=d,n.substr(d,2)===ei?(I=ei,d+=2):(I=r,mr===0&&xr(La)),I!==r?(Tt=d,Xn=uo(),Xn!==r?(tr=uo(),tr!==r?(lr=uo(),lr!==r?(hr=uo(),hr!==r?(Tr=uo(),Tr!==r?(jr=uo(),jr!==r?(zr=uo(),zr!==r?(Hr=uo(),Hr!==r?(Xn=[Xn,tr,lr,hr,Tr,jr,zr,Hr],Tt=Xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r?(Ir=l,I=ri(Tt),l=I):(d=l,l=g)):(d=l,l=g),l===r&&(l=d,n.substr(d,2)===si?(I=si,d+=2):(I=r,mr===0&&xr(ja)),I!==r?(Tt=d,Xn=uo(),Xn!==r?(tr=uo(),tr!==r?(lr=uo(),lr!==r?(hr=uo(),hr!==r?(Xn=[Xn,tr,lr,hr],Tt=Xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r?(Ir=l,I=ri(Tt),l=I):(d=l,l=g)):(d=l,l=g)),yr[Wr]={nextPos:d,result:l},l)}var Ii=[];function el(l,I,Tt){var Xn=new Error(l);throw Xn.line=I,Xn.column=Tt,Xn}function Io(l){Ii.push(l)}function to(l,I,Tt,Xn,tr){var lr={type:l,value:I,line:Tt(),column:Xn()};return tr&&(lr.key=tr),lr}function tl(l,I,Tt){var Xn=parseInt("0x"+l);if(!isFinite(Xn)||Math.floor(Xn)!=Xn||Xn<0||Xn>1114111||Xn>55295&&Xn<57344)el("Invalid Unicode escape code: "+l,I,Tt);else return nl(Xn)}function nl(){var l=16384,I=[],Tt,Xn,tr=-1,lr=arguments.length;if(!lr)return"";for(var hr="";++tr<lr;){var Tr=Number(arguments[tr]);Tr<=65535?I.push(Tr):(Tr-=65536,Tt=(Tr>>10)+55296,Xn=Tr%1024+56320,I.push(Tt,Xn)),(tr+1==lr||I.length>l)&&(hr+=String.fromCharCode.apply(null,I),I.length=0)}return hr}if(wo=p(),wo!==r&&d===n.length)return wo;throw wo!==r&&d<n.length&&xr({type:"end",description:"end of input"}),Na(null,_o,ko)}return{SyntaxError:e,parse:t}}();function fi(s){var e=[],t=[],n="",i=Object.create(null),r=i;return c(s);function c(Zn){for(var zn,nr=0;nr<Zn.length;nr++)switch(zn=Zn[nr],zn.type){case"Assign":f(zn);break;case"ObjectPath":Yn(zn);break;case"ArrayPath":xn(zn);break}return i}function p(Zn,zn,nr){var sr=new Error(Zn);throw sr.line=zn,sr.column=nr,sr}function f(Zn){var zn=Zn.key,nr=Zn.value,sr=Zn.line,or=Zn.column,ar;n?ar=n+"."+zn:ar=zn,typeof r[zn]!="undefined"&&p("Cannot redefine existing key '"+ar+"'.",sr,or),r[zn]=Wn(nr),g(ar)||(e.push(ar),t.push(ar))}function g(Zn){return e.indexOf(Zn)!==-1}function Wn(Zn){return Zn.type==="Array"?Hn(Zn.value):Zn.type==="InlineTable"?Qn(Zn.value):Zn.value}function Qn(Zn){for(var zn=Object.create(null),nr=0;nr<Zn.length;nr++){var sr=Zn[nr];sr.value.type==="InlineTable"?zn[sr.key]=Qn(sr.value.value):sr.type==="InlineTableValue"&&(zn[sr.key]=Wn(sr.value))}return zn}function Yn(Zn){var zn=Zn.value,nr=zn.map(ir).join("."),sr=Zn.line,or=Zn.column;g(nr)&&p("Cannot redefine existing key '"+zn+"'.",sr,or),e.push(nr),r=er(i,zn,Object.create(null),sr,or),n=zn}function xn(Zn){var zn=Zn.value,nr=zn.map(ir).join("."),sr=Zn.line,or=Zn.column;if(g(nr)||e.push(nr),e=e.filter(function(ur){return ur.indexOf(nr)!==0}),e.push(nr),r=er(i,zn,[],sr,or),n=nr,r instanceof Array){var ar=Object.create(null);r.push(ar),r=ar}else p("Cannot redefine existing key '"+zn+"'.",sr,or)}function er(Zn,zn,nr,sr,or){var ar=[],ur="";zn.join(".");for(var fr=Zn,kr=0;kr<zn.length;kr++){var Er=zn[kr];ar.push(Er),ur=ar.join("."),typeof fr[Er]=="undefined"?kr===zn.length-1?fr[Er]=nr:fr[Er]=Object.create(null):kr!==zn.length-1&&t.indexOf(ur)>-1&&p("Cannot redefine existing key '"+ur+"'.",sr,or),fr=fr[Er],fr instanceof Array&&fr.length&&kr<zn.length-1&&(fr=fr[fr.length-1])}return fr}function Hn(Zn){for(var zn=null,nr=0;nr<Zn.length;nr++){var sr=Zn[nr];zn===null?zn=sr.type:sr.type!==zn&&p("Cannot add value of type "+sr.type+" to array of type "+zn+".",sr.line,sr.column)}return Zn.map(Wn)}function ir(Zn){return Zn.indexOf(".")>-1?'"'+Zn+'"':Zn}}var ni={compile:fi},ai=li,ci=ni,Fs$1={parse:function(s){var e=ai.parse(s.toString());return ci.compile(e)}};const ui=ti(Fs$1),oi=ii({__proto__:null,default:ui},[Fs$1]),indexCL7TgaLK=Object.freeze(Object.defineProperty({__proto__:null,i:oi},Symbol.toStringTag,{value:"Module"}));var xe=(s,e)=>(e=Symbol[s])?e:Symbol.for("Symbol."+s),et=(s,e,t)=>new Promise((n,i)=>{var r=f=>{try{p(t.next(f))}catch(g){i(g)}},c=f=>{try{p(t.throw(f))}catch(g){i(g)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(r,c);p((t=t.apply(s,e)).next())}),vs=function(s,e){this[0]=s,this[1]=e},h=s=>{var e=s[xe("asyncIterator")],t=!1,n,i={};return e==null?(e=s[xe("iterator")](),n=r=>i[r]=c=>e[r](c)):(e=e.call(s),n=r=>i[r]=c=>{if(t){if(t=!1,r==="throw")throw c;return c}return t=!0,{done:!1,value:new vs(new Promise(p=>{var f=e[r](c);if(!(f instanceof Object))throw TypeError("Object expected");p(f)}),1)}}),i[xe("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=r=>{throw r},"return"in e&&n("return"),i};const dt=Symbol.for("yaml.alias"),at=Symbol.for("yaml.document"),G=Symbol.for("yaml.map"),Ft=Symbol.for("yaml.pair"),J=Symbol.for("yaml.scalar"),ue=Symbol.for("yaml.seq"),D=Symbol.for("yaml.node.type"),ee=s=>!!s&&typeof s=="object"&&s[D]===dt,Oe=s=>!!s&&typeof s=="object"&&s[D]===at,te=s=>!!s&&typeof s=="object"&&s[D]===G,L=s=>!!s&&typeof s=="object"&&s[D]===Ft,E=s=>!!s&&typeof s=="object"&&s[D]===J,he=s=>!!s&&typeof s=="object"&&s[D]===ue;function T(s){if(s&&typeof s=="object")switch(s[D]){case G:case ue:return!0}return!1}function $(s){if(s&&typeof s=="object")switch(s[D]){case dt:case G:case J:case ue:return!0}return!1}const Bs=s=>(E(s)||T(s))&&!!s.anchor;class pt{constructor(e){Object.defineProperty(this,D,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const B=Symbol("break visit"),Ut=Symbol("skip children"),U=Symbol("remove node");function Q(s,e){const t=Rt(e);Oe(s)?re(null,s.contents,t,Object.freeze([s]))===U&&(s.contents=null):re(null,s,t,Object.freeze([]))}Q.BREAK=B,Q.SKIP=Ut,Q.REMOVE=U;function re(s,e,t,n){const i=Vt(s,e,t,n);if($(i)||L(i))return Jt(s,n,i),re(s,i,t,n);if(typeof i!="symbol"){if(T(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const c=re(r,e.items[r],t,n);if(typeof c=="number")r=c-1;else{if(c===B)return B;c===U&&(e.items.splice(r,1),r-=1)}}}else if(L(e)){n=Object.freeze(n.concat(e));const r=re("key",e.key,t,n);if(r===B)return B;r===U&&(e.key=null);const c=re("value",e.value,t,n);if(c===B)return B;c===U&&(e.value=null)}}return i}function De(s,e){return et(this,null,function*(){const t=Rt(e);Oe(s)?(yield oe(null,s.contents,t,Object.freeze([s])))===U&&(s.contents=null):yield oe(null,s,t,Object.freeze([]))})}De.BREAK=B,De.SKIP=Ut,De.REMOVE=U;function oe(s,e,t,n){return et(this,null,function*(){const i=yield Vt(s,e,t,n);if($(i)||L(i))return Jt(s,n,i),oe(s,i,t,n);if(typeof i!="symbol"){if(T(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const c=yield oe(r,e.items[r],t,n);if(typeof c=="number")r=c-1;else{if(c===B)return B;c===U&&(e.items.splice(r,1),r-=1)}}}else if(L(e)){n=Object.freeze(n.concat(e));const r=yield oe("key",e.key,t,n);if(r===B)return B;r===U&&(e.key=null);const c=yield oe("value",e.value,t,n);if(c===B)return B;c===U&&(e.value=null)}}return i})}function Rt(s){return typeof s=="object"&&(s.Collection||s.Node||s.Value)?Object.assign({Alias:s.Node,Map:s.Node,Scalar:s.Node,Seq:s.Node},s.Value&&{Map:s.Value,Scalar:s.Value,Seq:s.Value},s.Collection&&{Map:s.Collection,Seq:s.Collection},s):s}function Vt(s,e,t,n){var i,r,c,p,f;if(typeof t=="function")return t(s,e,n);if(te(e))return(i=t.Map)==null?void 0:i.call(t,s,e,n);if(he(e))return(r=t.Seq)==null?void 0:r.call(t,s,e,n);if(L(e))return(c=t.Pair)==null?void 0:c.call(t,s,e,n);if(E(e))return(p=t.Scalar)==null?void 0:p.call(t,s,e,n);if(ee(e))return(f=t.Alias)==null?void 0:f.call(t,s,e,n)}function Jt(s,e,t){const n=e[e.length-1];if(T(n))n.items[s]=t;else if(L(n))s==="key"?n.key=t:n.value=t;else if(Oe(n))n.contents=t;else{const i=ee(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Ms={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Ps=s=>s.replace(/[!,[\]{}]/g,e=>Ms[e]);class v{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},v.defaultYaml,e),this.tags=Object.assign({},v.defaultTags,t)}clone(){const e=new v(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new v(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:v.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},v.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:v.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},v.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[r,c]=n;return this.tags[r]=c,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const c=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,c),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const c=e.slice(2,-1);return c==="!"||c==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),c)}const[,n,i]=e.match(/^(.*!)([^!]*)$/);i||t(`The ${e} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(i):n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+Ps(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(e&&n.length>0&&$(e.contents)){const r={};Q(e.contents,(c,p)=>{$(p)&&p.tag&&(r[p.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,c]of n)r==="!!"&&c==="tag:yaml.org,2002:"||(!e||i.some(p=>p.startsWith(c)))&&t.push(`%TAG ${r} ${c}`);return t.join(`
`)}}v.defaultYaml={explicit:!1,version:"1.2"},v.defaultTags={"!!":"tag:yaml.org,2002:"};function Yt(s){if(/[\x00-\x19\s,[\]{}]/.test(s)){const e=`Anchor must not contain whitespace or control characters: ${JSON.stringify(s)}`;throw new Error(e)}return!0}function Gt(s){const e=new Set;return Q(s,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function Qt(s,e){for(let t=1;;++t){const n=`${s}${t}`;if(!e.has(n))return n}}function js(s,e){const t=[],n=new Map;let i=null;return{onAnchor:r=>{t.push(r),i||(i=Gt(s));const c=Qt(e,i);return i.add(c),c},setAnchors:()=>{for(const r of t){const c=n.get(r);if(typeof c=="object"&&c.anchor&&(E(c.node)||T(c.node)))c.node.anchor=c.anchor;else{const p=new Error("Failed to resolve repeated object (this should not happen)");throw p.source=r,p}}},sourceObjects:n}}class qe extends pt{constructor(e){super(dt),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Q(e,{Node:(n,i)=>{if(i===this)return Q.BREAK;i.anchor===this.source&&(t=i)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:r}=t,c=this.resolve(i);if(!c){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}const p=n.get(c);if(!p||p.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(r>=0&&(p.count+=1,p.aliasCount===0&&(p.aliasCount=_e(i,c,n)),p.count*p.aliasCount>r)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return p.res}toString(e,t,n){const i=`*${this.source}`;if(e){if(Yt(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function _e(s,e,t){if(ee(e)){const n=e.resolve(s),i=t&&n&&t.get(n);return i?i.count*i.aliasCount:0}else if(T(e)){let n=0;for(const i of e.items){const r=_e(s,i,t);r>n&&(n=r)}return n}else if(L(e)){const n=_e(s,e.key,t),i=_e(s,e.value,t);return Math.max(n,i)}return 1}function R(s,e,t){if(Array.isArray(s))return s.map((n,i)=>R(n,String(i),t));if(s&&typeof s.toJSON=="function"){if(!t||!Bs(s))return s.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(s,n),t.onCreate=r=>{n.res=r,delete t.onCreate};const i=s.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof s=="bigint"&&!(t!=null&&t.keep)?Number(s):s}const Wt=s=>!s||typeof s!="function"&&typeof s!="object";class A extends pt{constructor(e){super(J),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:R(this.value,e,t)}toString(){return String(this.value)}}A.BLOCK_FOLDED="BLOCK_FOLDED",A.BLOCK_LITERAL="BLOCK_LITERAL",A.PLAIN="PLAIN",A.QUOTE_DOUBLE="QUOTE_DOUBLE",A.QUOTE_SINGLE="QUOTE_SINGLE";const Ks="tag:yaml.org,2002:";function Ds(s,e,t){var n;if(e){const i=t.filter(c=>c.tag===e),r=(n=i.find(c=>!c.format))!=null?n:i[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(i=>{var r;return((r=i.identify)==null?void 0:r.call(i,s))&&!i.format})}function Se(s,e,t){var n,i;if(Oe(s)&&(s=s.contents),$(s))return s;if(L(s)){const xn=(i=(n=t.schema[G]).createNode)==null?void 0:i.call(n,t.schema,null,t);return xn.items.push(s),xn}(s instanceof String||s instanceof Number||s instanceof Boolean||typeof BigInt!="undefined"&&s instanceof BigInt)&&(s=s.valueOf());const{aliasDuplicateObjects:r,onAnchor:c,onTagObj:p,schema:f,sourceObjects:g}=t;let Wn;if(r&&s&&typeof s=="object"){if(Wn=g.get(s),Wn)return Wn.anchor||(Wn.anchor=c(s)),new qe(Wn.anchor);Wn={anchor:null,node:null},g.set(s,Wn)}e!=null&&e.startsWith("!!")&&(e=Ks+e.slice(2));let Qn=Ds(s,e,f.tags);if(!Qn){if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),!s||typeof s!="object"){const xn=new A(s);return Wn&&(Wn.node=xn),xn}Qn=s instanceof Map?f[G]:Symbol.iterator in Object(s)?f[ue]:f[G]}p&&(p(Qn),delete t.onTagObj);const Yn=Qn!=null&&Qn.createNode?Qn.createNode(t.schema,s,t):new A(s);return e&&(Yn.tag=e),Wn&&(Wn.node=Yn),Yn}function Me(s,e,t){let n=t;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const c=[];c[r]=n,n=c}else n=new Map([[r,n]])}return Se(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:s,sourceObjects:new Map})}const ge=s=>s==null||typeof s=="object"&&!!s[Symbol.iterator]().next().done;class Fe extends pt{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>$(n)||L(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(ge(e))this.add(t);else{const[n,...i]=e,r=this.get(n,!0);if(T(r))r.addIn(i,t);else if(r===void 0&&this.schema)this.set(n,Me(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const i=this.get(t,!0);if(T(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...i]=e,r=this.get(n,!0);return i.length===0?!t&&E(r)?r.value:r:T(r)?r.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!L(t))return!1;const n=t.value;return n==null||e&&E(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const i=this.get(t,!0);return T(i)?i.hasIn(n):!1}setIn(e,t){const[n,...i]=e;if(i.length===0)this.set(n,t);else{const r=this.get(n,!0);if(T(r))r.setIn(i,t);else if(r===void 0&&this.schema)this.set(n,Me(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}Fe.maxFlowStringSingleLineLength=60;const qs=s=>s.replace(/^(?!$)(?: $)?/gm,"#");function V(s,e){return/^\n+$/.test(s)?s.substring(1):e?s.replace(/^(?! *$)/gm,e):s}const Y=(s,e,t)=>s.endsWith(`
`)?V(t,e):t.includes(`
`)?`
`+V(t,e):(s.endsWith(" ")?"":" ")+t,Ht="flow",ct="block",Ce="quoted";function Ue(s,e,t="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:r=20,onFold:c,onOverflow:p}={}){if(!i||i<0)return s;const f=Math.max(1+r,1+i-e.length);if(s.length<=f)return s;const g=[],Wn={};let Qn=i-e.length;typeof n=="number"&&(n>i-Math.max(2,r)?g.push(0):Qn=i-n);let Yn,xn,er=!1,Hn=-1,ir=-1,Zn=-1;t===ct&&(Hn=$t(s,Hn),Hn!==-1&&(Qn=Hn+f));for(let nr;nr=s[Hn+=1];){if(t===Ce&&nr==="\\"){switch(ir=Hn,s[Hn+1]){case"x":Hn+=3;break;case"u":Hn+=5;break;case"U":Hn+=9;break;default:Hn+=1}Zn=Hn}if(nr===`
`)t===ct&&(Hn=$t(s,Hn)),Qn=Hn+f,Yn=void 0;else{if(nr===" "&&xn&&xn!==" "&&xn!==`
`&&xn!=="	"){const sr=s[Hn+1];sr&&sr!==" "&&sr!==`
`&&sr!=="	"&&(Yn=Hn)}if(Hn>=Qn)if(Yn)g.push(Yn),Qn=Yn+f,Yn=void 0;else if(t===Ce){for(;xn===" "||xn==="	";)xn=nr,nr=s[Hn+=1],er=!0;const sr=Hn>Zn+1?Hn-2:ir-1;if(Wn[sr])return s;g.push(sr),Wn[sr]=!0,Qn=sr+f,Yn=void 0}else er=!0}xn=nr}if(er&&p&&p(),g.length===0)return s;c&&c();let zn=s.slice(0,g[0]);for(let nr=0;nr<g.length;++nr){const sr=g[nr],or=g[nr+1]||s.length;sr===0?zn=`
${e}${s.slice(0,or)}`:(t===Ce&&Wn[sr]&&(zn+=`${s[sr]}\\`),zn+=`
${e}${s.slice(sr+1,or)}`)}return zn}function $t(s,e){let t=s[e+1];for(;t===" "||t==="	";){do t=s[e+=1];while(t&&t!==`
`);t=s[e+1]}return e}const Re=s=>({indentAtStart:s.indentAtStart,lineWidth:s.options.lineWidth,minContentWidth:s.options.minContentWidth}),Ve=s=>/^(%|---|\.\.\.)/m.test(s);function Fs(s,e,t){if(!e||e<0)return!1;const n=e-t,i=s.length;if(i<=n)return!1;for(let r=0,c=0;r<i;++r)if(s[r]===`
`){if(r-c>n)return!0;if(c=r+1,i-c<=n)return!1}return!0}function we(s,e){const t=JSON.stringify(s);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Ve(s)?"  ":"");let c="",p=0;for(let f=0,g=t[f];g;g=t[++f])if(g===" "&&t[f+1]==="\\"&&t[f+2]==="n"&&(c+=t.slice(p,f)+"\\ ",f+=1,p=f,g="\\"),g==="\\")switch(t[f+1]){case"u":{c+=t.slice(p,f);const Wn=t.substr(f+2,4);switch(Wn){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:Wn.substr(0,2)==="00"?c+="\\x"+Wn.substr(2):c+=t.substr(f,6)}f+=5,p=f+1}break;case"n":if(n||t[f+2]==='"'||t.length<i)f+=1;else{for(c+=t.slice(p,f)+`

`;t[f+2]==="\\"&&t[f+3]==="n"&&t[f+4]!=='"';)c+=`
`,f+=2;c+=r,t[f+2]===" "&&(c+="\\"),f+=1,p=f+1}break;default:f+=1}return c=p?c+t.slice(p):t,n?c:Ue(c,r,Ce,Re(e))}function ft(s,e){if(e.options.singleQuote===!1||e.implicitKey&&s.includes(`
`)||/[ \t]\n|\n[ \t]/.test(s))return we(s,e);const t=e.indent||(Ve(s)?"  ":""),n="'"+s.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Ue(n,t,Ht,Re(e))}function le(s,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=we;else{const i=s.includes('"'),r=s.includes("'");i&&!r?n=ft:r&&!i?n=we:n=t?ft:we}return n(s,e)}function ve({comment:s,type:e,value:t},n,i,r){const{blockQuote:c,commentString:p,lineWidth:f}=n.options;if(!c||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return le(t,n);const g=n.indent||(n.forceBlockIndent||Ve(t)?"  ":""),Wn=c==="literal"?!0:c==="folded"||e===A.BLOCK_FOLDED?!1:e===A.BLOCK_LITERAL?!0:!Fs(t,f,g.length);if(!t)return Wn?`|
`:`>
`;let Qn,Yn;for(Yn=t.length;Yn>0;--Yn){const or=t[Yn-1];if(or!==`
`&&or!=="	"&&or!==" ")break}let xn=t.substring(Yn);const er=xn.indexOf(`
`);er===-1?Qn="-":t===xn||er!==xn.length-1?(Qn="+",r&&r()):Qn="",xn&&(t=t.slice(0,-xn.length),xn[xn.length-1]===`
`&&(xn=xn.slice(0,-1)),xn=xn.replace(/\n+(?!\n|$)/g,`$&${g}`));let Hn=!1,ir,Zn=-1;for(ir=0;ir<t.length;++ir){const or=t[ir];if(or===" ")Hn=!0;else if(or===`
`)Zn=ir;else break}let zn=t.substring(0,Zn<ir?Zn+1:ir);zn&&(t=t.substring(zn.length),zn=zn.replace(/\n+/g,`$&${g}`));let nr=(Wn?"|":">")+(Hn?g?"2":"1":"")+Qn;if(s&&(nr+=" "+p(s.replace(/ ?[\r\n]+/g," ")),i&&i()),Wn)return t=t.replace(/\n+/g,`$&${g}`),`${nr}
${g}${zn}${t}${xn}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${g}`);const sr=Ue(`${zn}${t}${xn}`,g,ct,Re(n));return`${nr}
${g}${sr}`}function Us(s,e,t,n){const{type:i,value:r}=s,{actualString:c,implicitKey:p,indent:f,indentStep:g,inFlow:Wn}=e;if(p&&/[\n[\]{},]/.test(r)||Wn&&/[[\]{},]/.test(r))return le(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return p||Wn||!r.includes(`
`)?le(r,e):ve(s,e,t,n);if(!p&&!Wn&&i!==A.PLAIN&&r.includes(`
`))return ve(s,e,t,n);if(Ve(r)){if(f==="")return e.forceBlockIndent=!0,ve(s,e,t,n);if(p&&f===g)return le(r,e)}const Qn=r.replace(/\n+/g,`$&
${f}`);if(c){const Yn=Hn=>{var ir;return Hn.default&&Hn.tag!=="tag:yaml.org,2002:str"&&((ir=Hn.test)==null?void 0:ir.test(Qn))},{compat:xn,tags:er}=e.doc.schema;if(er.some(Yn)||xn!=null&&xn.some(Yn))return le(r,e)}return p?Qn:Ue(Qn,f,Ht,Re(e))}function Ae(s,e,t,n){const{implicitKey:i,inFlow:r}=e,c=typeof s.value=="string"?s:Object.assign({},s,{value:String(s.value)});let{type:p}=s;p!==A.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(c.value)&&(p=A.QUOTE_DOUBLE);const f=Wn=>{switch(Wn){case A.BLOCK_FOLDED:case A.BLOCK_LITERAL:return i||r?le(c.value,e):ve(c,e,t,n);case A.QUOTE_DOUBLE:return we(c.value,e);case A.QUOTE_SINGLE:return ft(c.value,e);case A.PLAIN:return Us(c,e,t,n);default:return null}};let g=f(p);if(g===null){const{defaultKeyType:Wn,defaultStringType:Qn}=e.options,Yn=i&&Wn||Qn;if(g=f(Yn),g===null)throw new Error(`Unsupported default string type ${Yn}`)}return g}function Xt(s,e){const t=Object.assign({blockQuote:!0,commentString:qs,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},s.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:s,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Rs(s,e){var t,n,i,r;if(e.tag){const f=s.filter(g=>g.tag===e.tag);if(f.length>0)return(t=f.find(g=>g.format===e.format))!=null?t:f[0]}let c,p;if(E(e)){p=e.value;const f=s.filter(g=>{var Wn;return(Wn=g.identify)==null?void 0:Wn.call(g,p)});c=(n=f.find(g=>g.format===e.format))!=null?n:f.find(g=>!g.format)}else p=e,c=s.find(f=>f.nodeClass&&p instanceof f.nodeClass);if(!c){const f=(r=(i=p==null?void 0:p.constructor)==null?void 0:i.name)!=null?r:typeof p;throw new Error(`Tag not resolved for ${f} value`)}return c}function Vs(s,e,{anchors:t,doc:n}){if(!n.directives)return"";const i=[],r=(E(s)||T(s))&&s.anchor;r&&Yt(r)&&(t.add(r),i.push(`&${r}`));const c=s.tag?s.tag:e.default?null:e.tag;return c&&i.push(n.directives.tagString(c)),i.join(" ")}function Z(s,e,t,n){var i,r;if(L(s))return s.toString(e,t,n);if(ee(s)){if(e.doc.directives)return s.toString(e);if((i=e.resolvedAliases)!=null&&i.has(s))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(s):e.resolvedAliases=new Set([s]),s=s.resolve(e.doc)}let c;const p=$(s)?s:e.doc.createNode(s,{onTagObj:Wn=>c=Wn});c||(c=Rs(e.doc.schema.tags,p));const f=Vs(p,c,e);f.length>0&&(e.indentAtStart=((r=e.indentAtStart)!=null?r:0)+f.length+1);const g=typeof c.stringify=="function"?c.stringify(p,e,t,n):E(p)?Ae(p,e,t,n):p.toString(e,t,n);return f?E(p)||g[0]==="{"||g[0]==="["?`${f} ${g}`:`${f}
${e.indent}${g}`:g}function Js({key:s,value:e},t,n,i){var r,c;const{allNullValues:p,doc:f,indent:g,indentStep:Wn,options:{commentString:Qn,indentSeq:Yn,simpleKeys:xn}}=t;let er=$(s)&&s.comment||null;if(xn){if(er)throw new Error("With simple keys, key nodes cannot have comments");if(T(s)){const kr="With simple keys, collection cannot be used as a key value";throw new Error(kr)}}let Hn=!xn&&(!s||er&&e==null&&!t.inFlow||T(s)||(E(s)?s.type===A.BLOCK_FOLDED||s.type===A.BLOCK_LITERAL:typeof s=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!Hn&&(xn||!p),indent:g+Wn});let ir=!1,Zn=!1,zn=Z(s,t,()=>ir=!0,()=>Zn=!0);if(!Hn&&!t.inFlow&&zn.length>1024){if(xn)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");Hn=!0}if(t.inFlow){if(p||e==null)return ir&&n&&n(),zn===""?"?":Hn?`? ${zn}`:zn}else if(p&&!xn||e==null&&Hn)return zn=`? ${zn}`,er&&!ir?zn+=Y(zn,t.indent,Qn(er)):Zn&&i&&i(),zn;ir&&(er=null),Hn?(er&&(zn+=Y(zn,t.indent,Qn(er))),zn=`? ${zn}
${g}:`):(zn=`${zn}:`,er&&(zn+=Y(zn,t.indent,Qn(er))));let nr,sr,or;$(e)?(nr=!!e.spaceBefore,sr=e.commentBefore,or=e.comment):(nr=!1,sr=null,or=null,e&&typeof e=="object"&&(e=f.createNode(e))),t.implicitKey=!1,!Hn&&!er&&E(e)&&(t.indentAtStart=zn.length+1),Zn=!1,!Yn&&Wn.length>=2&&!t.inFlow&&!Hn&&he(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let ar=!1;const ur=Z(e,t,()=>ar=!0,()=>Zn=!0);let fr=" ";if(er||nr||sr){if(fr=nr?`
`:"",sr){const kr=Qn(sr);fr+=`
${V(kr,t.indent)}`}ur===""&&!t.inFlow?fr===`
`&&(fr=`

`):fr+=`
${t.indent}`}else if(!Hn&&T(e)){const kr=ur[0],Er=ur.indexOf(`
`),Or=Er!==-1,Fr=(c=(r=t.inFlow)!=null?r:e.flow)!=null?c:e.items.length===0;if(Or||!Fr){let Sr=!1;if(Or&&(kr==="&"||kr==="!")){let br=ur.indexOf(" ");kr==="&"&&br!==-1&&br<Er&&ur[br+1]==="!"&&(br=ur.indexOf(" ",br+1)),(br===-1||Er<br)&&(Sr=!0)}Sr||(fr=`
${t.indent}`)}}else(ur===""||ur[0]===`
`)&&(fr="");return zn+=fr+ur,t.inFlow?ar&&n&&n():or&&!ar?zn+=Y(zn,t.indent,Qn(or)):Zn&&i&&i(),zn}function zt(s,e){(s==="debug"||s==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const _t="<<";function Zt(s,e,{key:t,value:n}){if(s!=null&&s.doc.schema.merge&&Ys(t))if(n=ee(n)?n.resolve(s.doc):n,he(n))for(const i of n.items)tt(s,e,i);else if(Array.isArray(n))for(const i of n)tt(s,e,i);else tt(s,e,n);else{const i=R(t,"",s);if(e instanceof Map)e.set(i,R(n,i,s));else if(e instanceof Set)e.add(i);else{const r=Gs(t,i,s),c=R(n,r,s);r in e?Object.defineProperty(e,r,{value:c,writable:!0,enumerable:!0,configurable:!0}):e[r]=c}}return e}const Ys=s=>s===_t||E(s)&&s.value===_t&&(!s.type||s.type===A.PLAIN);function tt(s,e,t){const n=s&&ee(t)?t.resolve(s.doc):t;if(!te(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,s,Map);for(const[r,c]of i)e instanceof Map?e.has(r)||e.set(r,c):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:c,writable:!0,enumerable:!0,configurable:!0});return e}function Gs(s,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if($(s)&&t&&t.doc){const n=Xt(t.doc,{});n.anchors=new Set;for(const r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=s.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),zt(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}function mt(s,e,t){const n=Se(s,void 0,t),i=Se(e,void 0,t);return new C(n,i)}class C{constructor(e,t=null){Object.defineProperty(this,D,{value:Ft}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return $(t)&&(t=t.clone(e)),$(n)&&(n=n.clone(e)),new C(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return Zt(t,n,this)}toString(e,t,n){return e!=null&&e.doc?Js(this,e,t,n):JSON.stringify(this)}}function xt(s,e,t){var n;return(((n=e.inFlow)!=null?n:s.flow)?Ws:Qs)(s,e,t)}function Qs({comment:s,items:e},t,{blockItemPrefix:n,flowChars:i,itemIndent:r,onChompKeep:c,onComment:p}){const{indent:f,options:{commentString:g}}=t,Wn=Object.assign({},t,{indent:r,type:null});let Qn=!1;const Yn=[];for(let er=0;er<e.length;++er){const Hn=e[er];let ir=null;if($(Hn))!Qn&&Hn.spaceBefore&&Yn.push(""),Pe(t,Yn,Hn.commentBefore,Qn),Hn.comment&&(ir=Hn.comment);else if(L(Hn)){const zn=$(Hn.key)?Hn.key:null;zn&&(!Qn&&zn.spaceBefore&&Yn.push(""),Pe(t,Yn,zn.commentBefore,Qn))}Qn=!1;let Zn=Z(Hn,Wn,()=>ir=null,()=>Qn=!0);ir&&(Zn+=Y(Zn,r,g(ir))),Qn&&ir&&(Qn=!1),Yn.push(n+Zn)}let xn;if(Yn.length===0)xn=i.start+i.end;else{xn=Yn[0];for(let er=1;er<Yn.length;++er){const Hn=Yn[er];xn+=Hn?`
${f}${Hn}`:`
`}}return s?(xn+=`
`+V(g(s),f),p&&p()):Qn&&c&&c(),xn}function Ws({comment:s,items:e},t,{flowChars:n,itemIndent:i,onComment:r}){const{indent:c,indentStep:p,flowCollectionPadding:f,options:{commentString:g}}=t;i+=p;const Wn=Object.assign({},t,{indent:i,inFlow:!0,type:null});let Qn=!1,Yn=0;const xn=[];for(let Zn=0;Zn<e.length;++Zn){const zn=e[Zn];let nr=null;if($(zn))zn.spaceBefore&&xn.push(""),Pe(t,xn,zn.commentBefore,!1),zn.comment&&(nr=zn.comment);else if(L(zn)){const or=$(zn.key)?zn.key:null;or&&(or.spaceBefore&&xn.push(""),Pe(t,xn,or.commentBefore,!1),or.comment&&(Qn=!0));const ar=$(zn.value)?zn.value:null;ar?(ar.comment&&(nr=ar.comment),ar.commentBefore&&(Qn=!0)):zn.value==null&&or&&or.comment&&(nr=or.comment)}nr&&(Qn=!0);let sr=Z(zn,Wn,()=>nr=null);Zn<e.length-1&&(sr+=","),nr&&(sr+=Y(sr,i,g(nr))),!Qn&&(xn.length>Yn||sr.includes(`
`))&&(Qn=!0),xn.push(sr),Yn=xn.length}let er;const{start:Hn,end:ir}=n;if(xn.length===0)er=Hn+ir;else if(Qn||(Qn=xn.reduce((Zn,zn)=>Zn+zn.length+2,2)>Fe.maxFlowStringSingleLineLength),Qn){er=Hn;for(const Zn of xn)er+=Zn?`
${p}${c}${Zn}`:`
`;er+=`
${c}${ir}`}else er=`${Hn}${f}${xn.join(" ")}${f}${ir}`;return s&&(er+=Y(er,g(s),c),r&&r()),er}function Pe({indent:s,options:{commentString:e}},t,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const r=V(e(n),s);t.push(r.trimStart())}}function X(s,e){const t=E(e)?e.value:e;for(const n of s)if(L(n)&&(n.key===e||n.key===t||E(n.key)&&n.key.value===t))return n}class K extends Fe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(G,e),this.items=[]}add(e,t){var n;let i;L(e)?i=e:!e||typeof e!="object"||!("key"in e)?i=new C(e,e==null?void 0:e.value):i=new C(e.key,e.value);const r=X(this.items,i.key),c=(n=this.schema)==null?void 0:n.sortMapEntries;if(r){if(!t)throw new Error(`Key ${i.key} already set`);E(r.value)&&Wt(i.value)?r.value.value=i.value:r.value=i.value}else if(c){const p=this.items.findIndex(f=>c(i,f)<0);p===-1?this.items.push(i):this.items.splice(p,0,i)}else this.items.push(i)}delete(e){const t=X(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){var n;const i=X(this.items,e),r=i==null?void 0:i.value;return(n=!t&&E(r)?r.value:r)!=null?n:void 0}has(e){return!!X(this.items,e)}set(e,t){this.add(new C(e,t),!0)}toJSON(e,t,n){const i=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(i);for(const r of this.items)Zt(t,i,r);return i}toString(e,t,n){if(!e)return JSON.stringify(this);for(const i of this.items)if(!L(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),xt(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}function Hs(s,e,t){const{keepUndefined:n,replacer:i}=t,r=new K(s),c=(p,f)=>{if(typeof i=="function")f=i.call(e,p,f);else if(Array.isArray(i)&&!i.includes(p))return;(f!==void 0||n)&&r.items.push(mt(p,f,t))};if(e instanceof Map)for(const[p,f]of e)c(p,f);else if(e&&typeof e=="object")for(const p of Object.keys(e))c(p,e[p]);return typeof s.sortMapEntries=="function"&&r.items.sort(s.sortMapEntries),r}const de={collection:"map",createNode:Hs,default:!0,nodeClass:K,tag:"tag:yaml.org,2002:map",resolve(s,e){return te(s)||e("Expected a mapping for this tag"),s}};class se extends Fe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ue,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Le(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=Le(e);if(typeof n!="number")return;const i=this.items[n];return!t&&E(i)?i.value:i}has(e){const t=Le(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=Le(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[n];E(i)&&Wt(t)?i.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let i=0;for(const r of this.items)n.push(R(r,String(i++),t));return n}toString(e,t,n){return e?xt(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function Le(s){let e=E(s)?s.value:s;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function Xs(s,e,t){const{replacer:n}=t,i=new se(s);if(e&&Symbol.iterator in Object(e)){let r=0;for(let c of e){if(typeof n=="function"){const p=e instanceof Set?c:String(r++);c=n.call(e,p,c)}i.items.push(Se(c,void 0,t))}}return i}const pe={collection:"seq",createNode:Xs,default:!0,nodeClass:se,tag:"tag:yaml.org,2002:seq",resolve(s,e){return he(s)||e("Expected a sequence for this tag"),s}},Je={identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify(s,e,t,n){return e=Object.assign({actualString:!0},e),Ae(s,e,t,n)}},Ye={identify:s=>s==null,createNode:()=>new A(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new A(null),stringify:({source:s},e)=>typeof s=="string"&&Ye.test.test(s)?s:e.options.nullStr},yt={identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s=>new A(s[0]==="t"||s[0]==="T"),stringify({source:s,value:e},t){if(s&&yt.test.test(s)){const n=s[0]==="t"||s[0]==="T";if(e===n)return s}return e?t.options.trueStr:t.options.falseStr}};function F({format:s,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);const i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(n);if(!s&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let c=r.indexOf(".");c<0&&(c=r.length,r+=".");let p=e-(r.length-c-1);for(;p-- >0;)r+="0"}return r}const es={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:F},ts={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():F(s)}},ss={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(s){const e=new A(parseFloat(s)),t=s.indexOf(".");return t!==-1&&s[s.length-1]==="0"&&(e.minFractionDigits=s.length-t-1),e},stringify:F},Ge=s=>typeof s=="bigint"||Number.isInteger(s),gt=(s,e,t,{intAsBigInt:n})=>n?BigInt(s):parseInt(s.substring(e),t);function ns(s,e,t){const{value:n}=s;return Ge(n)&&n>=0?t+n.toString(e):F(s)}const is={identify:s=>Ge(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(s,e,t)=>gt(s,2,8,t),stringify:s=>ns(s,8,"0o")},rs={identify:Ge,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(s,e,t)=>gt(s,0,10,t),stringify:F},os={identify:s=>Ge(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(s,e,t)=>gt(s,2,16,t),stringify:s=>ns(s,16,"0x")},zs=[de,pe,Je,Ye,yt,is,rs,os,es,ts,ss];function Ct(s){return typeof s=="bigint"||Number.isInteger(s)}const Te=({value:s})=>JSON.stringify(s),Zs=[{identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify:Te},{identify:s=>s==null,createNode:()=>new A(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Te},{identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:s=>s==="true",stringify:Te},{identify:Ct,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(s,e,{intAsBigInt:t})=>t?BigInt(s):parseInt(s,10),stringify:({value:s})=>Ct(s)?s.toString():JSON.stringify(s)},{identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s=>parseFloat(s),stringify:Te}],xs={default:!0,tag:"",test:/^/,resolve(s,e){return e(`Unresolved plain scalar ${JSON.stringify(s)}`),s}},en=[de,pe].concat(Zs,xs),bt={identify:s=>s instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(s,e){if(typeof Buffer=="function")return Buffer.from(s,"base64");if(typeof atob=="function"){const t=atob(s.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),s},stringify({comment:s,type:e,value:t},n,i,r){const c=t;let p;if(typeof Buffer=="function")p=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let g=0;g<c.length;++g)f+=String.fromCharCode(c[g]);p=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=A.BLOCK_LITERAL),e!==A.QUOTE_DOUBLE){const f=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),g=Math.ceil(p.length/f),Wn=new Array(g);for(let Qn=0,Yn=0;Qn<g;++Qn,Yn+=f)Wn[Qn]=p.substr(Yn,f);p=Wn.join(e===A.BLOCK_LITERAL?`
`:" ")}return Ae({comment:s,type:e,value:p},n,i,r)}};function ls(s,e){var t;if(he(s))for(let n=0;n<s.items.length;++n){let i=s.items[n];if(!L(i)){if(te(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");const r=i.items[0]||new C(new A(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}
${r.key.commentBefore}`:i.commentBefore),i.comment){const c=(t=r.value)!=null?t:r.key;c.comment=c.comment?`${i.comment}
${c.comment}`:i.comment}i=r}s.items[n]=L(i)?i:new C(i)}}else e("Expected a sequence for this tag");return s}function as(s,e,t){const{replacer:n}=t,i=new se(s);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let c of e){typeof n=="function"&&(c=n.call(e,String(r++),c));let p,f;if(Array.isArray(c))if(c.length===2)p=c[0],f=c[1];else throw new TypeError(`Expected [key, value] tuple: ${c}`);else if(c&&c instanceof Object){const g=Object.keys(c);if(g.length===1)p=g[0],f=c[p];else throw new TypeError(`Expected { key: value } tuple: ${c}`)}else p=c;i.items.push(mt(p,f,t))}return i}const wt={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ls,createNode:as};class ae extends se{constructor(){super(),this.add=K.prototype.add.bind(this),this.delete=K.prototype.delete.bind(this),this.get=K.prototype.get.bind(this),this.has=K.prototype.has.bind(this),this.set=K.prototype.set.bind(this),this.tag=ae.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const i of this.items){let r,c;if(L(i)?(r=R(i.key,"",t),c=R(i.value,r,t)):r=R(i,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,c)}return n}}ae.tag="tag:yaml.org,2002:omap";const St={collection:"seq",identify:s=>s instanceof Map,nodeClass:ae,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){const t=ls(s,e),n=[];for(const{key:i}of t.items)E(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new ae,t)},createNode(s,e,t){const n=as(s,e,t),i=new ae;return i.items=n.items,i}};function cs({value:s,source:e},t){return e&&(s?fs:us).test.test(e)?e:s?t.options.trueStr:t.options.falseStr}const fs={identify:s=>s===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new A(!0),stringify:cs},us={identify:s=>s===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new A(!1),stringify:cs},tn={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:F},sn={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s.replace(/_/g,"")),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():F(s)}},nn={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(s){const e=new A(parseFloat(s.replace(/_/g,""))),t=s.indexOf(".");if(t!==-1){const n=s.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:F},Ee=s=>typeof s=="bigint"||Number.isInteger(s);function Qe(s,e,t,{intAsBigInt:n}){const i=s[0];if((i==="-"||i==="+")&&(e+=1),s=s.substring(e).replace(/_/g,""),n){switch(t){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`;break}const c=BigInt(s);return i==="-"?BigInt(-1)*c:c}const r=parseInt(s,t);return i==="-"?-1*r:r}function kt(s,e,t){const{value:n}=s;if(Ee(n)){const i=n.toString(e);return n<0?"-"+t+i.substr(1):t+i}return F(s)}const rn={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(s,e,t)=>Qe(s,2,2,t),stringify:s=>kt(s,2,"0b")},on={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(s,e,t)=>Qe(s,1,8,t),stringify:s=>kt(s,8,"0")},ln={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(s,e,t)=>Qe(s,0,10,t),stringify:F},an={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(s,e,t)=>Qe(s,2,16,t),stringify:s=>kt(s,16,"0x")};class ce extends K{constructor(e){super(e),this.tag=ce.tag}add(e){let t;L(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new C(e.key,null):t=new C(e,null),X(this.items,t.key)||this.items.push(t)}get(e,t){const n=X(this.items,e);return!t&&L(n)?E(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=X(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new C(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}ce.tag="tag:yaml.org,2002:set";const Nt={collection:"map",identify:s=>s instanceof Set,nodeClass:ce,default:!1,tag:"tag:yaml.org,2002:set",resolve(s,e){if(te(s)){if(s.hasAllNullValues(!0))return Object.assign(new ce,s);e("Set items must all have null values")}else e("Expected a mapping for this tag");return s},createNode(s,e,t){const{replacer:n}=t,i=new ce(s);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof n=="function"&&(r=n.call(e,r,r)),i.items.push(mt(r,null,t));return i}};function Ot(s,e){const t=s[0],n=t==="-"||t==="+"?s.substring(1):s,i=c=>e?BigInt(c):Number(c),r=n.replace(/_/g,"").split(":").reduce((c,p)=>c*i(60)+i(p),i(0));return t==="-"?i(-1)*r:r}function hs(s){let{value:e}=s,t=c=>c;if(typeof e=="bigint")t=c=>BigInt(c);else if(isNaN(e)||!isFinite(e))return F(s);let n="";e<0&&(n="-",e*=t(-1));const i=t(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),n+r.map(c=>c<10?"0"+String(c):String(c)).join(":").replace(/000000\d*$/,"")}const ds={identify:s=>typeof s=="bigint"||Number.isInteger(s),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(s,e,{intAsBigInt:t})=>Ot(s,t),stringify:hs},ps={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s=>Ot(s,!1),stringify:hs},We={identify:s=>s instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(s){const e=s.match(We.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,n,i,r,c,p]=e.map(Number),f=e[7]?Number((e[7]+"00").substr(1,3)):0;let g=Date.UTC(t,n-1,i,r||0,c||0,p||0,f);const Wn=e[8];if(Wn&&Wn!=="Z"){let Qn=Ot(Wn,!1);Math.abs(Qn)<30&&(Qn*=60),g-=6e4*Qn}return new Date(g)},stringify:({value:s})=>s.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},vt=[de,pe,Je,Ye,fs,us,rn,on,ln,an,tn,sn,nn,bt,St,wt,Nt,ds,ps,We],Bt=new Map([["core",zs],["failsafe",[de,pe,Je]],["json",en],["yaml11",vt],["yaml-1.1",vt]]),Mt={binary:bt,bool:yt,float:ss,floatExp:ts,floatNaN:es,floatTime:ps,int:rs,intHex:os,intOct:is,intTime:ds,map:de,null:Ye,omap:St,pairs:wt,seq:pe,set:Nt,timestamp:We},cn={"tag:yaml.org,2002:binary":bt,"tag:yaml.org,2002:omap":St,"tag:yaml.org,2002:pairs":wt,"tag:yaml.org,2002:set":Nt,"tag:yaml.org,2002:timestamp":We};function st(s,e){let t=Bt.get(e);if(!t)if(Array.isArray(s))t=[];else{const n=Array.from(Bt.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(s))for(const n of s)t=t.concat(n);else typeof s=="function"&&(t=s(t.slice()));return t.map(n=>{if(typeof n!="string")return n;const i=Mt[n];if(i)return i;const r=Object.keys(Mt).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${r}`)})}const fn=(s,e)=>s.key<e.key?-1:s.key>e.key?1:0;class He{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:i,schema:r,sortMapEntries:c,toStringDefaults:p}){this.compat=Array.isArray(e)?st(e,"compat"):e?st(null,e):null,this.merge=!!n,this.name=typeof r=="string"&&r||"core",this.knownTags=i?cn:{},this.tags=st(t,this.name),this.toStringOptions=p!=null?p:null,Object.defineProperty(this,G,{value:de}),Object.defineProperty(this,J,{value:Je}),Object.defineProperty(this,ue,{value:pe}),this.sortMapEntries=typeof c=="function"?c:c===!0?fn:null}clone(){const e=Object.create(He.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function un(s,e){var t;const n=[];let i=e.directives===!0;if(e.directives!==!1&&s.directives){const g=s.directives.toString(s);g?(n.push(g),i=!0):s.directives.docStart&&(i=!0)}i&&n.push("---");const r=Xt(s,e),{commentString:c}=r.options;if(s.commentBefore){n.length!==1&&n.unshift("");const g=c(s.commentBefore);n.unshift(V(g,""))}let p=!1,f=null;if(s.contents){if($(s.contents)){if(s.contents.spaceBefore&&i&&n.push(""),s.contents.commentBefore){const Qn=c(s.contents.commentBefore);n.push(V(Qn,""))}r.forceBlockIndent=!!s.comment,f=s.contents.comment}const g=f?void 0:()=>p=!0;let Wn=Z(s.contents,r,()=>f=null,g);f&&(Wn+=Y(Wn,"",c(f))),(Wn[0]==="|"||Wn[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${Wn}`:n.push(Wn)}else n.push(Z(s.contents,r));if((t=s.directives)!=null&&t.docEnd)if(s.comment){const g=c(s.comment);g.includes(`
`)?(n.push("..."),n.push(V(g,""))):n.push(`... ${g}`)}else n.push("...");else{let g=s.comment;g&&p&&(g=g.replace(/^\n+/,"")),g&&((!p||f)&&n[n.length-1]!==""&&n.push(""),n.push(V(c(g),"")))}return n.join(`
`)+`
`}function be(s,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,r=n.length;i<r;++i){const c=n[i],p=be(s,n,String(i),c);p===void 0?delete n[i]:p!==c&&(n[i]=p)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const r=n.get(i),c=be(s,n,i,r);c===void 0?n.delete(i):c!==r&&n.set(i,c)}else if(n instanceof Set)for(const i of Array.from(n)){const r=be(s,n,i,i);r===void 0?n.delete(i):r!==i&&(n.delete(i),n.add(r))}else for(const[i,r]of Object.entries(n)){const c=be(s,n,i,r);c===void 0?delete n[i]:c!==r&&(n[i]=c)}return s.call(e,t,n)}class me{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,D,{value:at});let i=null;typeof t=="function"||Array.isArray(t)?i=t:n===void 0&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:c}=r;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(c=this.directives.yaml.version)):this.directives=new v({version:c}),this.setSchema(c,n),e===void 0?this.contents=null:this.contents=this.createNode(e,i,n)}clone(){const e=Object.create(me.prototype,{[D]:{value:at}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=$(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ne(this.contents)&&this.contents.add(e)}addIn(e,t){ne(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Gt(this);e.anchor=!t||n.has(t)?Qt(t||"a",n):t}return new qe(e.anchor)}createNode(e,t,n){let i;if(typeof t=="function")e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){const ir=zn=>typeof zn=="number"||zn instanceof String||zn instanceof Number,Zn=t.filter(ir).map(String);Zn.length>0&&(t=t.concat(Zn)),i=t}else n===void 0&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:c,flow:p,keepUndefined:f,onTagObj:g,tag:Wn}=n!=null?n:{},{onAnchor:Qn,setAnchors:Yn,sourceObjects:xn}=js(this,c||"a"),er={aliasDuplicateObjects:r!=null?r:!0,keepUndefined:f!=null?f:!1,onAnchor:Qn,onTagObj:g,replacer:i,schema:this.schema,sourceObjects:xn},Hn=Se(e,Wn,er);return p&&T(Hn)&&(Hn.flow=!0),Yn(),Hn}createPair(e,t,n={}){const i=this.createNode(e,null,n),r=this.createNode(t,null,n);return new C(i,r)}delete(e){return ne(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ge(e)?this.contents==null?!1:(this.contents=null,!0):ne(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return T(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ge(e)?!t&&E(this.contents)?this.contents.value:this.contents:T(this.contents)?this.contents.getIn(e,t):void 0}has(e){return T(this.contents)?this.contents.has(e):!1}hasIn(e){return ge(e)?this.contents!==void 0:T(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Me(this.schema,[e],t):ne(this.contents)&&this.contents.set(e,t)}setIn(e,t){ge(e)?this.contents=t:this.contents==null?this.contents=Me(this.schema,Array.from(e),t):ne(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new v({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new v({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new He(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:c}={}){const p={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:Z},f=R(this.contents,t!=null?t:"",p);if(typeof r=="function")for(const{count:g,res:Wn}of p.anchors.values())r(Wn,g);return typeof c=="function"?be(c,{"":f},"",f):f}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return un(this,e)}}function ne(s){if(T(s))return!0;throw new Error("Expected a YAML collection as document contents")}class At extends Error{constructor(e,t,n,i){super(),this.name=e,this.code=n,this.message=i,this.pos=t}}class z extends At{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class ms extends At{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const je=(s,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(p=>e.linePos(p));const{line:n,col:i}=t.linePos[0];t.message+=` at line ${n}, column ${i}`;let r=i-1,c=s.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&c.length>80){const p=Math.min(r-39,c.length-79);c="…"+c.substring(p),r-=p-1}if(c.length>80&&(c=c.substring(0,79)+"…"),n>1&&/^ *$/.test(c.substring(0,r))){let p=s.substring(e.lineStarts[n-2],e.lineStarts[n-1]);p.length>80&&(p=p.substring(0,79)+`…
`),c=p+c}if(/[^ ]/.test(c)){let p=1;const f=t.linePos[1];f&&f.line===n&&f.col>i&&(p=Math.min(f.col-i,80-r));const g=" ".repeat(r)+"^".repeat(p);t.message+=`:

${c}
${g}
`}};function fe(s,{flow:e,indicator:t,next:n,offset:i,onError:r,startOnNewline:c}){let p=!1,f=c,g=c,Wn="",Qn="",Yn=!1,xn=!1,er=!1,Hn=null,ir=null,Zn=null,zn=null,nr=null;for(const ar of s)switch(er&&(ar.type!=="space"&&ar.type!=="newline"&&ar.type!=="comma"&&r(ar.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),er=!1),ar.type){case"space":!e&&f&&t!=="doc-start"&&ar.source[0]==="	"&&r(ar,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=!0;break;case"comment":{g||r(ar,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const ur=ar.source.substring(1)||" ";Wn?Wn+=Qn+ur:Wn=ur,Qn="",f=!1;break}case"newline":f?Wn?Wn+=ar.source:p=!0:Qn+=ar.source,f=!0,Yn=!0,(Hn||ir)&&(xn=!0),g=!0;break;case"anchor":Hn&&r(ar,"MULTIPLE_ANCHORS","A node can have at most one anchor"),ar.source.endsWith(":")&&r(ar.offset+ar.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),Hn=ar,nr===null&&(nr=ar.offset),f=!1,g=!1,er=!0;break;case"tag":{ir&&r(ar,"MULTIPLE_TAGS","A node can have at most one tag"),ir=ar,nr===null&&(nr=ar.offset),f=!1,g=!1,er=!0;break}case t:(Hn||ir)&&r(ar,"BAD_PROP_ORDER",`Anchors and tags must be after the ${ar.source} indicator`),zn&&r(ar,"UNEXPECTED_TOKEN",`Unexpected ${ar.source} in ${e!=null?e:"collection"}`),zn=ar,f=!1,g=!1;break;case"comma":if(e){Zn&&r(ar,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),Zn=ar,f=!1,g=!1;break}default:r(ar,"UNEXPECTED_TOKEN",`Unexpected ${ar.type} token`),f=!1,g=!1}const sr=s[s.length-1],or=sr?sr.offset+sr.source.length:i;return er&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:Zn,found:zn,spaceBefore:p,comment:Wn,hasNewline:Yn,hasNewlineAfterProp:xn,anchor:Hn,tag:ir,end:or,start:nr!=null?nr:or}}function ke(s){if(!s)return null;switch(s.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(s.source.includes(`
`))return!0;if(s.end){for(const e of s.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of s.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(ke(e.key)||ke(e.value))return!0}return!1;default:return!0}}function ut(s,e,t){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===s&&(n.source==="]"||n.source==="}")&&ke(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ys(s,e,t){const{uniqueKeys:n}=s.options;if(n===!1)return!1;const i=typeof n=="function"?n:(r,c)=>r===c||E(r)&&E(c)&&r.value===c.value&&!(r.value==="<<"&&s.schema.merge);return e.some(r=>i(r.key,t))}const Pt="All mapping items must start at the same column";function hn({composeNode:s,composeEmptyNode:e},t,n,i){var r;const c=new K(t.schema);t.atRoot&&(t.atRoot=!1);let p=n.offset,f=null;for(const g of n.items){const{start:Wn,key:Qn,sep:Yn,value:xn}=g,er=fe(Wn,{indicator:"explicit-key-ind",next:Qn!=null?Qn:Yn==null?void 0:Yn[0],offset:p,onError:i,startOnNewline:!0}),Hn=!er.found;if(Hn){if(Qn&&(Qn.type==="block-seq"?i(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in Qn&&Qn.indent!==n.indent&&i(p,"BAD_INDENT",Pt)),!er.anchor&&!er.tag&&!Yn){f=er.end,er.comment&&(c.comment?c.comment+=`
`+er.comment:c.comment=er.comment);continue}(er.hasNewlineAfterProp||ke(Qn))&&i(Qn!=null?Qn:Wn[Wn.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((r=er.found)==null?void 0:r.indent)!==n.indent&&i(p,"BAD_INDENT",Pt);const ir=er.end,Zn=Qn?s(t,Qn,er,i):e(t,ir,Wn,null,er,i);t.schema.compat&&ut(n.indent,Qn,i),ys(t,c.items,Zn)&&i(ir,"DUPLICATE_KEY","Map keys must be unique");const zn=fe(Yn!=null?Yn:[],{indicator:"map-value-ind",next:xn,offset:Zn.range[2],onError:i,startOnNewline:!Qn||Qn.type==="block-scalar"});if(p=zn.end,zn.found){Hn&&((xn==null?void 0:xn.type)==="block-map"&&!zn.hasNewline&&i(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&er.start<zn.found.offset-1024&&i(Zn.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const nr=xn?s(t,xn,zn,i):e(t,p,Yn,null,zn,i);t.schema.compat&&ut(n.indent,xn,i),p=nr.range[2];const sr=new C(Zn,nr);t.options.keepSourceTokens&&(sr.srcToken=g),c.items.push(sr)}else{Hn&&i(Zn.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),zn.comment&&(Zn.comment?Zn.comment+=`
`+zn.comment:Zn.comment=zn.comment);const nr=new C(Zn);t.options.keepSourceTokens&&(nr.srcToken=g),c.items.push(nr)}}return f&&f<p&&i(f,"IMPOSSIBLE","Map comment with trailing content"),c.range=[n.offset,p,f!=null?f:p],c}function dn({composeNode:s,composeEmptyNode:e},t,n,i){const r=new se(t.schema);t.atRoot&&(t.atRoot=!1);let c=n.offset,p=null;for(const{start:f,value:g}of n.items){const Wn=fe(f,{indicator:"seq-item-ind",next:g,offset:c,onError:i,startOnNewline:!0});if(!Wn.found)if(Wn.anchor||Wn.tag||g)g&&g.type==="block-seq"?i(Wn.end,"BAD_INDENT","All sequence items must start at the same column"):i(c,"MISSING_CHAR","Sequence item without - indicator");else{p=Wn.end,Wn.comment&&(r.comment=Wn.comment);continue}const Qn=g?s(t,g,Wn,i):e(t,Wn.end,f,null,Wn,i);t.schema.compat&&ut(n.indent,g,i),c=Qn.range[2],r.items.push(Qn)}return r.range=[n.offset,c,p!=null?p:c],r}function Ie(s,e,t,n){let i="";if(s){let r=!1,c="";for(const p of s){const{source:f,type:g}=p;switch(g){case"space":r=!0;break;case"comment":{t&&!r&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Wn=f.substring(1)||" ";i?i+=c+Wn:i=Wn,c="";break}case"newline":i&&(c+=f),r=!0;break;default:n(p,"UNEXPECTED_TOKEN",`Unexpected ${g} at node end`)}e+=f.length}}return{comment:i,offset:e}}const nt="Block collections are not allowed within flow collections",it=s=>s&&(s.type==="block-map"||s.type==="block-seq");function pn({composeNode:s,composeEmptyNode:e},t,n,i){var r;const c=n.start.source==="{",p=c?"flow map":"flow sequence",f=c?new K(t.schema):new se(t.schema);f.flow=!0;const g=t.atRoot;g&&(t.atRoot=!1);let Wn=n.offset+n.start.source.length;for(let Hn=0;Hn<n.items.length;++Hn){const ir=n.items[Hn],{start:Zn,key:zn,sep:nr,value:sr}=ir,or=fe(Zn,{flow:p,indicator:"explicit-key-ind",next:zn!=null?zn:nr==null?void 0:nr[0],offset:Wn,onError:i,startOnNewline:!1});if(!or.found){if(!or.anchor&&!or.tag&&!nr&&!sr){Hn===0&&or.comma?i(or.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${p}`):Hn<n.items.length-1&&i(or.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${p}`),or.comment&&(f.comment?f.comment+=`
`+or.comment:f.comment=or.comment),Wn=or.end;continue}!c&&t.options.strict&&ke(zn)&&i(zn,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(Hn===0)or.comma&&i(or.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${p}`);else if(or.comma||i(or.start,"MISSING_CHAR",`Missing , between ${p} items`),or.comment){let ar="";e:for(const ur of Zn)switch(ur.type){case"comma":case"space":break;case"comment":ar=ur.source.substring(1);break e;default:break e}if(ar){let ur=f.items[f.items.length-1];L(ur)&&(ur=(r=ur.value)!=null?r:ur.key),ur.comment?ur.comment+=`
`+ar:ur.comment=ar,or.comment=or.comment.substring(ar.length+1)}}if(!c&&!nr&&!or.found){const ar=sr?s(t,sr,or,i):e(t,or.end,nr,null,or,i);f.items.push(ar),Wn=ar.range[2],it(sr)&&i(ar.range,"BLOCK_IN_FLOW",nt)}else{const ar=or.end,ur=zn?s(t,zn,or,i):e(t,ar,Zn,null,or,i);it(zn)&&i(ur.range,"BLOCK_IN_FLOW",nt);const fr=fe(nr!=null?nr:[],{flow:p,indicator:"map-value-ind",next:sr,offset:ur.range[2],onError:i,startOnNewline:!1});if(fr.found){if(!c&&!or.found&&t.options.strict){if(nr)for(const Or of nr){if(Or===fr.found)break;if(Or.type==="newline"){i(Or,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}or.start<fr.found.offset-1024&&i(fr.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else sr&&("source"in sr&&sr.source&&sr.source[0]===":"?i(sr,"MISSING_CHAR",`Missing space after : in ${p}`):i(fr.start,"MISSING_CHAR",`Missing , or : between ${p} items`));const kr=sr?s(t,sr,fr,i):fr.found?e(t,fr.end,nr,null,fr,i):null;kr?it(sr)&&i(kr.range,"BLOCK_IN_FLOW",nt):fr.comment&&(ur.comment?ur.comment+=`
`+fr.comment:ur.comment=fr.comment);const Er=new C(ur,kr);if(t.options.keepSourceTokens&&(Er.srcToken=ir),c){const Or=f;ys(t,Or.items,ur)&&i(ar,"DUPLICATE_KEY","Map keys must be unique"),Or.items.push(Er)}else{const Or=new K(t.schema);Or.flow=!0,Or.items.push(Er),f.items.push(Or)}Wn=kr?kr.range[2]:fr.end}}const Qn=c?"}":"]",[Yn,...xn]=n.end;let er=Wn;if(Yn&&Yn.source===Qn)er=Yn.offset+Yn.source.length;else{const Hn=p[0].toUpperCase()+p.substring(1),ir=g?`${Hn} must end with a ${Qn}`:`${Hn} in block collection must be sufficiently indented and end with a ${Qn}`;i(Wn,g?"MISSING_CHAR":"BAD_INDENT",ir),Yn&&Yn.source.length!==1&&xn.unshift(Yn)}if(xn.length>0){const Hn=Ie(xn,er,t.options.strict,i);Hn.comment&&(f.comment?f.comment+=`
`+Hn.comment:f.comment=Hn.comment),f.range=[n.offset,er,Hn.offset]}else f.range=[n.offset,er,er];return f}function mn(s,e,t,n,i){let r;switch(t.type){case"block-map":{r=hn(s,e,t,i);break}case"block-seq":{r=dn(s,e,t,i);break}case"flow-collection":{r=pn(s,e,t,i);break}}if(!n)return r;const c=e.directives.tagName(n.source,Yn=>i(n,"TAG_RESOLVE_FAILED",Yn));if(!c)return r;const p=r.constructor;if(c==="!"||c===p.tagName)return r.tag=p.tagName,r;const f=te(r)?"map":"seq";let g=e.schema.tags.find(Yn=>Yn.collection===f&&Yn.tag===c);if(!g){const Yn=e.schema.knownTags[c];if(Yn&&Yn.collection===f)e.schema.tags.push(Object.assign({},Yn,{default:!1})),g=Yn;else return i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,!0),r.tag=c,r}const Wn=g.resolve(r,Yn=>i(n,"TAG_RESOLVE_FAILED",Yn),e.options),Qn=$(Wn)?Wn:new A(Wn);return Qn.range=r.range,Qn.tag=c,g!=null&&g.format&&(Qn.format=g.format),Qn}function gs(s,e,t){const n=s.offset,i=yn(s,e,t);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};const r=i.mode===">"?A.BLOCK_FOLDED:A.BLOCK_LITERAL,c=s.source?gn(s.source):[];let p=c.length;for(let Hn=c.length-1;Hn>=0;--Hn){const ir=c[Hn][1];if(ir===""||ir==="\r")p=Hn;else break}if(p===0){const Hn=i.chomp==="+"&&c.length>0?`
`.repeat(Math.max(1,c.length-1)):"";let ir=n+i.length;return s.source&&(ir+=s.source.length),{value:Hn,type:r,comment:i.comment,range:[n,ir,ir]}}let f=s.indent+i.indent,g=s.offset+i.length,Wn=0;for(let Hn=0;Hn<p;++Hn){const[ir,Zn]=c[Hn];if(Zn===""||Zn==="\r")i.indent===0&&ir.length>f&&(f=ir.length);else{ir.length<f&&t(g+ir.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(f=ir.length),Wn=Hn;break}g+=ir.length+Zn.length+1}for(let Hn=c.length-1;Hn>=p;--Hn)c[Hn][0].length>f&&(p=Hn+1);let Qn="",Yn="",xn=!1;for(let Hn=0;Hn<Wn;++Hn)Qn+=c[Hn][0].slice(f)+`
`;for(let Hn=Wn;Hn<p;++Hn){let[ir,Zn]=c[Hn];g+=ir.length+Zn.length+1;const zn=Zn[Zn.length-1]==="\r";if(zn&&(Zn=Zn.slice(0,-1)),Zn&&ir.length<f){const nr=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;t(g-Zn.length-(zn?2:1),"BAD_INDENT",nr),ir=""}r===A.BLOCK_LITERAL?(Qn+=Yn+ir.slice(f)+Zn,Yn=`
`):ir.length>f||Zn[0]==="	"?(Yn===" "?Yn=`
`:!xn&&Yn===`
`&&(Yn=`

`),Qn+=Yn+ir.slice(f)+Zn,Yn=`
`,xn=!0):Zn===""?Yn===`
`?Qn+=`
`:Yn=`
`:(Qn+=Yn+Zn,Yn=" ",xn=!1)}switch(i.chomp){case"-":break;case"+":for(let Hn=p;Hn<c.length;++Hn)Qn+=`
`+c[Hn][0].slice(f);Qn[Qn.length-1]!==`
`&&(Qn+=`
`);break;default:Qn+=`
`}const er=n+i.length+s.source.length;return{value:Qn,type:r,comment:i.comment,range:[n,er,er]}}function yn({offset:s,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let c=0,p="",f=-1;for(let Yn=1;Yn<i.length;++Yn){const xn=i[Yn];if(!p&&(xn==="-"||xn==="+"))p=xn;else{const er=Number(xn);!c&&er?c=er:f===-1&&(f=s+Yn)}}f!==-1&&n(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let g=!1,Wn="",Qn=i.length;for(let Yn=1;Yn<e.length;++Yn){const xn=e[Yn];switch(xn.type){case"space":g=!0;case"newline":Qn+=xn.source.length;break;case"comment":t&&!g&&n(xn,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),Qn+=xn.source.length,Wn=xn.source.substring(1);break;case"error":n(xn,"UNEXPECTED_TOKEN",xn.message),Qn+=xn.source.length;break;default:{const er=`Unexpected token in block scalar header: ${xn.type}`;n(xn,"UNEXPECTED_TOKEN",er);const Hn=xn.source;Hn&&typeof Hn=="string"&&(Qn+=Hn.length)}}}return{mode:r,indent:c,chomp:p,comment:Wn,length:Qn}}function gn(s){const e=s.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),i=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let r=1;r<e.length;r+=2)i.push([e[r],e[r+1]]);return i}function bs(s,e,t){const{offset:n,type:i,source:r,end:c}=s;let p,f;const g=(Yn,xn,er)=>t(n+Yn,xn,er);switch(i){case"scalar":p=A.PLAIN,f=bn(r,g);break;case"single-quoted-scalar":p=A.QUOTE_SINGLE,f=wn(r,g);break;case"double-quoted-scalar":p=A.QUOTE_DOUBLE,f=Sn(r,g);break;default:return t(s,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}const Wn=n+r.length,Qn=Ie(c,Wn,e,t);return{value:f,type:p,comment:Qn.comment,range:[n,Wn,Qn.offset]}}function bn(s,e){let t="";switch(s[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${s[0]}`;break}case"@":case"`":{t=`reserved character ${s[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),ws(s)}function wn(s,e){return(s[s.length-1]!=="'"||s.length===1)&&e(s.length,"MISSING_CHAR","Missing closing 'quote"),ws(s.slice(1,-1)).replace(/''/g,"'")}function ws(s){var e;let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch(g){t=new RegExp("(.*?)[ \\t]*\\r?\\n","sy"),n=new RegExp("[ \\t]*(.*?)[ \\t]*\\r?\\n","sy")}let i=t.exec(s);if(!i)return s;let r=i[1],c=" ",p=t.lastIndex;for(n.lastIndex=p;i=n.exec(s);)i[1]===""?c===`
`?r+=c:c=`
`:(r+=c+i[1],c=" "),p=n.lastIndex;const f=new RegExp("[ \\t]*(.*)","sy");return f.lastIndex=p,i=f.exec(s),r+c+((e=i==null?void 0:i[1])!=null?e:"")}function Sn(s,e){let t="";for(let n=1;n<s.length-1;++n){const i=s[n];if(!(i==="\r"&&s[n+1]===`
`))if(i===`
`){const{fold:r,offset:c}=kn(s,n);t+=r,n=c}else if(i==="\\"){let r=s[++n];const c=Nn[r];if(c)t+=c;else if(r===`
`)for(r=s[n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="\r"&&s[n+1]===`
`)for(r=s[++n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="x"||r==="u"||r==="U"){const p={x:2,u:4,U:8}[r];t+=On(s,n+1,p,e),n+=p}else{const p=s.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${p}`),t+=p}}else if(i===" "||i==="	"){const r=n;let c=s[n+1];for(;c===" "||c==="	";)c=s[++n+1];c!==`
`&&!(c==="\r"&&s[n+2]===`
`)&&(t+=n>r?s.slice(r,n+1):i)}else t+=i}return(s[s.length-1]!=='"'||s.length===1)&&e(s.length,"MISSING_CHAR",'Missing closing "quote'),t}function kn(s,e){let t="",n=s[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&s[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=s[e+1];return t||(t=" "),{fold:t,offset:e}}const Nn={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function On(s,e,t,n){const i=s.substr(e,t),r=i.length===t&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(r)){const c=s.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(r)}function Ss(s,e,t,n){const{value:i,type:r,comment:c,range:p}=e.type==="block-scalar"?gs(e,s.options.strict,n):bs(e,s.options.strict,n),f=t?s.directives.tagName(t.source,Qn=>n(t,"TAG_RESOLVE_FAILED",Qn)):null,g=t&&f?An(s.schema,i,f,t,n):e.type==="scalar"?En(s,i,e,n):s.schema[J];let Wn;try{const Qn=g.resolve(i,Yn=>n(t!=null?t:e,"TAG_RESOLVE_FAILED",Yn),s.options);Wn=E(Qn)?Qn:new A(Qn)}catch(Qn){const Yn=Qn instanceof Error?Qn.message:String(Qn);n(t!=null?t:e,"TAG_RESOLVE_FAILED",Yn),Wn=new A(i)}return Wn.range=p,Wn.source=i,r&&(Wn.type=r),f&&(Wn.tag=f),g.format&&(Wn.format=g.format),c&&(Wn.comment=c),Wn}function An(s,e,t,n,i){var r;if(t==="!")return s[J];const c=[];for(const f of s.tags)if(!f.collection&&f.tag===t)if(f.default&&f.test)c.push(f);else return f;for(const f of c)if((r=f.test)!=null&&r.test(e))return f;const p=s.knownTags[t];return p&&!p.collection?(s.tags.push(Object.assign({},p,{default:!1,test:void 0})),p):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),s[J])}function En({directives:s,schema:e},t,n,i){var r;const c=e.tags.find(p=>{var f;return p.default&&((f=p.test)==null?void 0:f.test(t))})||e[J];if(e.compat){const p=(r=e.compat.find(f=>{var g;return f.default&&((g=f.test)==null?void 0:g.test(t))}))!=null?r:e[J];if(c.tag!==p.tag){const f=s.tagString(c.tag),g=s.tagString(p.tag),Wn=`Value may be parsed as either ${f} or ${g}`;i(n,"TAG_RESOLVE_FAILED",Wn,!0)}}return c}function In(s,e,t){if(e){t===null&&(t=e.length);for(let n=t-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":s-=i.source.length;continue}for(i=e[++n];(i==null?void 0:i.type)==="space";)s+=i.source.length,i=e[++n];break}}return s}const Ln={composeNode:ks,composeEmptyNode:Et};function ks(s,e,t,n){const{spaceBefore:i,comment:r,anchor:c,tag:p}=t;let f,g=!0;switch(e.type){case"alias":f=Tn(s,e,n),(c||p)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Ss(s,e,p,n),c&&(f.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=mn(Ln,s,e,p,n),c&&(f.anchor=c.source.substring(1));break;default:{const Wn=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",Wn),f=Et(s,e.offset,void 0,null,t,n),g=!1}}return c&&f.anchor===""&&n(c,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?f.comment=r:f.commentBefore=r),s.options.keepSourceTokens&&g&&(f.srcToken=e),f}function Et(s,e,t,n,{spaceBefore:i,comment:r,anchor:c,tag:p,end:f},g){const Wn={type:"scalar",offset:In(e,t,n),indent:-1,source:""},Qn=Ss(s,Wn,p,g);return c&&(Qn.anchor=c.source.substring(1),Qn.anchor===""&&g(c,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(Qn.spaceBefore=!0),r&&(Qn.comment=r,Qn.range[2]=f),Qn}function Tn({options:s},{offset:e,source:t,end:n},i){const r=new qe(t.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=e+t.length,p=Ie(n,c,s.strict,i);return r.range=[e,c,p.offset],p.comment&&(r.comment=p.comment),r}function $n(s,e,{offset:t,start:n,value:i,end:r},c){const p=Object.assign({_directives:e},s),f=new me(void 0,p),g={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},Wn=fe(n,{indicator:"doc-start",next:i!=null?i:r==null?void 0:r[0],offset:t,onError:c,startOnNewline:!0});Wn.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!Wn.hasNewline&&c(Wn.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?ks(g,i,Wn,c):Et(g,Wn.end,n,null,Wn,c);const Qn=f.contents.range[2],Yn=Ie(r,Qn,!1,c);return Yn.comment&&(f.comment=Yn.comment),f.range=[t,Qn,Yn.offset],f}function ye(s){if(typeof s=="number")return[s,s+1];if(Array.isArray(s))return s.length===2?s:[s[0],s[1]];const{offset:e,source:t}=s;return[e,e+(typeof t=="string"?t.length:1)]}function jt(s){var e;let t="",n=!1,i=!1;for(let r=0;r<s.length;++r){const c=s[r];switch(c[0]){case"#":t+=(t===""?"":i?`

`:`
`)+(c.substring(1)||" "),n=!0,i=!1;break;case"%":((e=s[r+1])==null?void 0:e[0])!=="#"&&(r+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:t,afterEmptyLine:i}}class It{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,i,r)=>{const c=ye(t);r?this.warnings.push(new ms(c,n,i)):this.errors.push(new z(c,n,i))},this.directives=new v({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:i}=jt(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(i||e.directives.docStart||!r)e.commentBefore=n;else if(T(r)&&!r.flow&&r.items.length>0){let c=r.items[0];L(c)&&(c=c.key);const p=c.commentBefore;c.commentBefore=p?`${n}
${p}`:n}else{const c=r.commentBefore;r.commentBefore=c?`${n}
${c}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:jt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const i of e)yield*pr(h(this.next(i)));yield*pr(h(this.end(t,n)))}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,i)=>{const r=ye(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=$n(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new z(ye(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new z(ye(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const t=Ie(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new z(ye(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),i=new me(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,t,t],this.decorate(i,!1),yield i}}}function _n(s,e=!0,t){if(s){const n=(i,r,c)=>{const p=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(t)t(p,r,c);else throw new z([p,p+1],r,c)};switch(s.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return bs(s,e,n);case"block-scalar":return gs(s,e,n)}}return null}function Cn(s,e){var t;const{implicitKey:n=!1,indent:i,inFlow:r=!1,offset:c=-1,type:p="PLAIN"}=e,f=Ae({type:p,value:s},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),g=(t=e.end)!=null?t:[{type:"newline",offset:-1,indent:i,source:`
`}];switch(f[0]){case"|":case">":{const Wn=f.indexOf(`
`),Qn=f.substring(0,Wn),Yn=f.substring(Wn+1)+`
`,xn=[{type:"block-scalar-header",offset:c,indent:i,source:Qn}];return Ns(xn,g)||xn.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:c,indent:i,props:xn,source:Yn}}case'"':return{type:"double-quoted-scalar",offset:c,indent:i,source:f,end:g};case"'":return{type:"single-quoted-scalar",offset:c,indent:i,source:f,end:g};default:return{type:"scalar",offset:c,indent:i,source:f,end:g}}}function vn(s,e,t={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:r=!1,type:c}=t,p="indent"in s?s.indent:null;if(n&&typeof p=="number"&&(p+=2),!c)switch(s.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":{const g=s.props[0];if(g.type!=="block-scalar-header")throw new Error("Invalid block scalar header");c=g.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:c="PLAIN"}const f=Ae({type:c,value:e},{implicitKey:i||p===null,indent:p!==null&&p>0?" ".repeat(p):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":Bn(s,f);break;case'"':rt(s,f,"double-quoted-scalar");break;case"'":rt(s,f,"single-quoted-scalar");break;default:rt(s,f,"scalar")}}function Bn(s,e){const t=e.indexOf(`
`),n=e.substring(0,t),i=e.substring(t+1)+`
`;if(s.type==="block-scalar"){const r=s.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=n,s.source=i}else{const{offset:r}=s,c="indent"in s?s.indent:-1,p=[{type:"block-scalar-header",offset:r,indent:c,source:n}];Ns(p,"end"in s?s.end:void 0)||p.push({type:"newline",offset:-1,indent:c,source:`
`});for(const f of Object.keys(s))f!=="type"&&f!=="offset"&&delete s[f];Object.assign(s,{type:"block-scalar",indent:c,props:p,source:i})}}function Ns(s,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":s.push(t);break;case"newline":return s.push(t),!0}return!1}function rt(s,e,t){switch(s.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":s.type=t,s.source=e;break;case"block-scalar":{const n=s.props.slice(1);let i=e.length;s.props[0].type==="block-scalar-header"&&(i-=s.props[0].source.length);for(const r of n)r.offset+=i;delete s.props,Object.assign(s,{type:t,source:e,end:n});break}case"block-map":case"block-seq":{const n={type:"newline",offset:s.offset+e.length,indent:s.indent,source:`
`};delete s.items,Object.assign(s,{type:t,source:e,end:[n]});break}default:{const n="indent"in s?s.indent:-1,i="end"in s&&Array.isArray(s.end)?s.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(s))r!=="type"&&r!=="offset"&&delete s[r];Object.assign(s,{type:t,indent:n,source:e,end:i})}}}const Mn=s=>"type"in s?Ke(s):Be(s);function Ke(s){switch(s.type){case"block-scalar":{let e="";for(const t of s.props)e+=Ke(t);return e+s.source}case"block-map":case"block-seq":{let e="";for(const t of s.items)e+=Be(t);return e}case"flow-collection":{let e=s.start.source;for(const t of s.items)e+=Be(t);for(const t of s.end)e+=t.source;return e}case"document":{let e=Be(s);if(s.end)for(const t of s.end)e+=t.source;return e}default:{let e=s.source;if("end"in s&&s.end)for(const t of s.end)e+=t.source;return e}}}function Be({start:s,key:e,sep:t,value:n}){let i="";for(const r of s)i+=r.source;if(e&&(i+=Ke(e)),t)for(const r of t)i+=r.source;return n&&(i+=Ke(n)),i}const ht=Symbol("break visit"),Pn=Symbol("skip children"),Os=Symbol("remove item");function x(s,e){"type"in s&&s.type==="document"&&(s={start:s.start,value:s.value}),As(Object.freeze([]),s,e)}x.BREAK=ht,x.SKIP=Pn,x.REMOVE=Os,x.itemAtPath=(s,e)=>{let t=s;for(const[n,i]of e){const r=t==null?void 0:t[n];if(r&&"items"in r)t=r.items[i];else return}return t},x.parentCollection=(s,e)=>{const t=x.itemAtPath(s,e.slice(0,-1)),n=e[e.length-1][0],i=t==null?void 0:t[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function As(s,e,t){let n=t(e,s);if(typeof n=="symbol")return n;for(const i of["key","value"]){const r=e[i];if(r&&"items"in r){for(let c=0;c<r.items.length;++c){const p=As(Object.freeze(s.concat([[i,c]])),r.items[c],t);if(typeof p=="number")c=p-1;else{if(p===ht)return ht;p===Os&&(r.items.splice(c,1),c-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,s))}}return typeof n=="function"?n(e,s):n}const Xe="\uFEFF",ze="",Ze="",Ne="",jn=s=>!!s&&"items"in s,Kn=s=>!!s&&(s.type==="scalar"||s.type==="single-quoted-scalar"||s.type==="double-quoted-scalar"||s.type==="block-scalar");function Dn(s){switch(s){case Xe:return"<BOM>";case ze:return"<DOC>";case Ze:return"<FLOW_END>";case Ne:return"<SCALAR>";default:return JSON.stringify(s)}}function Es(s){switch(s){case Xe:return"byte-order-mark";case ze:return"doc-mode";case Ze:return"flow-error-end";case Ne:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(s[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const qn=Object.freeze(Object.defineProperty({__proto__:null,BOM:Xe,DOCUMENT:ze,FLOW_END:Ze,SCALAR:Ne,createScalarToken:Cn,isCollection:jn,isScalar:Kn,prettyToken:Dn,resolveAsScalar:_n,setScalarValue:vn,stringify:Mn,tokenType:Es,visit:x},Symbol.toStringTag,{value:"Module"}));function j(s){switch(s){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Kt="0123456789ABCDEFabcdef".split(""),Fn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),ot=",[]{}".split(""),Un=` ,[]{}
\r	`.split(""),lt=s=>!s||Un.includes(s);class Is{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){var n;e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let i=(n=this.next)!=null?n:"stream";for(;i&&(t||this.hasChars(1));)i=yield*pr(h(this.parseNext(i)))}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){const i=this.buffer[n+e+1];if(i===`
`||!i&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&j(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*pr(h(this.parseStream()));case"line-start":return yield*pr(h(this.parseLineStart()));case"block-start":return yield*pr(h(this.parseBlockStart()));case"doc":return yield*pr(h(this.parseDocument()));case"flow":return yield*pr(h(this.parseFlowCollection()));case"quoted-scalar":return yield*pr(h(this.parseQuotedScalar()));case"block-scalar":return yield*pr(h(this.parseBlockScalar()));case"plain-scalar":return yield*pr(h(this.parsePlainScalar()))}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Xe&&(yield*pr(h(this.pushCount(1))),e=e.substring(1)),e[0]==="%"){let t=e.length;const n=e.indexOf("#");if(n!==-1){const r=e[n-1];(r===" "||r==="	")&&(t=n-1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const i=(yield*pr(h(this.pushCount(t))))+(yield*pr(h(this.pushSpaces(!0))));return yield*pr(h(this.pushCount(e.length-i))),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*pr(h(this.pushSpaces(!0)));return yield*pr(h(this.pushCount(e.length-t))),yield*pr(h(this.pushNewline())),"stream"}return yield ze,yield*pr(h(this.parseLineStart()))}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&j(this.charAt(3)))return yield*pr(h(this.pushCount(3))),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&j(this.charAt(3)))return yield*pr(h(this.pushCount(3))),"stream"}return this.indentValue=yield*pr(h(this.pushSpaces(!1))),this.indentNext>this.indentValue&&!j(this.charAt(1))&&(this.indentNext=this.indentValue),yield*pr(h(this.parseBlockStart()))}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&j(t)){const n=(yield*pr(h(this.pushCount(1))))+(yield*pr(h(this.pushSpaces(!0))));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*pr(h(this.parseBlockStart()))}return"doc"}*parseDocument(){yield*pr(h(this.pushSpaces(!0)));const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*pr(h(this.pushIndicators()));switch(e[t]){case"#":yield*pr(h(this.pushCount(e.length-t)));case void 0:return yield*pr(h(this.pushNewline())),yield*pr(h(this.parseLineStart()));case"{":case"[":return yield*pr(h(this.pushCount(1))),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*pr(h(this.pushCount(1))),"doc";case"*":return yield*pr(h(this.pushUntil(lt))),"doc";case'"':case"'":return yield*pr(h(this.parseQuotedScalar()));case"|":case">":return t+=yield*pr(h(this.parseBlockScalarHeader())),t+=yield*pr(h(this.pushSpaces(!0))),yield*pr(h(this.pushCount(e.length-t))),yield*pr(h(this.pushNewline())),yield*pr(h(this.parseBlockScalar()));default:return yield*pr(h(this.parsePlainScalar()))}}*parseFlowCollection(){let e,t,n=-1;do e=yield*pr(h(this.pushNewline())),e>0?(t=yield*pr(h(this.pushSpaces(!1))),this.indentValue=n=t):t=0,t+=yield*pr(h(this.pushSpaces(!0)));while(e+t>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&j(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Ze,yield*pr(h(this.parseLineStart()));let r=0;for(;i[r]===",";)r+=yield*pr(h(this.pushCount(1))),r+=yield*pr(h(this.pushSpaces(!0))),this.flowKey=!1;switch(r+=yield*pr(h(this.pushIndicators())),i[r]){case void 0:return"flow";case"#":return yield*pr(h(this.pushCount(i.length-r))),"flow";case"{":case"[":return yield*pr(h(this.pushCount(1))),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*pr(h(this.pushCount(1))),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*pr(h(this.pushUntil(lt))),"flow";case'"':case"'":return this.flowKey=!0,yield*pr(h(this.parseQuotedScalar()));case":":{const c=this.charAt(1);if(this.flowKey||j(c)||c===",")return this.flowKey=!1,yield*pr(h(this.pushCount(1))),yield*pr(h(this.pushSpaces(!0))),"flow"}default:return this.flowKey=!1,yield*pr(h(this.parsePlainScalar()))}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=n.indexOf(`
`,r)}i!==-1&&(t=i-(n[i-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*pr(h(this.pushToIndex(t+1,!1))),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*pr(h(this.pushUntil(t=>j(t)||t==="#")))}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":t+=1;break;case`
`:e=i,t=0;break;case"\r":{const r=this.buffer[i+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,r=this.buffer[i];r==="\r"&&(r=this.buffer[--i]);const c=i;for(;r===" "||r==="	";)r=this.buffer[--i];if(r===`
`&&i>=this.pos&&i+1+t>c)e=i;else break}while(!0);return yield Ne,yield*pr(h(this.pushToIndex(e+1,!0))),yield*pr(h(this.parseLineStart()))}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){const r=this.buffer[n+1];if(j(r)||e&&r===",")break;t=n}else if(j(i)){let r=this.buffer[n+1];if(i==="\r"&&(r===`
`?(n+=1,i=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&ot.includes(r))break;if(i===`
`){const c=this.continueScalar(n+1);if(c===-1)break;n=Math.max(n,c-2)}}else{if(e&&ot.includes(i))break;t=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Ne,yield*pr(h(this.pushToIndex(t+1,!0))),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*pr(h(this.pushTag())))+(yield*pr(h(this.pushSpaces(!0))))+(yield*pr(h(this.pushIndicators())));case"&":return(yield*pr(h(this.pushUntil(lt))))+(yield*pr(h(this.pushSpaces(!0))))+(yield*pr(h(this.pushIndicators())));case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(j(t)||e&&ot.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*pr(h(this.pushCount(1))))+(yield*pr(h(this.pushSpaces(!0))))+(yield*pr(h(this.pushIndicators())))}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!j(t)&&t!==">";)t=this.buffer[++e];return yield*pr(h(this.pushToIndex(t===">"?e+1:e,!1)))}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Fn.includes(t))t=this.buffer[++e];else if(t==="%"&&Kt.includes(this.buffer[e+1])&&Kt.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*pr(h(this.pushToIndex(e,!1)))}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*pr(h(this.pushCount(1))):e==="\r"&&this.charAt(1)===`
`?yield*pr(h(this.pushCount(2))):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");const i=t-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=t),i}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*pr(h(this.pushToIndex(t,!1)))}}class Ls{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const i=this.lineStarts[t-1];return{line:t,col:e-i+1}}}}function q(s,e){for(let t=0;t<s.length;++t)if(s[t].type===e)return!0;return!1}function Dt(s){for(let e=0;e<s.length;++e)switch(s[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ts(s){switch(s==null?void 0:s.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function $e(s){var e;switch(s.type){case"document":return s.start;case"block-map":{const t=s.items[s.items.length-1];return(e=t.sep)!=null?e:t.start}case"block-seq":return s.items[s.items.length-1].start;default:return[]}}function ie(s){var e;if(s.length===0)return[];let t=s.length;e:for(;--t>=0;)switch(s[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((e=s[++t])==null?void 0:e.type)==="space";);return s.splice(t,s.length)}function qt(s){if(s.start.type==="flow-seq-start")for(const e of s.items)e.sep&&!e.value&&!q(e.start,"explicit-key-ind")&&!q(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Ts(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Lt{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Is,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*pr(h(this.next(n)));t||(yield*pr(h(this.end())))}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*pr(h(this.step())),this.offset+=e.length;return}const t=Es(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*pr(h(this.step())),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*pr(h(this.pop({type:"error",offset:this.offset,message:n,source:e}))),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*pr(h(this.pop()))}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*pr(h(this.pop()));this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*pr(h(this.stream()));switch(e.type){case"document":return yield*pr(h(this.document(e)));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*pr(h(this.scalar(e)));case"block-scalar":return yield*pr(h(this.blockScalar(e)));case"block-map":return yield*pr(h(this.blockMap(e)));case"block-seq":return yield*pr(h(this.blockSequence(e)));case"flow-collection":return yield*pr(h(this.flowCollection(e)));case"doc-end":return yield*pr(h(this.documentEnd(e)))}yield*pr(h(this.pop()))}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e!=null?e:this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{const n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&qt(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{const i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=t;else{Object.assign(i,{key:t,sep:[]}),this.onKeyLine=!q(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:t}):i.value=t;break}case"flow-collection":{const i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:t,sep:[]}):i.sep?i.value=t:Object.assign(i,{key:t,sep:[]});return}default:yield*pr(h(this.pop())),yield*pr(h(this.pop(t)))}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const i=t.items[t.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Dt(i.start)===-1&&(t.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*pr(h(this.lineEnd(e)));switch(this.type){case"doc-start":{Dt(e.start)!==-1?(yield*pr(h(this.pop())),yield*pr(h(this.step()))):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=$e(this.peek(2)),n=ie(t);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*pr(h(this.lineEnd(e)))}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*pr(h(this.pop()));break;default:yield*pr(h(this.pop())),yield*pr(h(this.step()))}}*blockMap(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(t=i==null?void 0:i.value)==null?void 0:t.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent&&n.sep;let r=[];if(i&&n.sep&&!n.value){const c=[];for(let p=0;p<n.sep.length;++p){const f=n.sep[p];switch(f.type){case"newline":c.push(p);break;case"space":break;case"comment":f.indent>e.indent&&(c.length=0);break;default:c.length=0}}c.length>=2&&(r=n.sep.splice(c[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!q(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(q(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(q(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Ts(n.key)&&!q(n.sep,"newline")){const c=ie(n.start),p=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:p,sep:f}]})}else r.length>0?n.sep=n.sep.concat(r,this.sourceToken):n.sep.push(this.sourceToken);else if(q(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const c=ie(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:r,key:null,sep:[this.sourceToken]}):q(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const c=this.flowScalar(this.type);i||n.value?(e.items.push({start:r,key:c,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(c):(Object.assign(n,{key:c,sep:[]}),this.onKeyLine=!0);return}default:{const c=this.startBlockValue(e);if(c){i&&c.type!=="block-seq"&&q(n.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(c);return}}}}yield*pr(h(this.pop())),yield*pr(h(this.step()))}*blockSequence(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(t=i==null?void 0:i.value)==null?void 0:t.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||q(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*pr(h(this.pop())),yield*pr(h(this.step()))}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*pr(h(this.pop())),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:i,sep:[]}):t.sep?this.stack.push(i):Object.assign(t,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*pr(h(this.pop())),yield*pr(h(this.step())))}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*pr(h(this.pop())),yield*pr(h(this.step()));else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const i=$e(n),r=ie(i);qt(e);const c=e.end.splice(1,e.end.length);c.push(this.sourceToken);const p={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:c}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=p}else yield*pr(h(this.lineEnd(e)))}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=$e(e),n=ie(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const t=$e(e),n=ie(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*pr(h(this.pop()))))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*pr(h(this.pop())),yield*pr(h(this.step()));break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*pr(h(this.pop())))}}}function $s(s){const e=s.prettyErrors!==!1;return{lineCounter:s.lineCounter||e&&new Ls||null,prettyErrors:e}}function Rn(s,e={}){const{lineCounter:t,prettyErrors:n}=$s(e),i=new Lt(t==null?void 0:t.addNewLine),r=new It(e),c=Array.from(r.compose(i.parse(s)));if(n&&t)for(const p of c)p.errors.forEach(je(s,t)),p.warnings.forEach(je(s,t));return c.length>0?c:Object.assign([],{empty:!0},r.streamInfo())}function _s(s,e={}){const{lineCounter:t,prettyErrors:n}=$s(e),i=new Lt(t==null?void 0:t.addNewLine),r=new It(e);let c=null;for(const p of r.compose(i.parse(s),!0,s.length))if(!c)c=p;else if(c.options.logLevel!=="silent"){c.errors.push(new z(p.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(c.errors.forEach(je(s,t)),c.warnings.forEach(je(s,t))),c}function Vn(s,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);const i=_s(s,t);if(!i)return null;if(i.warnings.forEach(r=>zt(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},t))}function Jn(s,e,t){var n;let i=null;if(typeof e=="function"||Array.isArray(e)?i=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(s===void 0){const{keepUndefined:r}=(n=t!=null?t:e)!=null?n:{};if(!r)return}return new me(s,i,t).toString(t)}const Gn=Object.freeze(Object.defineProperty({__proto__:null,Alias:qe,CST:qn,Composer:It,Document:me,Lexer:Is,LineCounter:Ls,Pair:C,Parser:Lt,Scalar:A,Schema:He,YAMLError:At,YAMLMap:K,YAMLParseError:z,YAMLSeq:se,YAMLWarning:ms,isAlias:ee,isCollection:T,isDocument:Oe,isMap:te,isNode:$,isPair:L,isScalar:E,isSeq:he,parse:Vn,parseAllDocuments:Rn,parseDocument:_s,stringify:Jn,visit:Q,visitAsync:De},Symbol.toStringTag,{value:"Module"})),indexGfxNFmh=Object.freeze(Object.defineProperty({__proto__:null,Alias:qe,CST:qn,Composer:It,Document:me,Lexer:Is,LineCounter:Ls,Pair:C,Parser:Lt,Scalar:A,Schema:He,YAMLError:At,YAMLMap:K,YAMLParseError:z,YAMLSeq:se,YAMLWarning:ms,default:Gn,isAlias:ee,isCollection:T,isDocument:Oe,isMap:te,isNode:$,isPair:L,isScalar:E,isSeq:he,parse:Vn,parseAllDocuments:Rn,parseDocument:_s,stringify:Jn,visit:Q,visitAsync:De},Symbol.toStringTag,{value:"Module"}))});
