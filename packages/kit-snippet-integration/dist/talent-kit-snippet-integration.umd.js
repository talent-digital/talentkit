(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";var sl=Object.defineProperty,ol=Object.defineProperties;var il=Object.getOwnPropertyDescriptors;var Ri=Object.getOwnPropertySymbols;var al=Object.prototype.hasOwnProperty,ll=Object.prototype.propertyIsEnumerable;var Co=(s,e)=>{if(e=Symbol[s])return e;throw Error("Symbol."+s+" is not defined")};var Pi=(s,e,t)=>e in s?sl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Io=(s,e)=>{for(var t in e||(e={}))al.call(e,t)&&Pi(s,t,e[t]);if(Ri)for(var t of Ri(e))ll.call(e,t)&&Pi(s,t,e[t]);return s},Ro=(s,e)=>ol(s,il(e));var cl=function(s,e){this[0]=s,this[1]=e};var gr=s=>{var e=s[Co("asyncIterator")],t=!1,n,l={};return e==null?(e=s[Co("iterator")](),n=r=>l[r]=f=>e[r](f)):(e=e.call(s),n=r=>l[r]=f=>{if(t){if(t=!1,r==="throw")throw f;return f}return t=!0,{done:!1,value:new cl(new Promise(p=>{var I=e[r](f);if(!(I instanceof Object))throw TypeError("Object expected");p(I)}),1)}}),l[Co("iterator")]=()=>l,n("next"),"throw"in e?n("throw"):l.throw=r=>{throw r},"return"in e&&n("return"),l};function _mergeNamespaces(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in s)){const r=Object.getOwnPropertyDescriptor(n,l);r&&Object.defineProperty(s,l,r.get?r:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;function getLens(s){var e=s.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=s.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function byteLength(s){var e=getLens(s),t=e[0],n=e[1];return(t+n)*3/4-n}function _byteLength(s,e,t){return(e+t)*3/4-t}function toByteArray(s){var e,t=getLens(s),n=t[0],l=t[1],r=new Arr(_byteLength(s,n,l)),f=0,p=l>0?n-4:n,I;for(I=0;I<p;I+=4)e=revLookup[s.charCodeAt(I)]<<18|revLookup[s.charCodeAt(I+1)]<<12|revLookup[s.charCodeAt(I+2)]<<6|revLookup[s.charCodeAt(I+3)],r[f++]=e>>16&255,r[f++]=e>>8&255,r[f++]=e&255;return l===2&&(e=revLookup[s.charCodeAt(I)]<<2|revLookup[s.charCodeAt(I+1)]>>4,r[f++]=e&255),l===1&&(e=revLookup[s.charCodeAt(I)]<<10|revLookup[s.charCodeAt(I+1)]<<4|revLookup[s.charCodeAt(I+2)]>>2,r[f++]=e>>8&255,r[f++]=e&255),r}function tripletToBase64(s){return lookup[s>>18&63]+lookup[s>>12&63]+lookup[s>>6&63]+lookup[s&63]}function encodeChunk(s,e,t){for(var n,l=[],r=e;r<t;r+=3)n=(s[r]<<16&16711680)+(s[r+1]<<8&65280)+(s[r+2]&255),l.push(tripletToBase64(n));return l.join("")}function fromByteArray(s){for(var e,t=s.length,n=t%3,l=[],r=16383,f=0,p=t-n;f<p;f+=r)l.push(encodeChunk(s,f,f+r>p?p:f+r));return n===1?(e=s[t-1],l.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(s[t-2]<<8)+s[t-1],l.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),l.join("")}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var createOutputMethod=function(s,e){return function(t){return new Sha256(e,!0).update(t)[s]()}},createMethod=function(s){var e=createOutputMethod("hex",s);NODE_JS&&(e=nodeWrap(e,s)),e.create=function(){return new Sha256(s)},e.update=function(l){return e.create().update(l)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n,s)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(s){if(typeof s=="string")return crypto.createHash(algorithm).update(s,"utf8").digest("hex");if(s==null)throw new Error(ERROR);return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(s)).digest("hex"):method(s)};return nodeMethod},createHmacOutputMethod=function(s,e){return function(t,n){return new HmacSha256(t,e,!0).update(n)[s]()}},createHmacMethod=function(s){var e=createHmacOutputMethod("hex",s);e.create=function(l){return new HmacSha256(l,s)},e.update=function(l,r){return e.create(l).update(r)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createHmacOutputMethod(n,s)}return e};function Sha256(s,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=s}Sha256.prototype.update=function(s){if(!this.finalized){var e,t=typeof s;if(t!=="string"){if(t==="object"){if(s===null)throw new Error(ERROR);if(ARRAY_BUFFER&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(s)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,l=0,r,f=s.length,p=this.blocks;l<f;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),e)for(r=this.start;l<f&&r<64;++l)p[r>>2]|=s[l]<<SHIFT[r++&3];else for(r=this.start;l<f&&r<64;++l)n=s.charCodeAt(l),n<128?p[r>>2]|=n<<SHIFT[r++&3]:n<2048?(p[r>>2]|=(192|n>>6)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]):n<55296||n>=57344?(p[r>>2]|=(224|n>>12)<<SHIFT[r++&3],p[r>>2]|=(128|n>>6&63)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]):(n=65536+((n&1023)<<10|s.charCodeAt(++l)&1023),p[r>>2]|=(240|n>>18)<<SHIFT[r++&3],p[r>>2]|=(128|n>>12&63)<<SHIFT[r++&3],p[r>>2]|=(128|n>>6&63)<<SHIFT[r++&3],p[r>>2]|=(128|n&63)<<SHIFT[r++&3]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=p[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,e=this.lastByteIndex;s[16]=this.block,s[e>>2]|=EXTRA[e&3],this.block=s[16],e>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var s=this.h0,e=this.h1,t=this.h2,n=this.h3,l=this.h4,r=this.h5,f=this.h6,p=this.h7,I=this.blocks,g,Xn,Yn,nr,Wn,or,Qn,lr,er,zn,sr;for(g=16;g<64;++g)Wn=I[g-15],Xn=(Wn>>>7|Wn<<25)^(Wn>>>18|Wn<<14)^Wn>>>3,Wn=I[g-2],Yn=(Wn>>>17|Wn<<15)^(Wn>>>19|Wn<<13)^Wn>>>10,I[g]=I[g-16]+Xn+I[g-7]+Yn<<0;for(sr=e&t,g=0;g<64;g+=4)this.first?(this.is224?(lr=300032,Wn=I[0]-1413257819,p=Wn-150054599<<0,n=Wn+24177077<<0):(lr=704751109,Wn=I[0]-210244248,p=Wn-1521486534<<0,n=Wn+143694565<<0),this.first=!1):(Xn=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),Yn=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),lr=s&e,nr=lr^s&t^sr,Qn=l&r^~l&f,Wn=p+Yn+Qn+K[g]+I[g],or=Xn+nr,p=n+Wn<<0,n=Wn+or<<0),Xn=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),Yn=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),er=n&s,nr=er^n&e^lr,Qn=p&l^~p&r,Wn=f+Yn+Qn+K[g+1]+I[g+1],or=Xn+nr,f=t+Wn<<0,t=Wn+or<<0,Xn=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),Yn=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),zn=t&n,nr=zn^t&s^er,Qn=f&p^~f&l,Wn=r+Yn+Qn+K[g+2]+I[g+2],or=Xn+nr,r=e+Wn<<0,e=Wn+or<<0,Xn=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),Yn=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),sr=e&t,nr=sr^e&n^zn,Qn=r&f^~r&p,Wn=l+Yn+Qn+K[g+3]+I[g+3],or=Xn+nr,l=s+Wn<<0,s=Wn+or<<0;this.h0=this.h0+s<<0,this.h1=this.h1+e<<0,this.h2=this.h2+t<<0,this.h3=this.h3+n<<0,this.h4=this.h4+l<<0,this.h5=this.h5+r<<0,this.h6=this.h6+f<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var s=this.h0,e=this.h1,t=this.h2,n=this.h3,l=this.h4,r=this.h5,f=this.h6,p=this.h7,I=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15];return this.is224||(I+=HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[p&15]),I},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var s=this.h0,e=this.h1,t=this.h2,n=this.h3,l=this.h4,r=this.h5,f=this.h6,p=this.h7,I=[s>>24&255,s>>16&255,s>>8&255,s&255,e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,l>>24&255,l>>16&255,l>>8&255,l&255,r>>24&255,r>>16&255,r>>8&255,r&255,f>>24&255,f>>16&255,f>>8&255,f&255];return this.is224||I.push(p>>24&255,p>>16&255,p>>8&255,p&255),I},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(this.is224?28:32),e=new DataView(s);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),s};function HmacSha256(s,e,t){var n,l=typeof s;if(l==="string"){var r=[],f=s.length,p=0,I;for(n=0;n<f;++n)I=s.charCodeAt(n),I<128?r[p++]=I:I<2048?(r[p++]=192|I>>6,r[p++]=128|I&63):I<55296||I>=57344?(r[p++]=224|I>>12,r[p++]=128|I>>6&63,r[p++]=128|I&63):(I=65536+((I&1023)<<10|s.charCodeAt(++n)&1023),r[p++]=240|I>>18,r[p++]=128|I>>12&63,r[p++]=128|I>>6&63,r[p++]=128|I&63);s=r}else if(l==="object"){if(s===null)throw new Error(ERROR);if(ARRAY_BUFFER&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(s)))throw new Error(ERROR)}else throw new Error(ERROR);s.length>64&&(s=new Sha256(e,!0).update(s).array());var g=[],Xn=[];for(n=0;n<64;++n){var Yn=s[n]||0;g[n]=92^Yn,Xn[n]=54^Yn}Sha256.call(this,e,t),this.update(Xn),this.oKeyPad=g,this.inner=!0,this.sharedMemory=t}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var s=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(s),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var sha256Exports=sha256$1.exports;const sha256=getDefaultExportFromCjs(sha256Exports);if(typeof Promise=="undefined")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var loggedPromiseDeprecation=!1;function logPromiseDeprecation(){loggedPromiseDeprecation||(loggedPromiseDeprecation=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function Keycloak(s){if(!(this instanceof Keycloak))return new Keycloak(s);for(var e=this,t,n=[],l,r={enable:!0,callbackList:[],interval:5},f=document.getElementsByTagName("script"),p=0;p<f.length;p++)(f[p].src.indexOf("keycloak.js")!==-1||f[p].src.indexOf("keycloak.min.js")!==-1)&&f[p].src.indexOf("version=")!==-1&&(e.iframeVersion=f[p].src.substring(f[p].src.indexOf("version=")+8).split("&")[0]);var I=!0,g=Lr(console.info),Xn=Lr(console.warn);e.init=function(Zn){e.authenticated=!1,l=Mr();var cr=["default","cordova","cordova-native"];if(Zn&&cr.indexOf(Zn.adapter)>-1?t=Hr(Zn.adapter):Zn&&typeof Zn.adapter=="object"?t=Zn.adapter:window.Cordova||window.cordova?t=Hr("cordova"):t=Hr(),Zn){if(typeof Zn.useNonce!="undefined"&&(I=Zn.useNonce),typeof Zn.checkLoginIframe!="undefined"&&(r.enable=Zn.checkLoginIframe),Zn.checkLoginIframeInterval&&(r.interval=Zn.checkLoginIframeInterval),Zn.onLoad==="login-required"&&(e.loginRequired=!0),Zn.responseMode)if(Zn.responseMode==="query"||Zn.responseMode==="fragment")e.responseMode=Zn.responseMode;else throw"Invalid value for responseMode";if(Zn.flow){switch(Zn.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=Zn.flow}if(Zn.timeSkew!=null&&(e.timeSkew=Zn.timeSkew),Zn.redirectUri&&(e.redirectUri=Zn.redirectUri),Zn.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=Zn.silentCheckSsoRedirectUri),typeof Zn.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=Zn.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,Zn.pkceMethod){if(Zn.pkceMethod!=="S256")throw"Invalid value for pkceMethod";e.pkceMethod=Zn.pkceMethod}typeof Zn.enableLogging=="boolean"?e.enableLogging=Zn.enableLogging:e.enableLogging=!1,typeof Zn.scope=="string"&&(e.scope=Zn.scope),typeof Zn.messageReceiveTimeout=="number"&&Zn.messageReceiveTimeout>0?e.messageReceiveTimeout=Zn.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var mr=Ar(),kr=Ar();kr.promise.then(function(){e.onReady&&e.onReady(e.authenticated),mr.setSuccess(e.authenticated)}).catch(function(Pr){mr.setError(Pr)});var yr=sr();function dr(){var Pr=function(zr){zr||(Nr.prompt="none"),e.login(Nr).then(function(){kr.setSuccess()}).catch(function(oo){kr.setError(oo)})},Cr=function(){var zr=document.createElement("iframe"),oo=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});zr.setAttribute("src",oo),zr.setAttribute("title","keycloak-silent-check-sso"),zr.style.display="none",document.body.appendChild(zr);var Zr=function(Cs){if(!(Cs.origin!==window.location.origin||zr.contentWindow!==Cs.source)){var yo=hr(Cs.data);zn(yo,kr),document.body.removeChild(zr),window.removeEventListener("message",Zr)}};window.addEventListener("message",Zr)},Nr={};switch(Zn.onLoad){case"check-sso":r.enable?_r().then(function(){Ur().then(function(zr){zr?kr.setSuccess():e.silentCheckSsoRedirectUri?Cr():Pr(!1)}).catch(function(zr){kr.setError(zr)})}):e.silentCheckSsoRedirectUri?Cr():Pr(!1);break;case"login-required":Pr(!0);break;default:throw"Invalid value for onLoad"}}function Tr(){var Pr=hr(window.location.href);if(Pr&&window.history.replaceState(window.history.state,null,Pr.newUrl),Pr&&Pr.valid)return _r().then(function(){zn(Pr,kr)}).catch(function(Cr){kr.setError(Cr)});Zn?Zn.token&&Zn.refreshToken?(ir(Zn.token,Zn.refreshToken,Zn.idToken),r.enable?_r().then(function(){Ur().then(function(Cr){Cr?(e.onAuthSuccess&&e.onAuthSuccess(),kr.setSuccess(),xr()):kr.setSuccess()}).catch(function(Cr){kr.setError(Cr)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),kr.setSuccess()}).catch(function(Cr){e.onAuthError&&e.onAuthError(),Zn.onLoad?dr():kr.setError(Cr)})):Zn.onLoad?dr():kr.setSuccess():kr.setSuccess()}function Or(){var Pr=Ar(),Cr=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",Cr),Pr.setSuccess())};return document.addEventListener("readystatechange",Cr),Cr(),Pr.promise}return yr.then(function(){Or().then(Dr).then(Tr).catch(function(Pr){mr.setError(Pr)})}),yr.catch(function(Pr){mr.setError(Pr)}),mr.promise},e.login=function(Zn){return t.login(Zn)};function Yn(Zn){var cr=null,mr=window.crypto||window.msCrypto;if(mr&&mr.getRandomValues&&window.Uint8Array)return cr=new Uint8Array(Zn),mr.getRandomValues(cr),cr;cr=new Array(Zn);for(var kr=0;kr<cr.length;kr++)cr[kr]=Math.floor(256*Math.random());return cr}function nr(Zn){return Wn(Zn,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function Wn(Zn,cr){for(var mr=Yn(Zn),kr=new Array(Zn),yr=0;yr<Zn;yr++)kr[yr]=cr.charCodeAt(mr[yr]%cr.length);return String.fromCharCode.apply(null,kr)}function or(Zn,cr){switch(Zn){case"S256":var mr=new Uint8Array(sha256.arrayBuffer(cr)),kr=base64Js.fromByteArray(mr).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return kr;default:throw"Invalid value for pkceMethod"}}function Qn(Zn){var cr={id_token:{acr:Zn}};return JSON.stringify(cr)}e.createLoginUrl=function(Zn){var cr=fr(),mr=fr(),kr=t.redirectUri(Zn),yr={state:cr,nonce:mr,redirectUri:encodeURIComponent(kr)};Zn&&Zn.prompt&&(yr.prompt=Zn.prompt);var dr;Zn&&Zn.action=="register"?dr=e.endpoints.register():dr=e.endpoints.authorize();var Tr=Zn&&Zn.scope||e.scope;Tr?Tr.indexOf("openid")===-1&&(Tr="openid "+Tr):Tr="openid";var Or=dr+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(kr)+"&state="+encodeURIComponent(cr)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(Tr);if(I&&(Or=Or+"&nonce="+encodeURIComponent(mr)),Zn&&Zn.prompt&&(Or+="&prompt="+encodeURIComponent(Zn.prompt)),Zn&&Zn.maxAge&&(Or+="&max_age="+encodeURIComponent(Zn.maxAge)),Zn&&Zn.loginHint&&(Or+="&login_hint="+encodeURIComponent(Zn.loginHint)),Zn&&Zn.idpHint&&(Or+="&kc_idp_hint="+encodeURIComponent(Zn.idpHint)),Zn&&Zn.action&&Zn.action!="register"&&(Or+="&kc_action="+encodeURIComponent(Zn.action)),Zn&&Zn.locale&&(Or+="&ui_locales="+encodeURIComponent(Zn.locale)),Zn&&Zn.acr){var Pr=Qn(Zn.acr);Or+="&claims="+encodeURIComponent(Pr)}if(e.pkceMethod){var Cr=nr(96);yr.pkceCodeVerifier=Cr;var Nr=or(e.pkceMethod,Cr);Or+="&code_challenge="+Nr,Or+="&code_challenge_method="+e.pkceMethod}return l.add(yr),Or},e.logout=function(Zn){return t.logout(Zn)},e.createLogoutUrl=function(Zn){var cr=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(t.redirectUri(Zn,!1));return e.idToken&&(cr+="&id_token_hint="+encodeURIComponent(e.idToken)),cr},e.register=function(Zn){return t.register(Zn)},e.createRegisterUrl=function(Zn){return Zn||(Zn={}),Zn.action="register",e.createLoginUrl(Zn)},e.createAccountUrl=function(Zn){var cr=lr(),mr=void 0;return typeof cr!="undefined"&&(mr=cr+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(t.redirectUri(Zn))),mr},e.accountManagement=function(){return t.accountManagement()},e.hasRealmRole=function(Zn){var cr=e.realmAccess;return!!cr&&cr.roles.indexOf(Zn)>=0},e.hasResourceRole=function(Zn,cr){if(!e.resourceAccess)return!1;var mr=e.resourceAccess[cr||e.clientId];return!!mr&&mr.roles.indexOf(Zn)>=0},e.loadUserProfile=function(){var Zn=lr()+"/account",cr=new XMLHttpRequest;cr.open("GET",Zn,!0),cr.setRequestHeader("Accept","application/json"),cr.setRequestHeader("Authorization","bearer "+e.token);var mr=Ar();return cr.onreadystatechange=function(){cr.readyState==4&&(cr.status==200?(e.profile=JSON.parse(cr.responseText),mr.setSuccess(e.profile)):mr.setError())},cr.send(),mr.promise},e.loadUserInfo=function(){var Zn=e.endpoints.userinfo(),cr=new XMLHttpRequest;cr.open("GET",Zn,!0),cr.setRequestHeader("Accept","application/json"),cr.setRequestHeader("Authorization","bearer "+e.token);var mr=Ar();return cr.onreadystatechange=function(){cr.readyState==4&&(cr.status==200?(e.userInfo=JSON.parse(cr.responseText),mr.setSuccess(e.userInfo)):mr.setError())},cr.send(),mr.promise},e.isTokenExpired=function(Zn){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return g("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var cr=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(Zn){if(isNaN(Zn))throw"Invalid minValidity";cr-=Zn}return cr<0},e.updateToken=function(Zn){var cr=Ar();if(!e.refreshToken)return cr.setError(),cr.promise;Zn=Zn||5;var mr=function(){var yr=!1;if(Zn==-1?(yr=!0,g("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(Zn))&&(yr=!0,g("[KEYCLOAK] Refreshing token: token expired")),!yr)cr.setSuccess(!1);else{var dr="grant_type=refresh_token&refresh_token="+e.refreshToken,Tr=e.endpoints.token();if(n.push(cr),n.length==1){var Or=new XMLHttpRequest;Or.open("POST",Tr,!0),Or.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Or.withCredentials=!0,dr+="&client_id="+encodeURIComponent(e.clientId);var Pr=new Date().getTime();Or.onreadystatechange=function(){if(Or.readyState==4)if(Or.status==200){g("[KEYCLOAK] Token refreshed"),Pr=(Pr+new Date().getTime())/2;var Cr=JSON.parse(Or.responseText);ir(Cr.access_token,Cr.refresh_token,Cr.id_token,Pr),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var Nr=n.pop();Nr!=null;Nr=n.pop())Nr.setSuccess(!0)}else{Xn("[KEYCLOAK] Failed to refresh token"),Or.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var Nr=n.pop();Nr!=null;Nr=n.pop())Nr.setError(!0)}},Or.send(dr)}}};if(r.enable){var kr=Ur();kr.then(function(){mr()}).catch(function(yr){cr.setError(yr)})}else mr();return cr.promise},e.clearToken=function(){e.token&&(ir(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function lr(){if(typeof e.authServerUrl!="undefined")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function er(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function zn(Zn,cr){var mr=Zn.code,kr=Zn.error,yr=Zn.prompt,dr=new Date().getTime();if(Zn.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(Zn.kc_action_status),kr){if(yr!="none"){var Tr={error:kr,error_description:Zn.error_description};e.onAuthError&&e.onAuthError(Tr),cr&&cr.setError(Tr)}else cr&&cr.setSuccess();return}else e.flow!="standard"&&(Zn.access_token||Zn.id_token)&&Nr(Zn.access_token,null,Zn.id_token,!0);if(e.flow!="implicit"&&mr){var Or="code="+mr+"&grant_type=authorization_code",Pr=e.endpoints.token(),Cr=new XMLHttpRequest;Cr.open("POST",Pr,!0),Cr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Or+="&client_id="+encodeURIComponent(e.clientId),Or+="&redirect_uri="+Zn.redirectUri,Zn.pkceCodeVerifier&&(Or+="&code_verifier="+Zn.pkceCodeVerifier),Cr.withCredentials=!0,Cr.onreadystatechange=function(){if(Cr.readyState==4)if(Cr.status==200){var zr=JSON.parse(Cr.responseText);Nr(zr.access_token,zr.refresh_token,zr.id_token,e.flow==="standard"),xr()}else e.onAuthError&&e.onAuthError(),cr&&cr.setError()},Cr.send(Or)}function Nr(zr,oo,Zr,Cs){dr=(dr+new Date().getTime())/2,ir(zr,oo,Zr,dr),I&&(e.tokenParsed&&e.tokenParsed.nonce!=Zn.storedNonce||e.refreshTokenParsed&&e.refreshTokenParsed.nonce!=Zn.storedNonce||e.idTokenParsed&&e.idTokenParsed.nonce!=Zn.storedNonce)?(g("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),cr&&cr.setError()):Cs&&(e.onAuthSuccess&&e.onAuthSuccess(),cr&&cr.setSuccess())}}function sr(Zn){var cr=Ar(),mr;s?typeof s=="string"&&(mr=s):mr="keycloak.json";function kr(Cr){Cr?e.endpoints={authorize:function(){return Cr.authorization_endpoint},token:function(){return Cr.token_endpoint},logout:function(){if(!Cr.end_session_endpoint)throw"Not supported by the OIDC server";return Cr.end_session_endpoint},checkSessionIframe:function(){if(!Cr.check_session_iframe)throw"Not supported by the OIDC server";return Cr.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!Cr.userinfo_endpoint)throw"Not supported by the OIDC server";return Cr.userinfo_endpoint}}:e.endpoints={authorize:function(){return lr()+"/protocol/openid-connect/auth"},token:function(){return lr()+"/protocol/openid-connect/token"},logout:function(){return lr()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var Nr=lr()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(Nr=Nr+"?version="+e.iframeVersion),Nr},thirdPartyCookiesIframe:function(){var Nr=lr()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(Nr=Nr+"?version="+e.iframeVersion),Nr},register:function(){return lr()+"/protocol/openid-connect/registrations"},userinfo:function(){return lr()+"/protocol/openid-connect/userinfo"}}}if(mr){var yr=new XMLHttpRequest;yr.open("GET",mr,!0),yr.setRequestHeader("Accept","application/json"),yr.onreadystatechange=function(){if(yr.readyState==4)if(yr.status==200||rr(yr)){var Cr=JSON.parse(yr.responseText);e.authServerUrl=Cr["auth-server-url"],e.realm=Cr.realm,e.clientId=Cr.resource,kr(null),cr.setSuccess()}else cr.setError()},yr.send()}else{if(!s.clientId)throw"clientId missing";e.clientId=s.clientId;var dr=s.oidcProvider;if(dr)if(typeof dr=="string"){var Pr;dr.charAt(dr.length-1)=="/"?Pr=dr+".well-known/openid-configuration":Pr=dr+"/.well-known/openid-configuration";var yr=new XMLHttpRequest;yr.open("GET",Pr,!0),yr.setRequestHeader("Accept","application/json"),yr.onreadystatechange=function(){if(yr.readyState==4)if(yr.status==200||rr(yr)){var Nr=JSON.parse(yr.responseText);kr(Nr),cr.setSuccess()}else cr.setError()},yr.send()}else kr(dr),cr.setSuccess();else{if(!s.url){for(var Tr=document.getElementsByTagName("script"),Or=0;Or<Tr.length;Or++)if(Tr[Or].src.match(/.*keycloak\.js/)){s.url=Tr[Or].src.substr(0,Tr[Or].src.indexOf("/js/keycloak.js"));break}}if(!s.realm)throw"realm missing";e.authServerUrl=s.url,e.realm=s.realm,kr(null),cr.setSuccess()}}return cr.promise}function rr(Zn){return Zn.status==0&&Zn.responseText&&Zn.responseURL.startsWith("file:")}function ir(Zn,cr,mr,kr){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),cr?(e.refreshToken=cr,e.refreshTokenParsed=ar(cr)):(delete e.refreshToken,delete e.refreshTokenParsed),mr?(e.idToken=mr,e.idTokenParsed=ar(mr)):(delete e.idToken,delete e.idTokenParsed),Zn){if(e.token=Zn,e.tokenParsed=ar(Zn),e.sessionId=e.tokenParsed.session_state,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,kr&&(e.timeSkew=Math.floor(kr/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(g("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var yr=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;g("[KEYCLOAK] Token expires in "+Math.round(yr/1e3)+" s"),yr<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,yr)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function ar(Zn){switch(Zn=Zn.split(".")[1],Zn=Zn.replace(/-/g,"+"),Zn=Zn.replace(/_/g,"/"),Zn.length%4){case 0:break;case 2:Zn+="==";break;case 3:Zn+="=";break;default:throw"Invalid token"}return Zn=decodeURIComponent(escape(atob(Zn))),Zn=JSON.parse(Zn),Zn}function fr(){var Zn="0123456789abcdef",cr=Wn(36,Zn).split("");cr[14]="4",cr[19]=Zn.substr(cr[19]&3|8,1),cr[8]=cr[13]=cr[18]=cr[23]="-";var mr=cr.join("");return mr}function hr(Zn){var cr=wr(Zn);if(cr){var mr=l.get(cr.state);return mr&&(cr.valid=!0,cr.redirectUri=mr.redirectUri,cr.storedNonce=mr.nonce,cr.prompt=mr.prompt,cr.pkceCodeVerifier=mr.pkceCodeVerifier),cr}}function wr(Zn){var cr;switch(e.flow){case"standard":cr=["code","state","session_state","kc_action_status"];break;case"implicit":cr=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":cr=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}cr.push("error"),cr.push("error_description"),cr.push("error_uri");var mr=Zn.indexOf("?"),kr=Zn.indexOf("#"),yr,dr;if(e.responseMode==="query"&&mr!==-1?(yr=Zn.substring(0,mr),dr=Sr(Zn.substring(mr+1,kr!==-1?kr:Zn.length),cr),dr.paramsString!==""&&(yr+="?"+dr.paramsString),kr!==-1&&(yr+=Zn.substring(kr))):e.responseMode==="fragment"&&kr!==-1&&(yr=Zn.substring(0,kr),dr=Sr(Zn.substring(kr+1),cr),dr.paramsString!==""&&(yr+="#"+dr.paramsString)),dr&&dr.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((dr.oauthParams.code||dr.oauthParams.error)&&dr.oauthParams.state)return dr.oauthParams.newUrl=yr,dr.oauthParams}else if(e.flow==="implicit"&&(dr.oauthParams.access_token||dr.oauthParams.error)&&dr.oauthParams.state)return dr.oauthParams.newUrl=yr,dr.oauthParams}}function Sr(Zn,cr){for(var mr=Zn.split("&"),kr={paramsString:"",oauthParams:{}},yr=0;yr<mr.length;yr++){var dr=mr[yr].indexOf("="),Tr=mr[yr].slice(0,dr);cr.indexOf(Tr)!==-1?kr.oauthParams[Tr]=mr[yr].slice(dr+1):(kr.paramsString!==""&&(kr.paramsString+="&"),kr.paramsString+=mr[yr])}return kr}function Ar(){var Zn={setSuccess:function(cr){Zn.resolve(cr)},setError:function(cr){Zn.reject(cr)}};return Zn.promise=new Promise(function(cr,mr){Zn.resolve=cr,Zn.reject=mr}),Zn.promise.success=function(cr){return logPromiseDeprecation(),this.then(function(kr){cr(kr)}),this},Zn.promise.error=function(cr){return logPromiseDeprecation(),this.catch(function(kr){cr(kr)}),this},Zn}function Fr(Zn,cr,mr){var kr=null,yr=new Promise(function(dr,Tr){kr=setTimeout(function(){Tr({error:mr||"Promise is not settled within timeout of "+cr+"ms"})},cr)});return Promise.race([Zn,yr]).finally(function(){clearTimeout(kr)})}function _r(){var Zn=Ar();if(!r.enable||r.iframe)return Zn.setSuccess(),Zn.promise;var cr=document.createElement("iframe");r.iframe=cr,cr.onload=function(){var yr=e.endpoints.authorize();yr.charAt(0)==="/"?r.iframeOrigin=er():r.iframeOrigin=yr.substring(0,yr.indexOf("/",8)),Zn.setSuccess()};var mr=e.endpoints.checkSessionIframe();cr.setAttribute("src",mr),cr.setAttribute("title","keycloak-session-iframe"),cr.style.display="none",document.body.appendChild(cr);var kr=function(yr){if(!(yr.origin!==r.iframeOrigin||r.iframe.contentWindow!==yr.source)&&(yr.data=="unchanged"||yr.data=="changed"||yr.data=="error")){yr.data!="unchanged"&&e.clearToken();for(var dr=r.callbackList.splice(0,r.callbackList.length),Tr=dr.length-1;Tr>=0;--Tr){var Or=dr[Tr];yr.data=="error"?Or.setError():Or.setSuccess(yr.data=="unchanged")}}};return window.addEventListener("message",kr,!1),Zn.promise}function xr(){r.enable&&e.token&&setTimeout(function(){Ur().then(function(Zn){Zn&&xr()})},r.interval*1e3)}function Ur(){var Zn=Ar();if(r.iframe&&r.iframeOrigin){var cr=e.clientId+" "+(e.sessionId?e.sessionId:"");r.callbackList.push(Zn);var mr=r.iframeOrigin;r.callbackList.length==1&&r.iframe.contentWindow.postMessage(cr,mr)}else Zn.setSuccess();return Zn.promise}function Dr(){var Zn=Ar();if(r.enable||e.silentCheckSsoRedirectUri){var cr=document.createElement("iframe");cr.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),cr.setAttribute("title","keycloak-3p-check-iframe"),cr.style.display="none",document.body.appendChild(cr);var mr=function(kr){cr.contentWindow===kr.source&&(kr.data!=="supported"&&kr.data!=="unsupported"||(kr.data==="unsupported"&&(r.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1),Xn("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(cr),window.removeEventListener("message",mr),Zn.setSuccess()))};window.addEventListener("message",mr,!1)}else Zn.setSuccess();return Fr(Zn.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function Hr(Zn){if(!Zn||Zn=="default")return{login:function(dr){return window.location.replace(e.createLoginUrl(dr)),Ar().promise},logout:function(dr){return window.location.replace(e.createLogoutUrl(dr)),Ar().promise},register:function(dr){return window.location.replace(e.createRegisterUrl(dr)),Ar().promise},accountManagement:function(){var dr=e.createAccountUrl();if(typeof dr!="undefined")window.location.href=dr;else throw"Not supported by the OIDC server";return Ar().promise},redirectUri:function(dr,Tr){return dr&&dr.redirectUri?dr.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(Zn=="cordova"){r.enable=!1;var cr=function(dr,Tr,Or){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(dr,Tr,Or):window.open(dr,Tr,Or)},mr=function(dr){return dr&&dr.cordovaOptions?Object.keys(dr.cordovaOptions).reduce(function(Tr,Or){return Tr[Or]=dr.cordovaOptions[Or],Tr},{}):{}},kr=function(dr){return Object.keys(dr).reduce(function(Tr,Or){return Tr.push(Or+"="+dr[Or]),Tr},[]).join(",")},yr=function(dr){var Tr=mr(dr);return Tr.location="no",dr&&dr.prompt=="none"&&(Tr.hidden="yes"),kr(Tr)};return{login:function(dr){var Tr=Ar(),Or=yr(dr),Pr=e.createLoginUrl(dr),Cr=cr(Pr,"_blank",Or),Nr=!1,zr=!1,oo=function(){zr=!0,Cr.close()};return Cr.addEventListener("loadstart",function(Zr){if(Zr.url.indexOf("http://localhost")==0){var Cs=hr(Zr.url);zn(Cs,Tr),oo(),Nr=!0}}),Cr.addEventListener("loaderror",function(Zr){if(!Nr)if(Zr.url.indexOf("http://localhost")==0){var Cs=hr(Zr.url);zn(Cs,Tr),oo(),Nr=!0}else Tr.setError(),oo()}),Cr.addEventListener("exit",function(Zr){zr||Tr.setError({reason:"closed_by_user"})}),Tr.promise},logout:function(dr){var Tr=Ar(),Or=e.createLogoutUrl(dr),Pr=cr(Or,"_blank","location=no,hidden=yes,clearcache=yes"),Cr;return Pr.addEventListener("loadstart",function(Nr){Nr.url.indexOf("http://localhost")==0&&Pr.close()}),Pr.addEventListener("loaderror",function(Nr){Nr.url.indexOf("http://localhost")==0||(Cr=!0),Pr.close()}),Pr.addEventListener("exit",function(Nr){Cr?Tr.setError():(e.clearToken(),Tr.setSuccess())}),Tr.promise},register:function(dr){var Tr=Ar(),Or=e.createRegisterUrl(),Pr=yr(dr),Cr=cr(Or,"_blank",Pr);return Cr.addEventListener("loadstart",function(Nr){if(Nr.url.indexOf("http://localhost")==0){Cr.close();var zr=hr(Nr.url);zn(zr,Tr)}}),Tr.promise},accountManagement:function(){var dr=e.createAccountUrl();if(typeof dr!="undefined"){var Tr=cr(dr,"_blank","location=no");Tr.addEventListener("loadstart",function(Or){Or.url.indexOf("http://localhost")==0&&Tr.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(dr){return"http://localhost"}}}if(Zn=="cordova-native")return r.enable=!1,{login:function(dr){var Tr=Ar(),Or=e.createLoginUrl(dr);return universalLinks.subscribe("keycloak",function(Pr){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var Cr=hr(Pr.url);zn(Cr,Tr)}),window.cordova.plugins.browsertab.openUrl(Or),Tr.promise},logout:function(dr){var Tr=Ar(),Or=e.createLogoutUrl(dr);return universalLinks.subscribe("keycloak",function(Pr){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),Tr.setSuccess()}),window.cordova.plugins.browsertab.openUrl(Or),Tr.promise},register:function(dr){var Tr=Ar(),Or=e.createRegisterUrl(dr);return universalLinks.subscribe("keycloak",function(Pr){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var Cr=hr(Pr.url);zn(Cr,Tr)}),window.cordova.plugins.browsertab.openUrl(Or),Tr.promise},accountManagement:function(){var dr=e.createAccountUrl();if(typeof dr!="undefined")window.cordova.plugins.browsertab.openUrl(dr);else throw"Not supported by the OIDC server"},redirectUri:function(dr){return dr&&dr.redirectUri?dr.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+Zn}var Xr=function(){if(!(this instanceof Xr))return new Xr;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var Zn=this;function cr(){for(var mr=new Date().getTime(),kr=0;kr<localStorage.length;kr++){var yr=localStorage.key(kr);if(yr&&yr.indexOf("kc-callback-")==0){var dr=localStorage.getItem(yr);if(dr)try{var Tr=JSON.parse(dr).expires;(!Tr||Tr<mr)&&localStorage.removeItem(yr)}catch(Or){localStorage.removeItem(yr)}}}}Zn.get=function(mr){if(mr){var kr="kc-callback-"+mr,yr=localStorage.getItem(kr);return yr&&(localStorage.removeItem(kr),yr=JSON.parse(yr)),cr(),yr}},Zn.add=function(mr){cr();var kr="kc-callback-"+mr.state;mr.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(kr,JSON.stringify(mr))}},Vr=function(){if(!(this instanceof Vr))return new Vr;var Zn=this;Zn.get=function(yr){if(yr){var dr=mr("kc-callback-"+yr);if(kr("kc-callback-"+yr,"",cr(-100)),dr)return JSON.parse(dr)}},Zn.add=function(yr){kr("kc-callback-"+yr.state,JSON.stringify(yr),cr(60))},Zn.removeItem=function(yr){kr(yr,"",cr(-100))};var cr=function(yr){var dr=new Date;return dr.setTime(dr.getTime()+yr*60*1e3),dr},mr=function(yr){for(var dr=yr+"=",Tr=document.cookie.split(";"),Or=0;Or<Tr.length;Or++){for(var Pr=Tr[Or];Pr.charAt(0)==" ";)Pr=Pr.substring(1);if(Pr.indexOf(dr)==0)return Pr.substring(dr.length,Pr.length)}return""},kr=function(yr,dr,Tr){var Or=yr+"="+dr+"; expires="+Tr.toUTCString()+"; ";document.cookie=Or}};function Mr(){try{return new Xr}catch(Zn){}return new Vr}function Lr(Zn){return function(){e.enableLogging&&Zn.apply(console,Array.prototype.slice.call(arguments))}}}var build_umd$1={exports:{}};(function(s,e){(function(n,l){s.exports=l()})(commonjsGlobal,function(){return function(t){var n={};function l(r){if(n[r])return n[r].exports;var f=n[r]={i:r,l:!1,exports:{}};return t[r].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=t,l.c=n,l.d=function(r,f,p){l.o(r,f)||Object.defineProperty(r,f,{enumerable:!0,get:p})},l.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},l.t=function(r,f){if(f&1&&(r=l(r)),f&8||f&4&&typeof r=="object"&&r&&r.__esModule)return r;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:r}),f&2&&typeof r!="string")for(var I in r)l.d(p,I,function(g){return r[g]}.bind(null,I));return p},l.n=function(r){var f=r&&r.__esModule?function(){return r.default}:function(){return r};return l.d(f,"a",f),f},l.o=function(r,f){return Object.prototype.hasOwnProperty.call(r,f)},l.p="",l(l.s=0)}({"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(t,n){function l(r,f){(f==null||f>r.length)&&(f=r.length);for(var p=0,I=new Array(f);p<f;p++)I[p]=r[p];return I}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function f(p){if(Array.isArray(p))return r(p)}t.exports=f,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(t,n){function l(r,f){if(!(r instanceof f))throw new TypeError("Cannot call a class as a function")}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/createClass.js":function(t,n){function l(f,p){for(var I=0;I<p.length;I++){var g=p[I];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function r(f,p,I){return p&&l(f.prototype,p),I&&l(f,I),f}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(t,n){function l(r,f,p){return f in r?Object.defineProperty(r,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[f]=p,r}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(t,n){function l(r){return r&&r.__esModule?r:{default:r}}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/interopRequireWildcard.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/typeof.js").default;function f(I){if(typeof WeakMap!="function")return null;var g=new WeakMap,Xn=new WeakMap;return(f=function(nr){return nr?Xn:g})(I)}function p(I,g){if(!g&&I&&I.__esModule)return I;if(I===null||r(I)!=="object"&&typeof I!="function")return{default:I};var Xn=f(g);if(Xn&&Xn.has(I))return Xn.get(I);var Yn={},nr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Wn in I)if(Wn!=="default"&&Object.prototype.hasOwnProperty.call(I,Wn)){var or=nr?Object.getOwnPropertyDescriptor(I,Wn):null;or&&(or.get||or.set)?Object.defineProperty(Yn,Wn,or):Yn[Wn]=I[Wn]}return Yn.default=I,Xn&&Xn.set(I,Yn),Yn}t.exports=p,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(t,n){function l(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(t,n){function l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function f(p,I){if(p==null)return{};var g=r(p,I),Xn,Yn;if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(p);for(Yn=0;Yn<nr.length;Yn++)Xn=nr[Yn],!(I.indexOf(Xn)>=0)&&Object.prototype.propertyIsEnumerable.call(p,Xn)&&(g[Xn]=p[Xn])}return g}t.exports=f,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(t,n){function l(r,f){if(r==null)return{};var p={},I=Object.keys(r),g,Xn;for(Xn=0;Xn<I.length;Xn++)g=I[Xn],!(f.indexOf(g)>=0)&&(p[g]=r[g]);return p}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),f=l("./node_modules/@babel/runtime/helpers/iterableToArray.js"),p=l("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),I=l("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function g(Xn){return r(Xn)||f(Xn)||p(Xn)||I()}t.exports=g,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,n){function l(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(t.exports=l=function(p){return typeof p},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=l=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t.exports.default=t.exports,t.exports.__esModule=!0),l(r)}t.exports=l,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function f(p,I){if(p){if(typeof p=="string")return r(p,I);var g=Object.prototype.toString.call(p).slice(8,-1);if(g==="Object"&&p.constructor&&(g=p.constructor.name),g==="Map"||g==="Set")return Array.from(p);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return r(p,I)}}t.exports=f,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/webpack/buildin/global.js":function(t,n){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch(r){typeof window=="object"&&(l=window)}t.exports=l},"./packages/@apphub:logrocket-console/src/index.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=r(l("./packages/@apphub:logrocket-console/src/registerConsole.js")),p=f.default;n.default=p,t.exports=n.default},"./packages/@apphub:logrocket-console/src/registerConsole.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var f=r(l("./node_modules/@babel/runtime/helpers/typeof.js")),p=r(l("./packages/@apphub:logrocket-utils/src/enhanceFunc.js")),I=l("./packages/@apphub:logrocket-exceptions/src/index.js");function g(Xn){var Yn=[],nr=["log","warn","info","error","debug"];return nr.forEach(function(Wn){Yn.push((0,p.default)(console,Wn,function(){for(var or=arguments.length,Qn=new Array(or),lr=0;lr<or;lr++)Qn[lr]=arguments[lr];Xn.addEvent("lr.core.LogEvent",function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zn=er.isEnabled;return(0,f.default)(zn)==="object"&&zn[Wn]===!1||zn===!1?null:(Wn==="error"&&er.shouldAggregateConsoleErrors&&I.Capture.captureMessage(Xn,Qn[0],{},!0),{logLevel:Wn.toUpperCase(),args:Qn})})}))}),function(){Yn.forEach(function(Wn){return Wn()})}}t.exports=n.default},"./packages/@apphub:logrocket-exceptions/src/Capture.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.captureMessage=Yn,n.captureException=nr;var f=r(l("./node_modules/@babel/runtime/helpers/typeof.js")),p=r(l("./packages/@apphub:logrocket-utils/src/TraceKit.js")),I=r(l("./packages/@apphub:logrocket-exceptions/src/stackTraceFromError.js"));function g(Wn){return/boolean|number|string/.test((0,f.default)(Wn))}function Xn(Wn,or){if(or){for(var Qn=["level","logger"],lr=0,er=Qn;lr<er.length;lr++){var zn=er[lr],sr=or[zn];g(sr)&&(Wn[zn]=sr.toString())}for(var rr=["tags","extra"],ir=0,ar=rr;ir<ar.length;ir++){for(var fr=ar[ir],hr=or[fr]||{},wr={},Sr=0,Ar=Object.keys(hr);Sr<Ar.length;Sr++){var Fr=Ar[Sr],_r=hr[Fr];g(_r)&&(wr[Fr.toString()]=_r.toString())}Wn[fr]=wr}}}function Yn(Wn,or){var Qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},lr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,er={exceptionType:lr?"CONSOLE":"MESSAGE",message:or,browserHref:window.location?window.location.href:""};Xn(er,Qn),Wn.addEvent("lr.core.Exception",function(){return er})}function nr(Wn,or){var Qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},lr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,er=lr||p.default.computeStackTrace(or),zn={exceptionType:"WINDOW",errorType:er.name,message:er.message,browserHref:window.location?window.location.href:""};Xn(zn,Qn);var sr={_stackTrace:(0,I.default)(er)};Wn.addEvent("lr.core.Exception",function(){return zn},sr)}},"./packages/@apphub:logrocket-exceptions/src/index.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),f=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"registerExceptions",{enumerable:!0,get:function(){return p.default}}),n.Capture=void 0;var p=f(l("./packages/@apphub:logrocket-exceptions/src/registerExceptions.js")),I=r(l("./packages/@apphub:logrocket-exceptions/src/Capture.js"));n.Capture=I},"./packages/@apphub:logrocket-exceptions/src/raven/raven.js":function(t,n,l){(function(r){var f=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var p=f(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),I=f(l("./node_modules/@babel/runtime/helpers/createClass.js")),g=f(l("./packages/@apphub:logrocket-utils/src/TraceKit.js")),Xn=Object.prototype;function Yn(er){return er===void 0}function nr(er){return typeof er=="function"}function Wn(er,zn){return Xn.hasOwnProperty.call(er,zn)}function or(er,zn,sr,rr){var ir=er[zn];er[zn]=sr(ir),rr&&rr.push([er,zn,ir])}var Qn=typeof window!="undefined"?window:typeof r!="undefined"?r:typeof self!="undefined"?self:{};Qn.document;var lr=function(){function er(zn){var sr=zn.captureException;(0,p.default)(this,er),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=sr,g.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,I.default)(er,[{key:"uninstall",value:function(){g.default.report.unsubscribe(this._errorHandler);for(var sr;this._wrappedBuiltIns.length;){sr=this._wrappedBuiltIns.shift();var rr=sr[0],ir=sr[1],ar=sr[2];rr[ir]=ar}}},{key:"_errorHandler",value:function(sr){this._ignoreOnError||this.captureException(sr)}},{key:"_ignoreNextOnError",value:function(){var sr=this;this._ignoreOnError+=1,setTimeout(function(){sr._ignoreOnError-=1})}},{key:"context",value:function(sr,rr,ir){return nr(sr)&&(ir=rr||[],rr=sr,sr=void 0),this.wrap(sr,rr).apply(this,ir)}},{key:"wrap",value:function(sr,rr,ir){var ar=this;if(Yn(rr)&&!nr(sr))return sr;if(nr(sr)&&(rr=sr,sr=void 0),!nr(rr))return rr;try{if(rr.__lr__)return rr;if(rr.__lr_wrapper__)return rr.__lr_wrapper__;if(!Object.isExtensible(rr))return rr}catch(wr){return rr}function fr(){var wr=[],Sr=arguments.length,Ar=!sr||sr&&sr.deep!==!1;for(ir&&nr(ir)&&ir.apply(this,arguments);Sr--;)wr[Sr]=Ar?ar.wrap(sr,arguments[Sr]):arguments[Sr];try{return rr.apply(this,wr)}catch(Fr){throw ar._ignoreNextOnError(),ar.captureException(g.default.computeStackTrace(Fr),sr),Fr}}for(var hr in rr)Wn(rr,hr)&&(fr[hr]=rr[hr]);return fr.prototype=rr.prototype,rr.__lr_wrapper__=fr,fr.__lr__=!0,fr.__inner__=rr,fr}},{key:"_instrumentTryCatch",value:function(){var sr=this,rr=sr._wrappedBuiltIns;function ir(Sr){return function(Ar,Fr){for(var _r=new Array(arguments.length),xr=0;xr<_r.length;++xr)_r[xr]=arguments[xr];var Ur=_r[0];return nr(Ur)&&(_r[0]=sr.wrap(Ur)),Sr.apply?Sr.apply(this,_r):Sr(_r[0],_r[1])}}function ar(Sr){var Ar=Qn[Sr]&&Qn[Sr].prototype;Ar&&Ar.hasOwnProperty&&Ar.hasOwnProperty("addEventListener")&&(or(Ar,"addEventListener",function(Fr){return function(_r,xr,Ur,Dr){try{xr&&xr.handleEvent&&(xr.handleEvent=sr.wrap(xr.handleEvent))}catch(Xr){}var Hr;return Fr.call(this,_r,sr.wrap(xr,void 0,Hr),Ur,Dr)}},rr),or(Ar,"removeEventListener",function(Fr){return function(_r,xr,Ur,Dr){try{xr=xr&&(xr.__lr_wrapper__?xr.__lr_wrapper__:xr)}catch(Hr){}return Fr.call(this,_r,xr,Ur,Dr)}},rr))}or(Qn,"setTimeout",ir,rr),or(Qn,"setInterval",ir,rr),Qn.requestAnimationFrame&&or(Qn,"requestAnimationFrame",function(Sr){return function(Ar){return Sr(sr.wrap(Ar))}},rr);for(var fr=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],hr=0;hr<fr.length;hr++)ar(fr[hr]);var wr=Qn.jQuery||Qn.$;wr&&wr.fn&&wr.fn.ready&&or(wr.fn,"ready",function(Sr){return function(Ar){return Sr.call(this,sr.wrap(Ar))}},rr)}}]),er}();n.default=lr,t.exports=n.default}).call(this,l("./node_modules/webpack/buildin/global.js"))},"./packages/@apphub:logrocket-exceptions/src/registerExceptions.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),f=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var p=f(l("./packages/@apphub:logrocket-exceptions/src/raven/raven.js")),I=r(l("./packages/@apphub:logrocket-exceptions/src/Capture.js"));function g(Xn){var Yn=new p.default({captureException:function(or){I.captureException(Xn,null,null,or)}}),nr=function(or){Xn.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:or.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",nr),function(){window.removeEventListener("unhandledrejection",nr),Yn.uninstall()}}t.exports=n.default},"./packages/@apphub:logrocket-exceptions/src/stackTraceFromError.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(f){function p(I){return I===null?void 0:I}return f.stack?f.stack.map(function(I){return{lineNumber:p(I.line),columnNumber:p(I.column),fileName:p(I.url),functionName:p(I.func)}}):void 0}t.exports=n.default},"./packages/@apphub:logrocket-network/src/fetchIntercept.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=r(l("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),p=l("./packages/@apphub:logrocket-network/src/registerXHR.js"),I=[];function g(Wn,or){for(var Qn=I.reduce(function(rr,ir){return[ir].concat(rr)},[]),lr=arguments.length,er=new Array(lr>2?lr-2:0),zn=2;zn<lr;zn++)er[zn-2]=arguments[zn];var sr=Promise.resolve(er);return Qn.forEach(function(rr){var ir=rr.request,ar=rr.requestError;(ir||ar)&&(sr=sr.then(function(fr){return ir.apply(void 0,[or].concat((0,f.default)(fr)))},function(fr){return ar.apply(void 0,[or].concat((0,f.default)(fr)))}))}),sr=sr.then(function(rr){(0,p.setActive)(!1);var ir,ar;try{ir=Wn.apply(void 0,(0,f.default)(rr))}catch(fr){ar=fr}if((0,p.setActive)(!0),ar)throw ar;return ir}),Qn.forEach(function(rr){var ir=rr.response,ar=rr.responseError;(ir||ar)&&(sr=sr.then(function(fr){return ir(or,fr)},function(fr){return ar&&ar(or,fr)}))}),sr}function Xn(Wn){if(!(!Wn.fetch||!Wn.Promise)){var or=Wn.fetch.polyfill;Wn.fetch=function(Qn){var lr=0;return function(){for(var er=arguments.length,zn=new Array(er),sr=0;sr<er;sr++)zn[sr]=arguments[sr];return g.apply(void 0,[Qn,lr++].concat(zn))}}(Wn.fetch),or&&(Wn.fetch.polyfill=or)}}var Yn=!1,nr={register:function(or){return Yn||(Yn=!0,Xn(window)),I.push(or),function(){var Qn=I.indexOf(or);Qn>=0&&I.splice(Qn,1)}},clear:function(){I=[]}};n.default=nr,t.exports=n.default},"./packages/@apphub:logrocket-network/src/index.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=or;var f=r(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(l("./node_modules/@babel/runtime/helpers/typeof.js")),I=r(l("./packages/@apphub:logrocket-network/src/registerFetch.js")),g=r(l("./packages/@apphub:logrocket-network/src/registerNetworkInformation.js")),Xn=r(l("./packages/@apphub:logrocket-network/src/registerXHR.js")),Yn=r(l("./packages/@apphub:logrocket-utils/src/mapValues.js"));function nr(Qn,lr){var er=Object.keys(Qn);if(Object.getOwnPropertySymbols){var zn=Object.getOwnPropertySymbols(Qn);lr&&(zn=zn.filter(function(sr){return Object.getOwnPropertyDescriptor(Qn,sr).enumerable})),er.push.apply(er,zn)}return er}function Wn(Qn){for(var lr=1;lr<arguments.length;lr++){var er=arguments[lr]!=null?arguments[lr]:{};lr%2?nr(Object(er),!0).forEach(function(zn){(0,f.default)(Qn,zn,er[zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qn,Object.getOwnPropertyDescriptors(er)):nr(Object(er)).forEach(function(zn){Object.defineProperty(Qn,zn,Object.getOwnPropertyDescriptor(er,zn))})}return Qn}function or(Qn){var lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1},er=lr.isReactNative,zn=lr.shouldAugmentNPS,sr=lr.shouldParseXHRBlob,rr={},ir=function(_r){var xr=4096e3,Ur=_r;if((0,p.default)(_r)==="object"&&_r!=null){var Dr=Object.getPrototypeOf(_r);(Dr===Object.prototype||Dr===null)&&(Ur=JSON.stringify(_r))}if(Ur&&Ur.length&&Ur.length>xr&&typeof Ur=="string"){var Hr=Ur.substring(0,1e3);return"".concat(Hr,` ... LogRocket truncating to first 1000 characters.
      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference#network`)}return _r},ar=function(_r,xr){var Ur=xr.method;Qn.addEvent("lr.network.RequestEvent",function(){var Dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Hr=Dr.isEnabled,Xr=Hr===void 0?!0:Hr,Vr=Dr.requestSanitizer,Mr=Vr===void 0?function(mr){return mr}:Vr;if(!Xr)return null;var Lr=null;try{Lr=Mr(Wn(Wn({},xr),{},{reqId:_r}))}catch(mr){console.error(mr)}if(Lr){var Zn=Lr.url;if(typeof document!="undefined"&&typeof document.createElement=="function"){var cr=document.createElement("a");cr.href=Lr.url,Zn=cr.href}return{reqId:_r,url:Zn,headers:(0,Yn.default)(Lr.headers,function(mr){return"".concat(mr)}),body:ir(Lr.body),method:Ur,referrer:Lr.referrer||void 0,mode:Lr.mode||void 0,credentials:Lr.credentials||void 0}}return rr[_r]=!0,null})},fr=function(_r,xr){var Ur=xr.method,Dr=xr.status;Qn.addEvent("lr.network.ResponseEvent",function(){var Hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xr=Hr.isEnabled,Vr=Xr===void 0?!0:Xr,Mr=Hr.responseSanitizer,Lr=Mr===void 0?function(cr){return cr}:Mr;if(Vr){if(rr[_r])return delete rr[_r],null}else return null;var Zn=null;try{Zn=Lr(Wn(Wn({},xr),{},{reqId:_r}))}catch(cr){console.error(cr)}return Zn?{reqId:_r,status:Zn.status,headers:(0,Yn.default)(Zn.headers,function(cr){return"".concat(cr)}),body:ir(Zn.body),method:Ur}:{reqId:_r,status:Dr,headers:{},body:null,method:Ur}})},hr=function(_r){return Qn.isDisabled||rr[_r]===!0},wr=(0,I.default)({addRequest:ar,addResponse:fr,isIgnored:hr}),Sr=(0,Xn.default)({addRequest:ar,addResponse:fr,isIgnored:hr,logger:Qn,shouldAugmentNPS:zn,shouldParseXHRBlob:sr}),Ar=er?function(){}:(0,g.default)(Qn);return function(){Ar(),wr(),Sr()}}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerFetch.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=or;var f=r(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(l("./packages/@apphub:logrocket-utils/src/mapValues.js")),I=r(l("./packages/@apphub:logrocket-network/src/fetchIntercept.js"));function g(Qn,lr){var er=Object.keys(Qn);if(Object.getOwnPropertySymbols){var zn=Object.getOwnPropertySymbols(Qn);lr&&(zn=zn.filter(function(sr){return Object.getOwnPropertyDescriptor(Qn,sr).enumerable})),er.push.apply(er,zn)}return er}function Xn(Qn){for(var lr=1;lr<arguments.length;lr++){var er=arguments[lr]!=null?arguments[lr]:{};lr%2?g(Object(er),!0).forEach(function(zn){(0,f.default)(Qn,zn,er[zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qn,Object.getOwnPropertyDescriptors(er)):g(Object(er)).forEach(function(zn){Object.defineProperty(Qn,zn,Object.getOwnPropertyDescriptor(er,zn))})}return Qn}function Yn(Qn){if(Qn==null||typeof Qn.forEach!="function")return Qn;var lr={};return Qn.forEach(function(er,zn){lr[zn]?lr[zn]="".concat(lr[zn],",").concat(er):lr[zn]="".concat(er)}),lr}var nr=function(lr){return(0,p.default)(Yn(lr),function(er){return"".concat(er)})};function Wn(){var Qn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:Qn.url,headers:nr(Qn.headers),method:Qn.method&&Qn.method.toUpperCase(),referrer:Qn.referrer||void 0,mode:Qn.mode||void 0,credentials:Qn.credentials||void 0}}function or(Qn){var lr=Qn.addRequest,er=Qn.addResponse,zn=Qn.isIgnored,sr="fetch-",rr={},ir=I.default.register({request:function(fr){for(var hr=arguments.length,wr=new Array(hr>1?hr-1:0),Sr=1;Sr<hr;Sr++)wr[Sr-1]=arguments[Sr];var Ar;if(typeof Request!="undefined"&&wr[0]instanceof Request){var Fr;try{Fr=wr[0].clone().text()}catch(_r){Fr=Promise.resolve("LogRocket fetch error: ".concat(_r.message))}Ar=Fr.then(function(_r){return Xn(Xn({},Wn(wr[0])),{},{body:_r})},function(_r){return Xn(Xn({},Wn(wr[0])),{},{body:"LogRocket fetch error: ".concat(_r.message)})})}else Ar=Promise.resolve(Xn(Xn({},Wn(wr[1])),{},{url:"".concat(wr[0]),body:(wr[1]||{}).body}));return Ar.then(function(_r){return rr[fr]=_r.method,lr("".concat(sr).concat(fr),_r),wr})},requestError:function(fr,hr){return Promise.reject(hr)},response:function(fr,hr){var wr;if(zn("".concat(sr).concat(fr)))return hr;try{wr=hr.clone().text()}catch(Sr){wr=Promise.resolve("LogRocket fetch error: ".concat(Sr.message))}return wr.catch(function(Sr){if(!(Sr.name==="AbortError"&&Sr instanceof DOMException))throw Sr}).then(function(Sr){var Ar={url:hr.url,status:hr.status,headers:nr(hr.headers),body:Sr,method:rr[fr]};delete rr[fr],er("".concat(sr).concat(fr),Ar)}),hr},responseError:function(fr,hr){var wr={url:void 0,status:0,headers:{},body:"".concat(hr)};return er("".concat(sr).concat(fr),wr),Promise.reject(hr)}});return ir}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerNetworkInformation.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function f(p){var I=void 0;function g(){var Xn={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(Xn.effectiveType=r[window.navigator.connection.effectiveType]||"UNKNOWN"):Xn.effectiveType="NONE",!(I&&Xn.online===I.online&&Xn.effectiveType===I.effectiveType)&&(I=Xn,p.addEvent("lr.network.NetworkStatusEvent",function(){var Yn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nr=Yn.isEnabled,Wn=nr===void 0?!0:nr;return Wn?Xn:null}))}return setTimeout(g),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",g),window.addEventListener("online",g),window.addEventListener("offline",g),function(){window.removeEventListener("offline",g),window.removeEventListener("online",g),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",g)}}t.exports=n.default},"./packages/@apphub:logrocket-network/src/registerXHR.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.setActive=Yn,n.default=Wn;var f=r(l("./packages/@apphub:logrocket-utils/src/mapValues.js")),p=r(l("./packages/@apphub:logrocket-utils/src/enhanceFunc.js")),I=r(l("./packages/@apphub:logrocket-utils/src/startsWith.js")),g=l("./packages/@apphub:logrocket-utils/src/constants/nps.js"),Xn=!0;function Yn(or){Xn=or}var nr=0;function Wn(or){var Qn=or.addRequest,lr=or.addResponse,er=or.isIgnored,zn=or.logger,sr=or.shouldAugmentNPS,rr=sr===void 0?!0:sr,ir=or.shouldParseXHRBlob,ar=ir===void 0?!1:ir,fr=XMLHttpRequest,hr=new WeakMap,wr=!1,Sr="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(Fr,_r){var xr=new fr(Fr,_r);if(!Xn)return xr;hr.set(xr,{xhrId:++nr,headers:{}});var Ur=xr.open;function Dr(){for(var Mr=arguments.length,Lr=new Array(Mr),Zn=0;Zn<Mr;Zn++)Lr[Zn]=arguments[Zn];try{var cr=Lr[1];if(window.URL&&typeof window.URL=="function"&&cr.search(g.WOOTRIC_RESPONSES_REGEX)===0){var mr=new window.URL(zn.recordingURL);mr.searchParams.set("nps","wootric");var kr=new window.URL(cr),yr=kr.searchParams.get("response[text]"),dr=yr?"".concat(yr,`

`):"";kr.searchParams.set("response[text]","".concat(dr,"<").concat(mr.href,"|View LogRocket session>")),Lr[1]=kr.href}}catch(Tr){}return Ur.apply(this,Lr)}var Hr=xr.send;function Xr(){for(var Mr=arguments.length,Lr=new Array(Mr),Zn=0;Zn<Mr;Zn++)Lr[Zn]=arguments[Zn];try{var cr=hr.get(xr);if(window.URL&&typeof window.URL=="function"&&cr&&cr.url&&cr.url.search(g.DELIGHTED_RESPONSES_REGEX)===0&&Lr.length&&Lr[0].indexOf(g.DELIGHTED_FEEDBACK_PREFIX)!==-1){var mr=new window.URL(zn.recordingURL);mr.searchParams.set("nps","delighted");var kr=encodeURIComponent(mr.href),yr=Lr[0].split("&").map(function(dr){if((0,I.default)(dr,g.DELIGHTED_FEEDBACK_PREFIX)){var Tr=dr===g.DELIGHTED_FEEDBACK_PREFIX;return"".concat(dr).concat(Tr?"":`

`,"<").concat(kr,"|View LogRocket session>")}return dr}).join("&");Lr[0]=yr}}catch(dr){}return Hr.apply(this,Lr)}rr&&(xr.open=Dr,xr.send=Xr),(0,p.default)(xr,"open",function(Mr,Lr){if(!wr){var Zn=hr.get(xr);Zn.method=Mr,Zn.url=Lr}}),(0,p.default)(xr,"send",function(Mr){if(!wr){var Lr=hr.get(xr);if(Lr){var Zn={url:Lr.url,method:Lr.method&&Lr.method.toUpperCase(),headers:(0,f.default)(Lr.headers||{},function(cr){return cr.join(", ")}),body:Mr};Qn("".concat(Sr).concat(Lr.xhrId),Zn)}}}),(0,p.default)(xr,"setRequestHeader",function(Mr,Lr){if(!wr){var Zn=hr.get(xr);Zn&&(Zn.headers=Zn.headers||{},Zn.headers[Mr]=Zn.headers[Mr]||[],Zn.headers[Mr].push(Lr))}});var Vr={readystatechange:function(){if(!wr&&xr.readyState===4){var Lr=hr.get(xr);if(!Lr||er("".concat(Sr).concat(Lr.xhrId)))return;var Zn=xr.getAllResponseHeaders()||"",cr=Zn.split(/[\r\n]+/).reduce(function(dr,Tr){var Or=dr,Pr=Tr.split(": ");if(Pr.length>0){var Cr=Pr.shift(),Nr=Pr.join(": ");dr[Cr]?Or[Cr]+=", ".concat(Nr):Or[Cr]=Nr}return Or},{}),mr;try{switch(xr.responseType){case"json":mr=zn._shouldCloneResponse?JSON.parse(JSON.stringify(xr.response)):xr.response;break;case"arraybuffer":case"blob":{mr=xr.response;break}case"document":{mr=xr.responseXML;break}case"text":case"":{mr=xr.responseText;break}default:mr=""}}catch(dr){mr="LogRocket: Error accessing response."}var kr={url:Lr.url,status:xr.status,headers:cr,body:mr,method:(Lr.method||"").toUpperCase()};if(ar&&kr.body instanceof Blob){var yr=new FileReader;yr.readAsText(kr.body),yr.onload=function(){try{kr.body=JSON.parse(yr.result)}catch(dr){}lr("".concat(Sr).concat(Lr.xhrId),kr)}}else lr("".concat(Sr).concat(Lr.xhrId),kr)}}};return Object.keys(Vr).forEach(function(Mr){xr.addEventListener(Mr,Vr[Mr])}),xr},XMLHttpRequest.prototype=fr.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(Ar){XMLHttpRequest[Ar]=fr[Ar]}),function(){wr=!0,XMLHttpRequest=fr}}},"./packages/@apphub:logrocket-redux/src/createEnhancer.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=Yn;var f=r(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(l("./packages/@apphub:now/src/index.js"));function I(nr,Wn){var or=Object.keys(nr);if(Object.getOwnPropertySymbols){var Qn=Object.getOwnPropertySymbols(nr);Wn&&(Qn=Qn.filter(function(lr){return Object.getOwnPropertyDescriptor(nr,lr).enumerable})),or.push.apply(or,Qn)}return or}function g(nr){for(var Wn=1;Wn<arguments.length;Wn++){var or=arguments[Wn]!=null?arguments[Wn]:{};Wn%2?I(Object(or),!0).forEach(function(Qn){(0,f.default)(nr,Qn,or[Qn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nr,Object.getOwnPropertyDescriptors(or)):I(Object(or)).forEach(function(Qn){Object.defineProperty(nr,Qn,Object.getOwnPropertyDescriptor(or,Qn))})}return nr}var Xn=0;function Yn(nr){var Wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},or=Wn.stateSanitizer,Qn=or===void 0?function(zn){return zn}:or,lr=Wn.actionSanitizer,er=lr===void 0?function(zn){return zn}:lr;return function(zn){return function(sr,rr,ir){var ar=zn(sr,rr,ir),fr=ar.dispatch,hr=Xn++;nr.addEvent("lr.redux.InitialState",function(){var Sr;try{Sr=Qn(ar.getState())}catch(Ar){console.error(Ar.toString())}return{state:Sr,storeId:hr}});var wr=function(Ar){var Fr=(0,p.default)(),_r,xr;try{xr=fr(Ar)}catch(Dr){_r=Dr}finally{var Ur=(0,p.default)()-Fr;nr.addEvent("lr.redux.ReduxAction",function(){var Dr=null,Hr=null;try{Dr=Qn(ar.getState()),Hr=er(Ar)}catch(Xr){console.error(Xr.toString())}return Dr&&Hr?{storeId:hr,action:Hr,duration:Ur,stateDelta:Dr}:null})}if(_r)throw _r;return xr};return g(g({},ar),{},{dispatch:wr})}}}t.exports=n.default},"./packages/@apphub:logrocket-redux/src/createMiddleware.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=I;var f=r(l("./packages/@apphub:now/src/index.js")),p=0;function I(g){var Xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Yn=Xn.stateSanitizer,nr=Yn===void 0?function(Qn){return Qn}:Yn,Wn=Xn.actionSanitizer,or=Wn===void 0?function(Qn){return Qn}:Wn;return function(Qn){var lr=p++;return g.addEvent("lr.redux.InitialState",function(){var er;try{er=nr(Qn.getState())}catch(zn){console.error(zn.toString())}return{state:er,storeId:lr}}),function(er){return function(zn){var sr=(0,f.default)(),rr,ir;try{ir=er(zn)}catch(fr){rr=fr}finally{var ar=(0,f.default)()-sr;g.addEvent("lr.redux.ReduxAction",function(){var fr=null,hr=null;try{fr=nr(Qn.getState()),hr=or(zn)}catch(wr){console.error(wr.toString())}return fr&&hr?{storeId:lr,action:hr,duration:ar,stateDelta:fr}:null})}if(rr)throw rr;return ir}}}}t.exports=n.default},"./packages/@apphub:logrocket-redux/src/index.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createEnhancer",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"createMiddleware",{enumerable:!0,get:function(){return p.default}});var f=r(l("./packages/@apphub:logrocket-redux/src/createEnhancer.js")),p=r(l("./packages/@apphub:logrocket-redux/src/createMiddleware.js"))},"./packages/@apphub:logrocket-utils/src/TraceKit.js":function(t,n,l){(function(r){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f={collectWindowErrors:!0,debug:!1},p=typeof window!="undefined"?window:typeof r!="undefined"?r:typeof self!="undefined"?self:{},I=[].slice,g="?",Xn=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function Yn(){return typeof document=="undefined"||typeof document.location=="undefined"?"":document.location.href}f.report=function(){var or=[],Qn=null,lr=null,er=null;function zn(_r){wr(),or.push(_r)}function sr(_r){for(var xr=or.length-1;xr>=0;--xr)or[xr]===_r&&or.splice(xr,1)}function rr(){Sr(),or=[]}function ir(_r,xr){var Ur=null;if(!(xr&&!f.collectWindowErrors)){for(var Dr in or)if(or.hasOwnProperty(Dr))try{or[Dr].apply(null,[_r].concat(I.call(arguments,2)))}catch(Hr){Ur=Hr}if(Ur)throw Ur}}var ar,fr;function hr(_r,xr,Ur,Dr,Hr){var Xr=null;if(er)f.computeStackTrace.augmentStackTraceWithInitialElement(er,xr,Ur,_r),Ar();else if(Hr)Xr=f.computeStackTrace(Hr),ir(Xr,!0);else{var Vr={url:xr,line:Ur,column:Dr},Mr=void 0,Lr=_r,Zn;if({}.toString.call(_r)==="[object String]"){var Zn=_r.match(Xn);Zn&&(Mr=Zn[1],Lr=Zn[2])}Vr.func=g,Xr={name:Mr,message:Lr,url:Yn(),stack:[Vr]},ir(Xr,!0)}return ar?ar.apply(this,arguments):!1}function wr(){fr||(ar=p.onerror,p.onerror=hr,fr=!0)}function Sr(){fr&&(p.onerror=ar,fr=!1,ar=void 0)}function Ar(){var _r=er,xr=Qn;Qn=null,er=null,lr=null,ir.apply(null,[_r,!1].concat(xr))}function Fr(_r,xr){var Ur=I.call(arguments,1);if(er){if(lr===_r)return;Ar()}var Dr=f.computeStackTrace(_r);if(er=Dr,lr=_r,Qn=Ur,setTimeout(function(){lr===_r&&Ar()},Dr.incomplete?2e3:0),xr!==!1)throw _r}return Fr.subscribe=zn,Fr.unsubscribe=sr,Fr.uninstall=rr,Fr}(),f.computeStackTrace=function(){function or(zn){if(!(typeof zn.stack=="undefined"||!zn.stack)){var sr=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,ir=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ar=zn.stack.split(`
`),fr=[],hr,wr;/^(.*) is undefined$/.exec(zn.message);for(var Sr=0,Ar=ar.length;Sr<Ar;++Sr){if(hr=sr.exec(ar[Sr])){var Fr=hr[2]&&hr[2].indexOf("native")!==-1;wr={url:Fr?null:hr[2],func:hr[1]||g,args:Fr?[hr[2]]:[],line:hr[3]?+hr[3]:null,column:hr[4]?+hr[4]:null}}else if(hr=ir.exec(ar[Sr]))wr={url:hr[2],func:hr[1]||g,args:[],line:+hr[3],column:hr[4]?+hr[4]:null};else if(hr=rr.exec(ar[Sr]))wr={url:hr[3],func:hr[1]||g,args:hr[2]?hr[2].split(","):[],line:hr[4]?+hr[4]:null,column:hr[5]?+hr[5]:null};else continue;!wr.func&&wr.line&&(wr.func=g),fr.push(wr)}return fr.length?(!fr[0].column&&typeof zn.columnNumber!="undefined"&&(fr[0].column=zn.columnNumber+1),{name:zn.name,message:zn.message,url:Yn(),stack:fr}):null}}function Qn(zn,sr,rr,ir){var ar={url:sr,line:rr};if(ar.url&&ar.line){if(zn.incomplete=!1,ar.func||(ar.func=g),zn.stack.length>0&&zn.stack[0].url===ar.url){if(zn.stack[0].line===ar.line)return!1;if(!zn.stack[0].line&&zn.stack[0].func===ar.func)return zn.stack[0].line=ar.line,!1}return zn.stack.unshift(ar),zn.partial=!0,!0}else zn.incomplete=!0;return!1}function lr(zn,sr){for(var rr=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,ir=[],ar={},fr=!1,hr,wr,Sr=lr.caller;Sr&&!fr;Sr=Sr.caller)if(!(Sr===er||Sr===f.report)){if(wr={url:null,func:g,line:null,column:null},Sr.name?wr.func=Sr.name:(hr=rr.exec(Sr.toString()))&&(wr.func=hr[1]),typeof wr.func=="undefined")try{wr.func=hr.input.substring(0,hr.input.indexOf("{"))}catch(Fr){}ar[""+Sr]?fr=!0:ar[""+Sr]=!0,ir.push(wr)}sr&&ir.splice(0,sr);var Ar={name:zn.name,message:zn.message,url:Yn(),stack:ir};return Qn(Ar,zn.sourceURL||zn.fileName,zn.line||zn.lineNumber,zn.message||zn.description),Ar}function er(zn,sr){var rr=null;sr=sr==null?0:+sr;try{if(rr=or(zn),rr)return rr}catch(ir){if(f.debug)throw ir}try{if(rr=lr(zn,sr+1),rr)return rr}catch(ir){if(f.debug)throw ir}return{name:zn.name,message:zn.message,url:Yn()}}return er.augmentStackTraceWithInitialElement=Qn,er.computeStackTraceFromStackProp=or,er}();var nr=f;n.default=nr,t.exports=n.default}).call(this,l("./node_modules/webpack/buildin/global.js"))},"./packages/@apphub:logrocket-utils/src/constants/nps.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.DELIGHTED_FEEDBACK_PREFIX=n.DELIGHTED_RESPONSES_REGEX=n.WOOTRIC_RESPONSES_REGEX=void 0;var r=/^https:\/\/production.wootric.com\/responses/;n.WOOTRIC_RESPONSES_REGEX=r;var f=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;n.DELIGHTED_RESPONSES_REGEX=f;var p="comment=";n.DELIGHTED_FEEDBACK_PREFIX=p},"./packages/@apphub:logrocket-utils/src/enhanceFunc.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(f,p,I){var g=f[p];function Xn(){for(var Yn,nr=arguments.length,Wn=new Array(nr),or=0;or<nr;or++)Wn[or]=arguments[or];return g&&(Yn=g.apply(this,Wn)),I.apply(this,Wn),Yn}return f[p]=Xn,function(){f[p]=g}}t.exports=n.default},"./packages/@apphub:logrocket-utils/src/mapValues.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(f,p){if(f==null)return{};var I={};return Object.keys(f).forEach(function(g){I[g]=p(f[g])}),I}t.exports=n.default},"./packages/@apphub:logrocket-utils/src/startsWith.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;function r(f,p){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return f&&p&&f.substring(I,I+p.length)===p}t.exports=n.default},"./packages/@apphub:now/src/index.js":function(t,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=Date.now.bind(Date),f=r(),p=typeof performance!="undefined"&&performance.now?performance.now.bind(performance):function(){return r()-f};n.default=p,t.exports=n.default},"./packages/logrocket/src/LogRocket.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MAX_QUEUE_SIZE=void 0;var f=r(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=r(l("./node_modules/@babel/runtime/helpers/createClass.js")),I=r(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),g=r(l("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),Xn=r(l("./packages/@apphub:logrocket-network/src/index.js")),Yn=l("./packages/@apphub:logrocket-exceptions/src/index.js"),nr=r(l("./packages/@apphub:logrocket-console/src/index.js")),Wn=l("./packages/@apphub:logrocket-redux/src/index.js");function or(sr,rr){var ir=Object.keys(sr);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(sr);rr&&(ar=ar.filter(function(fr){return Object.getOwnPropertyDescriptor(sr,fr).enumerable})),ir.push.apply(ir,ar)}return ir}function Qn(sr){for(var rr=1;rr<arguments.length;rr++){var ir=arguments[rr]!=null?arguments[rr]:{};rr%2?or(Object(ir),!0).forEach(function(ar){(0,I.default)(sr,ar,ir[ar])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sr,Object.getOwnPropertyDescriptors(ir)):or(Object(ir)).forEach(function(ar){Object.defineProperty(sr,ar,Object.getOwnPropertyDescriptor(ir,ar))})}return sr}var lr=1e3;n.MAX_QUEUE_SIZE=lr;var er=function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ir=rr.ingestServer,ar=(0,g.default)(rr,["ingestServer"]);return ir?Qn({serverURL:"".concat(ir,"/i"),statsURL:"".concat(ir,"/s")},ar):ar},zn=function(){function sr(){var rr=this;(0,f.default)(this,sr),this._buffer=[],["log","info","warn","error","debug"].forEach(function(ir){rr[ir]=function(){for(var ar=arguments.length,fr=new Array(ar),hr=0;hr<ar;hr++)fr[hr]=arguments[hr];rr.addEvent("lr.core.LogEvent",function(){var wr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ir==="error"&&wr.shouldAggregateConsoleErrors&&Yn.Capture.captureMessage(rr,fr[0],{},!0),{logLevel:ir.toUpperCase(),args:fr}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,p.default)(sr,[{key:"addEvent",value:function(ir,ar){var fr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},hr=Date.now();this._run(function(wr){wr.addEvent(ir,ar,Qn(Qn({},fr),{},{timeOverride:hr}))})}},{key:"onLogger",value:function(ir){for(this._logger=ir;this._buffer.length>0;){var ar=this._buffer.shift();ar(this._logger)}}},{key:"_run",value:function(ir){if(!this._isDisabled)if(this._logger)ir(this._logger);else{if(this._buffer.length>=lr){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(ir.bind(this))}}},{key:"init",value:function(ir){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var fr=ar.shouldAugmentNPS,hr=fr===void 0?!0:fr,wr=ar.shouldParseXHRBlob,Sr=wr===void 0?!1:wr;this._installed.push((0,Yn.registerExceptions)(this)),this._installed.push((0,Xn.default)(this,{shouldAugmentNPS:!!hr,shouldParseXHRBlob:!!Sr})),this._installed.push((0,nr.default)(this)),this._isInitialized=!0,this._run(function(Ar){Ar.init(ir,er(ar))})}}},{key:"start",value:function(){this._run(function(ir){ir.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(ir){return ir()}),this._buffer=[],this._run(function(ir){ir.uninstall()})}},{key:"identify",value:function(ir,ar){this._run(function(fr){fr.identify(ir,ar)})}},{key:"startNewSession",value:function(){this._run(function(ir){ir.startNewSession()})}},{key:"track",value:function(ir,ar){this._run(function(fr){fr.track(ir,ar)})}},{key:"getSessionURL",value:function(ir){if(typeof ir!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(ar){ar.getSessionURL?ar.getSessionURL(ir):ir(ar.recordingURL)})}},{key:"getVersion",value:function(ir){this._run(function(ar){ir(ar.version)})}},{key:"captureMessage",value:function(ir){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yn.Capture.captureMessage(this,ir,ar)}},{key:"captureException",value:function(ir){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yn.Capture.captureException(this,ir,ar)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Wn.createEnhancer)(this,ir)}},{key:"reduxMiddleware",value:function(){var ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Wn.createMiddleware)(this,ir)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),sr}();n.default=zn},"./packages/logrocket/src/makeLogRocket.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var f=r(l("./packages/logrocket/src/LogRocket.js")),p="LogRocket does not yet support React Native.",I=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(nr){return function(){return nr.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(nr){return function(Wn){return nr(Wn)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function g(){var Xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};if(typeof navigator!="undefined"&&navigator.product==="ReactNative")throw new Error(p);if(typeof window!="undefined"){if(window._disableLogRocket)return I();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var Yn=new f.default;return Xn(Yn),Yn}}return I()}t.exports=n.default},"./packages/logrocket/src/module-npm.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=r(l("./packages/logrocket/src/setup.js")),p=(0,f.default)(),I=p;n.default=I,t.exports=n.default},"./packages/logrocket/src/setup.js":function(t,n,l){var r=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var f=r(l("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=r(l("./packages/logrocket/src/makeLogRocket.js")),I={"cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com"};function g(){var Xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Yn=Xn.enterpriseServer,nr=Xn.sdkVersion,Wn=nr===void 0?"2.2.1":nr,or=(0,f.default)(Xn,["enterpriseServer","sdkVersion"]),Qn="https://cdn.logrocket.io",lr;if(Wn==="script")try{var er=document.currentScript,zn=er.src.match(/^(https?:\/\/([^\\]+))\/.+$/),sr=zn&&zn[2];sr&&I[sr]&&(Qn=zn&&zn[1],lr=I[sr])}catch(fr){}else Qn="https://cdn.lr-in.com",lr="https://r.lr-in.com";var rr=or.sdkServer||Yn,ir=or.ingestServer||Yn||lr,ar=(0,p.default)(function(){var fr=document.createElement("script");ir&&(typeof window.__SDKCONFIG__=="undefined"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(ir,"/i"),window.__SDKCONFIG__.statsURL="".concat(ir,"/s")),rr?fr.src="".concat(rr,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?fr.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?fr.src=window._lrAsyncScript:fr.src="".concat(Qn,"/logger-1.min.js"),fr.async=!0,document.head.appendChild(fr),fr.onload=function(){typeof window._LRLogger=="function"?ar.onLogger(new window._LRLogger({sdkVersion:Wn})):(console.warn("LogRocket: script execution has been blocked by a product or service."),ar.uninstall())},fr.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),ar.uninstall()}});return ar}t.exports=n.default},0:function(t,n,l){t.exports=l("./packages/logrocket/src/module-npm.js")}})})})(build_umd$1);var build_umdExports=build_umd$1.exports;const S$1=getDefaultExportFromCjs(build_umdExports),build_umd=_mergeNamespaces({__proto__:null,default:S$1},[build_umdExports]);var W$1=Object.defineProperty,_=Object.defineProperties,z$1=Object.getOwnPropertyDescriptors,U$1=Object.getOwnPropertySymbols,N$1=Object.prototype.hasOwnProperty,x$1=Object.prototype.propertyIsEnumerable,M$1=(s,e,t)=>e in s?W$1(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,a=(s,e)=>{for(var t in e||(e={}))N$1.call(e,t)&&M$1(s,t,e[t]);if(U$1)for(var t of U$1(e))x$1.call(e,t)&&M$1(s,t,e[t]);return s},m=(s,e)=>_(s,z$1(e)),D$2=(s,e)=>{var t={};for(var n in s)N$1.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&U$1)for(var n of U$1(s))e.indexOf(n)<0&&x$1.call(s,n)&&(t[n]=s[n]);return t},u$1=(s,e,t)=>new Promise((n,l)=>{var r=I=>{try{p(t.next(I))}catch(g){l(g)}},f=I=>{try{p(t.throw(I))}catch(g){l(g)}},p=I=>I.done?n(I.value):Promise.resolve(I.value).then(r,f);p((t=t.apply(s,e)).next())});let X$2=class{constructor(e={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...t)=>fetch(...t),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=t=>{this.securityData=t},this.contentFormatters={"application/json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"text/plain":t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,"multipart/form-data":t=>Object.keys(t||{}).reduce((n,l)=>{const r=t[l];return n.append(l,r instanceof Blob?r:typeof r=="object"&&r!==null?JSON.stringify(r):`${r}`),n},new FormData),"application/x-www-form-urlencoded":t=>this.toQueryString(t)},this.createAbortSignal=t=>{if(this.abortControllers.has(t)){const l=this.abortControllers.get(t);return l?l.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal},this.abortRequest=t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))},this.request=t=>u$1(this,null,function*(){var n=t,{body:l,secure:r,path:f,type:p,query:I,format:g,baseUrl:Xn,cancelToken:Yn}=n,nr=D$2(n,["body","secure","path","type","query","format","baseUrl","cancelToken"]);const Wn=(typeof r=="boolean"?r:this.baseApiParams.secure)&&this.securityWorker&&(yield this.securityWorker(this.securityData))||{},or=this.mergeRequestParams(nr,Wn),Qn=I&&this.toQueryString(I),lr=this.contentFormatters[p||"application/json"],er=g||or.format;return this.customFetch(`${Xn||this.baseUrl||""}${f}${Qn?`?${Qn}`:""}`,m(a({},or),{headers:a(a({},or.headers||{}),p&&p!=="multipart/form-data"?{"Content-Type":p}:{}),signal:Yn?this.createAbortSignal(Yn):or.signal,body:typeof l>"u"||l===null?null:lr(l)})).then(zn=>u$1(this,null,function*(){const sr=zn;sr.data=null,sr.error=null;const rr=er?yield zn[er]().then(ir=>(sr.ok?sr.data=ir:sr.error=ir,sr)).catch(ir=>(sr.error=ir,sr)):sr;if(Yn&&this.abortControllers.delete(Yn),!zn.ok)throw rr;return rr}))}),Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(n=>this.encodeQueryParam(t,n)).join("&")}toQueryString(e){const t=e||{};return Object.keys(t).filter(n=>typeof t[n]<"u").map(n=>Array.isArray(t[n])?this.addArrayQueryParam(t,n):this.addQueryParam(t,n)).join("&")}addQueryParams(e){const t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return m(a(a(a({},this.baseApiParams),e),t||{}),{headers:a(a(a({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}},L$1=class extends X$2{constructor(){super(...arguments),this.domainModelTalent={updateTalentUserName:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/update-name`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserGroup:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/update-group`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserTags:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/tags`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentSupportUserFlag:(e,t,n={})=>this.request(a({path:`/api/v1/talent/${e}/support`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),updateTalentUserName1:(e,t={})=>this.request(a({path:"/api/v1/talent/update-name",method:"PUT",body:e,secure:!0,type:"application/json"},t)),updateTalentUserGroup1:(e,t={})=>this.request(a({path:"/api/v1/talent/update-group",method:"PUT",body:e,secure:!0,type:"application/json"},t)),updateTalentUserTags1:(e,t={})=>this.request(a({path:"/api/v1/talent/tags",method:"PUT",body:e,secure:!0,type:"application/json"},t)),loadTalentUser:(e,t={})=>this.request(a({path:`/api/v1/talent/${e}`,method:"GET",secure:!0},t)),loadTalentUser1:(e={})=>this.request(a({path:"/api/v1/talent",method:"GET",secure:!0},e))},this.domainModelTalentGroup={updateTalentGroup:(e,t,n={})=>this.request(a({path:`/api/v1/talent-groups/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),deleteTalentGroup:(e,t={})=>this.request(a({path:`/api/v1/talent-groups/${e}`,method:"DELETE",secure:!0},t)),getAllGroups:(e={})=>this.request(a({path:"/api/v1/talent-groups",method:"GET",secure:!0},e)),addTalentGroup:(e,t={})=>this.request(a({path:"/api/v1/talent-groups",method:"POST",body:e,secure:!0,type:"application/json"},t)),loadTalentGroups:(e,t={})=>this.request(a({path:`/api/v1/talent-groups/by-parent/${e}`,method:"GET",secure:!0},t)),loadTalentGroups1:(e={})=>this.request(a({path:"/api/v1/talent-groups/by-parent",method:"GET",secure:!0},e))},this.domainModelTags={updateTag:(e,t,n={})=>this.request(a({path:`/api/v1/tags/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),deleteTag:(e,t={})=>this.request(a({path:`/api/v1/tags/${e}`,method:"DELETE",secure:!0},t)),getAllTags:(e={})=>this.request(a({path:"/api/v1/tags",method:"GET",secure:!0},e)),addTag:(e,t={})=>this.request(a({path:"/api/v1/tags",method:"POST",body:e,secure:!0,type:"application/json"},t)),loadTagsTypes:(e={})=>this.request(a({path:"/api/v1/tags/types",method:"GET",secure:!0},e)),findTagsByType:(e,t={})=>this.request(a({path:`/api/v1/tags/by-type/${e}`,method:"GET",secure:!0},t))},this.organisationAnalyticsSignals={upsertSignalModule:(e,t={})=>this.request(a({path:"/api/v1/signals/module",method:"PUT",body:e,secure:!0,type:"application/json"},t)),executeSignalsJob:(e={})=>this.request(a({path:"/api/v1/signals/populate",method:"POST",secure:!0},e)),getWebSignals:(e={})=>this.request(a({path:"/api/v1/signals",method:"GET",secure:!0},e))},this.utilitiesRealtime={getRealtimeDocument:(e,t,n={})=>this.request(a({path:`/api/v1/realtime/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),sendRealtimeDocument:(e,t,n={})=>this.request(a({path:`/api/v1/realtime/${e}`,method:"POST",body:t,secure:!0,format:"json"},n))},this.utilitiesTenantConfiguration={updateSingleValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/single-value",method:"PUT",body:e,secure:!0,type:"application/json"},t)),saveSingleValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/single-value",method:"POST",body:e,secure:!0,type:"application/json"},t)),updateMultiValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/multi-value",method:"PUT",body:e,secure:!0,type:"application/json"},t)),saveMultiValueConfigItem:(e,t={})=>this.request(a({path:"/api/v1/config/multi-value",method:"POST",body:e,secure:!0,type:"application/json"},t)),findSingleValueConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/single-value/${e}`,method:"GET",secure:!0},t)),findMultiValueConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/multi-value/${e}`,method:"GET",secure:!0},t)),findAllConfigItems:(e={})=>this.request(a({path:"/api/v1/config",method:"GET",secure:!0},e)),removeConfigItem:(e,t={})=>this.request(a({path:`/api/v1/config/${e}`,method:"DELETE",secure:!0},t))},this.utilitiesArticles={getArticle:(e,t={})=>this.request(a({path:`/api/v1/articles/${e}`,method:"GET",secure:!0},t)),updateArticleById:(e,t,n={})=>this.request(a({path:`/api/v1/articles/${e}`,method:"PUT",body:t,secure:!0,type:"application/json"},n)),articleUp:(e,t={})=>this.request(a({path:`/api/v1/articles/up/${e}`,method:"PUT",secure:!0},t)),articleTop:(e,t={})=>this.request(a({path:`/api/v1/articles/top/${e}`,method:"PUT",secure:!0},t)),articleDown:(e,t={})=>this.request(a({path:`/api/v1/articles/down/${e}`,method:"PUT",secure:!0},t)),articleBottom:(e,t={})=>this.request(a({path:`/api/v1/articles/bottom/${e}`,method:"PUT",secure:!0},t)),getArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"GET",query:e,secure:!0},t)),saveOrUpdateArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"PUT",body:e,secure:!0,type:"application/json"},t)),addArticle:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"POST",body:e,secure:!0,type:"application/json"},t)),deleteArticles:(e,t={})=>this.request(a({path:"/api/v1/articles",method:"DELETE",query:e,secure:!0},t))},this.utilitiesMisc={createUser:(e,t={})=>this.request(a({path:"/api/v1/user",method:"POST",body:e,secure:!0,type:"application/json"},t)),createCampaignUsingTemplateWithTag:(e,t={})=>this.request(a({path:`/api/v1/campaign/${e}`,method:"POST",secure:!0},t)),getVersion:(e={})=>this.request(a({path:"/api/v1/version",method:"GET",secure:!0},e))},this.domainModelMissions={getAllTargets:(e={})=>this.request(a({path:"/api/v1/missions/target",method:"GET",secure:!0},e)),createTarget:(e,t={})=>this.request(a({path:"/api/v1/missions/target",method:"POST",body:e,secure:!0,type:"application/json"},t)),runMissionsCalculationJob:(e={})=>this.request(a({path:"/api/v1/missions/calculate",method:"POST",secure:!0},e)),getMissionsAggregatedProgress:(e={})=>this.request(a({path:"/api/v1/missions/progress",method:"GET",secure:!0},e)),getMissionIndividualProgress:(e={})=>this.request(a({path:"/api/v1/missions/individual/progress",method:"GET",secure:!0},e)),deleteTarget:(e,t={})=>this.request(a({path:`/api/v1/missions/target/${e}`,method:"DELETE",secure:!0},t))},this.organisationAnalyticsFeedback={getFeedbackQuestions:(e={})=>this.request(a({path:"/api/v1/feedback-questions",method:"GET",secure:!0},e)),addNewQuestion:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions",method:"POST",body:e,secure:!0,type:"application/json"},t)),deleteQuestion:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions",method:"DELETE",query:e,secure:!0},t)),getStatistics:(e,t={})=>this.request(a({path:"/api/v1/feedback-questions/statistics",method:"GET",query:e,secure:!0},t))},this.domainModelCompetences={getCompetencesTree:(e={})=>this.request(a({path:"/api/v1/competences",method:"GET",secure:!0},e)),addNewCompetence:(e,t={})=>this.request(a({path:"/api/v1/competences",method:"POST",body:e,secure:!0,type:"application/json"},t)),createTestItem:(e,t={})=>this.request(a({path:"/api/v1/test-item",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.domainModelCertificates={findTalentCertificates:(e={})=>this.request(a({path:"/api/v1/certificate",method:"GET",secure:!0},e)),createOrUpdateTalentCertificates:(e,t={})=>this.request(a({path:"/api/v1/certificate",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.utilitiesAssets={asyncS3Upload:(e,t,n={})=>this.request(a({path:`/api/v1/assets/${e}/upload`,method:"POST",body:t,secure:!0,type:"multipart/form-data"},n)),getS3Video:(e,t={})=>this.request(a({path:`/api/v1/assets/video/${e}`,method:"GET",secure:!0},t)),getAllS3ObjectsFromBucket:(e,t={})=>this.request(a({path:"/api/v1/assets/objects",method:"GET",query:e,secure:!0},t)),getS3Image:(e,t={})=>this.request(a({path:`/api/v1/assets/image/${e}`,method:"GET",secure:!0},t)),deleteS3File:(e,t,n={})=>this.request(a({path:`/api/v1/assets/delete/${e}/${t}`,method:"DELETE",secure:!0},n))},this.utilitiesSavegame={saveOrUpdateState:(e,t={})=>this.request(a({path:"/api/v1/savegame",method:"POST",body:e,secure:!0,type:"application/json"},t)),getResult:(e,t={})=>this.request(a({path:`/api/v1/savegame/${e}`,method:"GET",secure:!0,format:"json"},t))},this.domainModelEvents={saveEvent:(e,t={})=>this.request(a({path:"/api/v1/event",method:"POST",body:e,secure:!0,type:"application/json"},t))},this.domainModelTimeline={saveTimelineTrainingEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/training",method:"POST",body:e,secure:!0,type:"application/json"},t)),saveTimelineMicrolearningEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/microlearning",method:"POST",body:e,secure:!0,type:"application/json"},t)),saveTimelineEpisodeEvent:(e,t={})=>this.request(a({path:"/api/v1/timeline/episode",method:"POST",body:e,secure:!0,type:"application/json"},t)),getAllTimelineEvents:(e={})=>this.request(a({path:"/api/v1/timeline",method:"GET",secure:!0},e))},this.domainModelSeasons={getAllSeasons:(e={})=>this.request(a({path:"/api/v1/season",method:"GET",secure:!0},e)),addSeason:(e,t={})=>this.request(a({path:"/api/v1/season",method:"POST",body:e,secure:!0,type:"application/json"},t)),getEpisode:(e,t,n={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}`,method:"GET",secure:!0},n)),deleteEpisode:(e,t,n={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}`,method:"DELETE",secure:!0},n)),getSeason:(e,t={})=>this.request(a({path:`/api/v1/season/${e}`,method:"GET",secure:!0},t)),deleteSeason:(e,t={})=>this.request(a({path:`/api/v1/season/${e}`,method:"DELETE",secure:!0},t)),deleteBadge:(e,t,n,l={})=>this.request(a({path:`/api/v1/season/${e}/episode/${t}/badge/${n}`,method:"DELETE",secure:!0},l))},this.userAnalyticsRecommendations={getTrainingRecommendations:(e={})=>this.request(a({path:"/api/v1/recommendation/training",method:"GET",secure:!0},e)),getPlayRecommendations:(e={})=>this.request(a({path:"/api/v1/recommendation/play",method:"GET",secure:!0},e))},this.userAnalyticsProgressReporting={getCompetenceAreaTestDetailsReports:(e,t={})=>this.request(a({path:"/api/v1/user-report/test-details",method:"GET",query:e,secure:!0,format:"json"},t)),getSubCompetencesTestsReports:(e,t={})=>this.request(a({path:"/api/v1/user-report/sub-competence",method:"GET",query:e,secure:!0,format:"json"},t)),findTalentStatistics:(e,t={})=>this.request(a({path:"/api/v1/user-report/statistics",method:"GET",query:e,secure:!0},t)),getProfileTwoQualificationAdvices:(e,t={})=>this.request(a({path:`/api/v1/user-report/qualifications/${e}`,method:"GET",secure:!0,format:"json"},t)),getPlayerTeamOrganisationComparisonReport:(e={})=>this.request(a({path:"/api/v1/user-report/compare",method:"GET",secure:!0,format:"json"},e)),getCompetenceAreaTestResults:(e={})=>this.request(a({path:"/api/v1/user-report",method:"GET",secure:!0,format:"json"},e))},this.organisationAnalyticsReport={getProfileTwoTagCompetenceAreas:(e,t={})=>this.request(a({path:`/api/v1/company-report/tag-area/${e}`,method:"GET",secure:!0,format:"json"},t)),getCompanyNumberOfUsersStatistics:(e={})=>this.request(a({path:"/api/v1/company-report/number-of-users",method:"GET",secure:!0,format:"json"},e)),getCompanyCompletedEpisodeStatistics:(e,t={})=>this.request(a({path:"/api/v1/company-report/completed-episodes",method:"GET",query:e,secure:!0,format:"json"},t)),getProfileTwoGeneralReport:(e={})=>this.request(a({path:"/api/v1/company-report/general",method:"GET",secure:!0,format:"json"},e)),getProfileTwoDepartmentAreas:(e={})=>this.request(a({path:"/api/v1/company-report/department-area",method:"GET",secure:!0,format:"json"},e)),getCompanyCompetenceAreaTestResults:(e={})=>this.request(a({path:"/api/v1/company-report",method:"GET",secure:!0,format:"json"},e))}}};const F$2={dev:"talentdigit.al",prod:"talentdigital.eu"},Y$2=["devtd2","internaldemo"],Z$2=s=>Y$2.includes(s)?F$2.dev:F$2.prod,B$2=s=>`https://${s}.${Z$2(s)}`,ee$2=s=>s.slice(s.lastIndexOf(".")+1),Q$2=s=>u$1(void 0,[s],function*({content:e,fileName:t,fileExtension:n}){switch(t?ee$2(t):n){case"json":return JSON.parse(e);case"md":const{marked:l}=yield Promise.resolve().then(()=>marked_esmFba9d439);return l(e);case"toml":return(yield Promise.resolve().then(()=>index76ab5c48).then(r=>r.i)).parse(e);case"yaml":case"yml":return(yield Promise.resolve().then(()=>indexF6886d83)).parse(e);default:throw new Error("Unsuppoted file extension, supported extensions: json, md, toml, yml/yaml ")}}),j$2=({auth:s,tenant:e,localBackendURL:t,customFetch:n})=>{if(n)return new L$1({baseUrl:"",customFetch:n});if(!s)throw"Either auth or custom fetch need to be defined";if(!e)throw"Tenant must be defined if no customFetch is provided";const l=B$2(e),r=()=>u$1(void 0,null,function*(){return s.updateToken().then(()=>({headers:{Authorization:`Bearer ${s.token}`}}))});return new L$1({baseUrl:t!=null?t:l,securityWorker:r})};let O$1=class Li{constructor(e){this.auth=e,this.auth.onTokenExpired=()=>{this.auth.token&&this.auth.updateToken(5)}}get token(){return this.auth.token}get user(){if(!this.auth.tokenParsed)throw"Token has not been parsed";return this.auth.tokenParsed}static create(e){return u$1(this,null,function*(){const t=`talentdigital-${e}`,n=`${B$2(e)}/auth`,l=Keycloak({realm:t,url:n,clientId:"td-profile2"});try{if(yield l.init({onLoad:"check-sso",checkLoginIframe:!1}))return new Li(l);yield l.login({maxAge:1e5})}catch(r){alert("Error authenticating"),console.error(r),r instanceof Error?S$1.captureException(r):typeof r=="string"&&S$1.captureException(new Error(r))}})}updateToken(){return this.auth.updateToken(5)}},G$2=class ji{constructor(e,t,n,l){this.id=e,this.name=t,this.image=n,this.storage=l,this.storageKey="BADGES_ENGINE_STORAGE"}get awarded(){return(this.storage.getItem(this.storageKey)||[]).includes(this.id)}static createForEpisode(e,t){return e!=null&&e.badges?Object.fromEntries(Object.entries(e.badges).map(([n,{name:l,image:r}])=>[n,new ji(n,l,r,t)])):{}}award(){if(this.awarded)return;const e=this.storage.getItem(this.storageKey)||[];this.storage.setItem(this.storageKey,[...e,this.id])}},te$2=class{constructor(e){this.storage=e,this._points=0,this.storageKey="ENGAGEMENT_POINTS";const t=e.getItem(this.storageKey);t&&(this._points=t.points)}get points(){return this._points}add(e){return this._points+=e,this.sync(),this._points}sync(){let e=this.storage.getItem(this.storageKey);e&&(e=m(a({},e),{points:this._points}),this.storage.setItem(this.storageKey,e))}},se$2=class{constructor(e,t,n,l){this.api=e,this.storage=t,this.id=n,this.savegameKeyId=l}end(){return u$1(this,null,function*(){const e=this.savegameKeyId,t=this.id.season,n=this.id.episode,l=[{eventTypeId:"episode.end",season:t,episode:n}];yield this.api.domainModelEvents.saveEvent({applicationId:e,events:l,seasonId:t,episodeId:n});let r=this.storage.getItem(w)||{};const f=r[this.id.season]||{},p=f[this.id.episode]||{},I=p.playcount||0;r=m(a({},r),{[this.id.season]:m(a({},f),{[this.id.episode]:m(a({},p),{playcount:I+1})})}),this.storage.setItem(w,r),this.navigateToDashboard()})}pause(){this.navigateToDashboard()}navigateToDashboard(){this.id.redirectUrl?window.location.assign(this.id.redirectUrl):(console.error("No redirect URL hasn't been set"),S$1.captureException(new Error("No redirect URL hasn't been set")),window.close())}},C$2=class Ni{constructor(e,t,n,l,r,f,p){this.id=e,this.question=t,this.answers=n,this.api=l,this.seasonId=r,this.episodeId=f,this.savegameKeyId=p}static createForEpisode({season:e,episode:t},n,l,r){return n!=null&&n.feedbackQuestions?Object.fromEntries(n.feedbackQuestions.map(({id:f,question:p,answers:I})=>[f,new Ni(f,p,I,l,e,t,r)])):{}}submit(e){const t=this.answers[e];if(!t){console.error("Invalid answer id"),S$1.captureException(new Error(`Invalid answer id: ${e}`));return}const n=JSON.stringify(t),l=[{eventTypeId:this.id,type:"decision.choose",payload:{decision:this.id,option:{id:e,text:n}}}];return this.api.domainModelEvents.saveEvent({applicationId:this.savegameKeyId,events:l,seasonId:this.seasonId,episodeId:this.episodeId})}};const K$2=s=>(e,t)=>u$1(void 0,null,function*(){if(!t)throw"Invalid request";const{method:n}=t,l=e.split("/").slice(3).join("/");let r;if(n==="GET"){if((r=/season\/(.+)\/episode\/(.+)/.exec(l))!==null){const f={season:r[1],episode:r[2]},p=s.episodes[f.episode];if(!p)throw`Episode ${f.episode} not found`;const I=a({},p);return I.assetsURL=s.assetsURL,I.testItems=J$2(s.competenceAreas,f),I.feedbackQuestions=ae$2(s.competenceAreas,f),Promise.resolve(new Response(JSON.stringify(I)))}if((r=/user-report\/test-details\?season=(.*)&episode=(.*)/.exec(l))!==null){const f={season:r[1],episode:r[2]},p=J$2(s.competenceAreas,f);return Promise.resolve(new Response(JSON.stringify(p)))}}if(n==="POST")return Promise.resolve(new Response)}),J$2=(s,{episode:e})=>Object.values(s).flatMap(({competences:t})=>Object.values(t).flatMap(({subCompetences:n})=>Object.values(n).flatMap(({testItems:l})=>l?Object.entries(l).filter(([r,f])=>f.episode===e).map(([r,{level:f,documentation:p}])=>({id:r,level:f,documentation:p})):[]))),ae$2=(s,{episode:e})=>Object.values(s).flatMap(({competences:t})=>Object.values(t).flatMap(({subCompetences:n})=>Object.values(n).flatMap(({feedbackQuestions:l})=>l?Object.entries(l).filter(([r,f])=>f.episode===e).map(([r,{question:f,answers:p}])=>({id:r,question:f,answers:p})):[])));let A$2=class Ui{constructor(e,t={},n){this.api=e,this.state=t,this.savegameKeyId=n}get length(){return Object.keys(this.state).length}static create(e,t){return u$1(this,null,function*(){const{data:n}=yield e.utilitiesSavegame.getResult(t),l=n!=null&&n.state?JSON.parse(n.state):{};return new Ui(e,l,t)})}clear(){this.state={},this.sync()}key(e){return Object.keys(this.state)[e]||null}removeItem(e){delete this.state[e],this.sync()}getItem(e){const t=this.state[e];return t?JSON.stringify(t):null}setItem(e,t){this.state[e]=JSON.parse(t),this.sync()}sync(){this.api.utilitiesSavegame.saveOrUpdateState({applicationId:this.savegameKeyId,state:JSON.stringify(this.state)})}},ie$2=class{constructor(e,t){this.id=e,this.storage=t}load(){const e=this.storage.getItem(w);if(!e)return null;const t=e[this.id.season];if(!t)return null;const n=t[this.id.episode];return n?n.savegame:null}save(e){var t;let n=this.storage.getItem(w)||{};n=m(a({},n),{[this.id.season]:m(a({},n[this.id.season]||{}),{[this.id.episode]:m(a({},((t=n[this.id.season])==null?void 0:t[this.id.episode])||{}),{savegame:e})})}),this.storage.setItem(w,n)}},$$1=class{constructor(e){this.storage=e}getItem(e){const t=this.storage.getItem(e);return t?JSON.parse(t):null}setItem(e,t){this.storage.setItem(e,JSON.stringify(t))}clear(){this.storage.clear()}},k$1=class Fi{constructor(e,t,n,l,r,f,p){this.id=e,this.documentation=t,this.level=n,this.api=l,this.seasonId=r,this.episodeId=f,this.savegameKeyId=p}static createForEpisode(e,t,n,l){return t!=null&&t.testItems?Object.fromEntries(t.testItems.map(r=>[r.id,new Fi(r.id,r.documentation,r.level,n,e.season,e.episode,l)])):{}}pass(e){return this.result=1,this.api.domainModelEvents.saveEvent(this.generatePayload(1,e))}fail(e){return this.result=0,this.api.domainModelEvents.saveEvent(this.generatePayload(0,e))}generatePayload(e,t){const n=[{type:"test.complete",payload:{test:this.id,data:t||{},failed:!e,timestamp:Date.now()},result:{id:this.id,value:e}}];return{applicationId:this.savegameKeyId,events:n,seasonId:this.seasonId,episodeId:this.episodeId}}},R$1=class Di{constructor(e,{logRocketId:t,userInfo:n,playerName:l}){e.init(t),n.sub&&e.identify(n.sub,{name:l}),this.logRocket=e}static create(e){return u$1(this,null,function*(){const{default:t}=yield Promise.resolve().then(()=>build_umd);return new Di(t,e)})}track(e){this.logRocket.track(e)}};const w="SEASONS",oe$2={id:"player",companyName:"ACME Inc.",companyLogo:"/logos/logo1.svg",playerName:"Teammitglied",playerAvatar:"/avatars/avatar5.svg",leadingColor:"#d3e553",playerEmailAddress:"teammitglied@acme.com"},re$2=()=>{const s="td",e=new URLSearchParams(location.search),t=e.get("sid")||localStorage.getItem(`${s}-sid`),n=e.get("eid")||localStorage.getItem(`${s}-eid`),l=e.get("redirectUrl")||localStorage.getItem(`${s}-redirectUrl`),r=e.get("configUrl")||localStorage.getItem(`${s}-configUrl`)||void 0;if(!t||!n)throw"Could not retrieve season or episode id from URL";if(!l)throw"Could not retrieve redirectUrl from URL";return localStorage.setItem(`${s}-sid`,t),localStorage.setItem(`${s}-eid`,n),localStorage.setItem(`${s}-redirectUrl`,l),r&&localStorage.setItem(`${s}-configUrl`,r),{season:t,episode:n,redirectUrl:l,configUrl:r}};let V$2=class Mi{constructor(e,t,n,l,r,f,p,I,g,Xn,Yn,nr,Wn){this.api=e,this.episode=t,this.badges=n,this.tests=l,this.feedbackQuestions=r,this.savegame=f,this.engagement=p,this.events=I,this.id=g,this.profile=Xn,this.formatConfiguration=Yn,this.tracker=nr,this.authUser=Wn,this.assets={getUrl:or=>{var Qn;if(!((Qn=this.episode)!=null&&Qn.assetsURL))throw new Error("Assets URL is not defined");return`${this.episode.assetsURL}/${or}`},get:or=>u$1(this,null,function*(){let Qn;try{const lr=yield fetch(this.assets.getUrl(or));if(lr.status!==200)throw new Error(`Could not fetch data. HTML status: ${lr.status}`);if(Qn=yield lr.text(),!Qn)throw new Error("File is empty!")}catch(lr){throw lr}return Q$2({content:Qn,fileName:or})})}}static create(e){return u$1(this,null,function*(){let t,n,l;const r=e.id||re$2(),f=e==null?void 0:e.savegameKeyId;if(!f)throw new Error("savegameKeyId not found");if(!r.season||!r.episode)throw new Error("sid or eid not found");if(e.seasonDefinition){const zn=K$2(e.seasonDefinition);n=j$2({customFetch:zn}),l=new $$1(window.localStorage)}else if(r.configUrl){const zn=yield(yield fetch(`${r.configUrl}/season.yaml`)).text(),sr=(yield Promise.resolve().then(()=>indexF6886d83)).parse(zn),rr=K$2(m(a({},sr),{assetsURL:r.configUrl}));n=j$2({customFetch:rr}),l=new $$1(window.localStorage)}else{if(!e.tenant)throw"config.tenant must be provided";if(t=yield O$1.create(e.tenant),!t)throw"Could not create Authentication Service";n=j$2({auth:t,tenant:e.tenant,localBackendURL:e.localBackendURL}),l=new $$1(yield A$2.create(n,f))}if(!n)throw new Error("Couldn't initialize the library");const{data:p}=yield n.domainModelSeasons.getEpisode(r.season,r.episode,{format:"json"});let I;if(p.assetsURL&&p.formatConfiguration&&!e.seasonDefinition)try{I=yield(yield fetch(`${p.assetsURL}/${p.formatConfiguration}`)).text()}catch(zn){console.error("No episode configuration found"),S$1.captureException(new Error("No episode configuration found"))}let g;I&&(g=yield Q$2({content:I,fileName:p.formatConfiguration}));const Xn=k$1.createForEpisode(r,p,n,f),Yn=C$2.createForEpisode(r,p,n,f),nr=new ie$2(r,l),Wn=new te$2(l),or=G$2.createForEpisode(p,l),Qn=l.getItem("SETTINGS")||oe$2,lr=new se$2(n,l,r,f);let er;return e.logRocketId&&t!=null&&t.user&&(er=yield R$1.create({logRocketId:e.logRocketId,userInfo:t.user,playerName:Qn.playerName})),new Mi(n,p,or,Xn,Yn,nr,Wn,lr,r,Qn,g,er,t==null?void 0:t.user)})}};const EPISODE_END="td-episode-end",TEST_PASS="td-test-pass",TEST_FAIL="td-test-fail",TEST_ID_PREFIX="td-test-id-",LOADING_SCREEN_ID="td-loading-screen";function initialize(){console.debug("Initializing talentkit"),createLoadingScreen();const s=getConfig();console.debug("Config",s),V$2.create(s).then(onTalentKitCreation).catch(logError)}function onTalentKitCreation(s){console.debug("Kit:",s),clearLoadingScreen(),attachTestListeners(s,TEST_PASS),attachTestListeners(s,TEST_FAIL),attachEndEpisodeListeners(s),handleSaveGame(s)}function attachTestListeners(s,e){document.querySelectorAll(`.${e}`).forEach(t=>{console.debug(`Element found for ${e} ${getElementInfo(t)}`),t.addEventListener("click",n=>{var r;n.preventDefault(),createLoadingScreen();const l=(r=Array.from(t.classList).find(f=>f.includes(TEST_ID_PREFIX)))==null?void 0:r.split(TEST_ID_PREFIX)[1];if(!l){logError(`Test ID not found for element ${getElementInfo(t)}`);return}if(!s.tests[l]){logError(`Test id: ${l} not found in kit.tests, available tests are: ${Object.keys(s.tests).toString()}`);return}e===TEST_PASS?s.tests[l].pass().then(()=>goToOriginalUrl(n)).catch(logError).finally(clearLoadingScreen):s.tests[l].fail().then(()=>goToOriginalUrl(n)).catch(logError).finally(clearLoadingScreen)})})}function attachEndEpisodeListeners(s){document.querySelectorAll(`.${EPISODE_END}`).forEach(e=>{console.debug(`Element found for ${EPISODE_END} ${getElementInfo(e)}`),e.addEventListener("click",()=>{const t=s.savegame.load(),n=isSavegame(t)?t:{};s.savegame.save(Ro(Io({},n),{lastPlayedUrl:void 0})),s.events.end().catch(logError)})})}function handleSaveGame(s){const e=new URLSearchParams(window.location.search).get("no-savegame")!==null,t=window.location.href.includes("sid")&&window.location.href.includes("eid"),n=s.savegame.load(),l=isSavegame(n)&&n;if(console.debug("Current savegame",l),t&&!e&&isSavegame(l)&&domainMatches(l)&&appNameMatches(l)&&window.location.href!==l.lastPlayedUrl){window.location.href=l.lastPlayedUrl;return}const r=isSavegame(l)?l:{},f=Ro(Io({},r),{lastPlayedUrl:window.location.href});s.savegame.save(f),console.debug("New savegame",f)}function domainMatches(s){var e,t;try{const n=/\/\/([a-z])+/g,l=(t=(e=s.lastPlayedUrl.match(n))==null?void 0:e[0].split("//")[1])!=null?t:"",r=window.location.host.includes(l);return console.debug("Domain matches",r),r}catch(n){return console.debug("domainMatches - savegameDomain not found"),!0}}function appNameMatches(s){try{const e=s.lastPlayedUrl.split("/app/webflow/")[1].split("/")[0],t=window.location.href.split("/app/webflow/")[1].split("/")[0],n=e===t;return console.debug("appNameMatches",n),n}catch(e){return console.debug("appNameMatches - app name not found"),!0}}function isSavegame(s){return!!(typeof s=="object"&&(s!=null&&s.hasOwnProperty("lastPlayedUrl")))}function goToOriginalUrl(s){const e=s.target;e!=null&&e.href&&(window.location.href=e.href)}function getConfig(){var r;const s=(r=window.location.hostname.split("."))==null?void 0:r[0],e=/app\/webflow\/([^\/?]+)(\/|(?=\?|$))/,t=window.location.pathname.match(e),n=t?t[1]:"webflow";return{tenant:s.startsWith("localhost")||window.location.hostname.endsWith("webflow.io")?"devtd2":s,savegameKeyId:n}}function createLoadingScreen(){const s=`
    @keyframes infinite-rotaton-animation {
      from { transform: rotate(0deg) }
      to { transform: rotate(360deg) }
    }

    .td-infinite-rotation {
      animation: infinite-rotaton-animation 2s linear infinite;
    }
  `,e=document.createElement("style");e.innerText=s,document.head.appendChild(e);const t=document.createElement("div");t.id=LOADING_SCREEN_ID,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="1000",t.style.transition="opacity 3s ease-in-out",t.style.opacity="0";const n=document.createElement("div");n.innerText="",n.style.fontSize="64px",n.style.color="white",n.className="td-infinite-rotation",document.body.appendChild(t),t.appendChild(n),setTimeout(()=>{t&&(t.style.opacity="1")},400)}function clearLoadingScreen(){var s;(s=document.getElementById(LOADING_SCREEN_ID))==null||s.remove()}function logError(s){console.error(`Kit snippet integration: ${s}`)}function getElementInfo(s){const e=s.classList.toString(),t=s.innerHTML;return`with classes ${e} and text ${t}`}initialize();function F$1(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let C$1=F$1();function K$1(s){C$1=s}const X$1=/[&<>"']/,Y$1=new RegExp(X$1.source,"g"),W=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ee$1=new RegExp(W.source,"g"),te$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v$1=s=>te$1[s];function b(s,e){if(e){if(X$1.test(s))return s.replace(Y$1,v$1)}else if(W.test(s))return s.replace(ee$1,v$1);return s}const ne$1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function G$1(s){return s.replace(ne$1,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ie$1=/(^|[^\[])\^/g;function k(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(n,l)=>(l=l.source||l,l=l.replace(ie$1,"$1"),s=s.replace(n,l),t),getRegex:()=>new RegExp(s,e)};return t}const se$1=/[^\w:]/g,re$1=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function M(s,e,t){if(s){let n;try{n=decodeURIComponent(G$1(t)).replace(se$1,"").toLowerCase()}catch(l){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!re$1.test(t)&&(t=ce$1(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(n){return null}return t}const Z$1={},le$1=/^[^:]+:\/*[^/]*$/,ae$1=/^([^:]+:)[\s\S]*$/,oe$1=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ce$1(s,e){Z$1[" "+s]||(le$1.test(s)?Z$1[" "+s]=s+"/":Z$1[" "+s]=q$1(s,"/",!0)),s=Z$1[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(ae$1,"$1")+e:e.charAt(0)==="/"?t?e:s.replace(oe$1,"$1")+e:s+e}const B$1={exec:function(){}};function y(s){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s}function j$1(s,e){const t=s.replace(/\|/g,(r,f,p)=>{let I=!1,g=f;for(;--g>=0&&p[g]==="\\";)I=!I;return I?"|":" |"}),n=t.split(/ \|/);let l=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;l<n.length;l++)n[l]=n[l].trim().replace(/\\\|/g,"|");return n}function q$1(s,e,t){const n=s.length;if(n===0)return"";let l=0;for(;l<n;){const r=s.charAt(n-l-1);if(r===e&&!t)l++;else if(r!==e&&t)l++;else break}return s.slice(0,n-l)}function he$1(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let n=0,l=0;for(;l<t;l++)if(s[l]==="\\")l++;else if(s[l]===e[0])n++;else if(s[l]===e[1]&&(n--,n<0))return l;return-1}function V$1(s){s&&s.sanitize&&!s.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function Q$1(s,e,t,n){const l=e.href,r=e.title?b(e.title):null,f=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const p={type:"link",raw:t,href:l,title:r,text:f,tokens:n.inlineTokens(f)};return n.state.inLink=!1,p}return{type:"image",raw:t,href:l,title:r,text:b(f)}}function pe$1(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(l=>{const r=l.match(/^\s+/);if(r===null)return l;const[f]=r;return f.length>=n.length?l.slice(n.length):l}).join(`
`)}let D$1=class{constructor(e){this.options=e||C$1}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:q$1(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],l=pe$1(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const l=q$1(n,"#");(this.options.pedantic||!l||/ $/.test(l))&&(n=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=l,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,l,r,f,p,I,g,Xn,Yn,nr,Wn,or,Qn=t[1].trim();const lr=Qn.length>1,er={type:"list",raw:"",ordered:lr,start:lr?+Qn.slice(0,-1):"",loose:!1,items:[]};Qn=lr?`\\d{1,9}\\${Qn.slice(-1)}`:`\\${Qn}`,this.options.pedantic&&(Qn=lr?Qn:"[*+-]");const zn=new RegExp(`^( {0,3}${Qn})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(or=!1,!(!(t=zn.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),Xn=t[2].split(`
`,1)[0].replace(/^\t+/,rr=>" ".repeat(3*rr.length)),Yn=e.split(`
`,1)[0],this.options.pedantic?(f=2,Wn=Xn.trimLeft()):(f=t[2].search(/[^ ]/),f=f>4?1:f,Wn=Xn.slice(f),f+=t[1].length),I=!1,!Xn&&/^ *$/.test(Yn)&&(n+=Yn+`
`,e=e.substring(Yn.length+1),or=!0),!or){const rr=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ir=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ar=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),fr=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e&&(nr=e.split(`
`,1)[0],Yn=nr,this.options.pedantic&&(Yn=Yn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ar.test(Yn)||fr.test(Yn)||rr.test(Yn)||ir.test(e)));){if(Yn.search(/[^ ]/)>=f||!Yn.trim())Wn+=`
`+Yn.slice(f);else{if(I||Xn.search(/[^ ]/)>=4||ar.test(Xn)||fr.test(Xn)||ir.test(Xn))break;Wn+=`
`+Yn}!I&&!Yn.trim()&&(I=!0),n+=nr+`
`,e=e.substring(nr.length+1),Xn=Yn.slice(f)}}er.loose||(g?er.loose=!0:/\n *\n *$/.test(n)&&(g=!0)),this.options.gfm&&(l=/^\[[ xX]\] /.exec(Wn),l&&(r=l[0]!=="[ ] ",Wn=Wn.replace(/^\[[ xX]\] +/,""))),er.items.push({type:"list_item",raw:n,task:!!l,checked:r,loose:!1,text:Wn}),er.raw+=n}er.items[er.items.length-1].raw=n.trimRight(),er.items[er.items.length-1].text=Wn.trimRight(),er.raw=er.raw.trimRight();const sr=er.items.length;for(p=0;p<sr;p++)if(this.lexer.state.top=!1,er.items[p].tokens=this.lexer.blockTokens(er.items[p].text,[]),!er.loose){const rr=er.items[p].tokens.filter(ar=>ar.type==="space"),ir=rr.length>0&&rr.some(ar=>/\n.*\n/.test(ar.raw));er.loose=ir}if(er.loose)for(p=0;p<sr;p++)er.items[p].loose=!0;return er}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(t[0]):b(t[0]);n.type="paragraph",n.text=l,n.tokens=this.lexer.inline(l)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:l,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:j$1(t[1]).map(l=>({text:l})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let l=n.align.length,r,f,p,I;for(r=0;r<l;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(l=n.rows.length,r=0;r<l;r++)n.rows[r]=j$1(n.rows[r],n.header.length).map(g=>({text:g}));for(l=n.header.length,f=0;f<l;f++)n.header[f].tokens=this.lexer.inline(n.header[f].text);for(l=n.rows.length,f=0;f<l;f++)for(I=n.rows[f],p=0;p<I.length;p++)I[p].tokens=this.lexer.inline(I[p].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:b(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):b(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const f=q$1(n.slice(0,-1),"\\");if((n.length-f.length)%2===0)return}else{const f=he$1(t[2],"()");if(f>-1){const p=(t[0].indexOf("!")===0?5:4)+t[1].length+f;t[2]=t[2].substring(0,f),t[0]=t[0].substring(0,p).trim(),t[3]=""}}let l=t[2],r="";if(this.options.pedantic){const f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);f&&(l=f[1],r=f[3])}else r=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(n)?l=l.slice(1):l=l.slice(1,-1)),Q$1(t,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let l=(n[2]||n[1]).replace(/\s+/g," ");if(l=t[l.toLowerCase()],!l){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Q$1(n,l,n[0],this.lexer)}}emStrong(e,t,n=""){let l=this.rules.inline.emStrong.lDelim.exec(e);if(!l||l[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=l[1]||l[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const f=l[0].length-1;let p,I,g=f,Xn=0;const Yn=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Yn.lastIndex=0,t=t.slice(-1*e.length+f);(l=Yn.exec(t))!=null;){if(p=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!p)continue;if(I=p.length,l[3]||l[4]){g+=I;continue}else if((l[5]||l[6])&&f%3&&!((f+I)%3)){Xn+=I;continue}if(g-=I,g>0)continue;I=Math.min(I,I+g+Xn);const nr=e.slice(0,f+l.index+(l[0].length-p.length)+I);if(Math.min(f,I)%2){const or=nr.slice(1,-1);return{type:"em",raw:nr,text:or,tokens:this.lexer.inlineTokens(or)}}const Wn=nr.slice(2,-2);return{type:"strong",raw:nr,text:Wn,tokens:this.lexer.inlineTokens(Wn)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const l=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return l&&r&&(n=n.substring(1,n.length-1)),n=b(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let l,r;return n[2]==="@"?(l=b(this.options.mangle?t(n[1]):n[1]),r="mailto:"+l):(l=b(n[1]),r=l),{type:"link",raw:n[0],text:l,href:r,tokens:[{type:"text",raw:l,text:l}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let l,r;if(n[2]==="@")l=b(this.options.mangle?t(n[0]):n[0]),r="mailto:"+l;else{let f;do f=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(f!==n[0]);l=b(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:l,href:r,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):b(n[0]):n[0]:l=b(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:l}}}};const h$1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:B$1,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};h$1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,h$1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,h$1.def=k(h$1.def).replace("label",h$1._label).replace("title",h$1._title).getRegex(),h$1.bullet=/(?:[*+-]|\d{1,9}[.)])/,h$1.listItemStart=k(/^( *)(bull) */).replace("bull",h$1.bullet).getRegex(),h$1.list=k(h$1.list).replace(/bull/g,h$1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+h$1.def.source+")").getRegex(),h$1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",h$1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,h$1.html=k(h$1.html,"i").replace("comment",h$1._comment).replace("tag",h$1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),h$1.paragraph=k(h$1._paragraph).replace("hr",h$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h$1._tag).getRegex(),h$1.blockquote=k(h$1.blockquote).replace("paragraph",h$1.paragraph).getRegex(),h$1.normal=y({},h$1),h$1.gfm=y({},h$1.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),h$1.gfm.table=k(h$1.gfm.table).replace("hr",h$1.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h$1._tag).getRegex(),h$1.gfm.paragraph=k(h$1._paragraph).replace("hr",h$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",h$1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",h$1._tag).getRegex(),h$1.pedantic=y({},h$1.normal,{html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",h$1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B$1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(h$1.normal._paragraph).replace("hr",h$1.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",h$1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B$1,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B$1,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};o._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",o.punctuation=k(o.punctuation).replace(/punctuation/g,o._punctuation).getRegex(),o.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,o.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,o._comment=k(h$1._comment).replace("(?:-->|$)","-->").getRegex(),o.emStrong.lDelim=k(o.emStrong.lDelim).replace(/punct/g,o._punctuation).getRegex(),o.emStrong.rDelimAst=k(o.emStrong.rDelimAst,"g").replace(/punct/g,o._punctuation).getRegex(),o.emStrong.rDelimUnd=k(o.emStrong.rDelimUnd,"g").replace(/punct/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=k(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=k(o.tag).replace("comment",o._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=k(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=k(o.reflink).replace("label",o._label).replace("ref",h$1._label).getRegex(),o.nolink=k(o.nolink).replace("ref",h$1._label).getRegex(),o.reflinkSearch=k(o.reflinkSearch,"g").replace("reflink",o.reflink).replace("nolink",o.nolink).getRegex(),o.normal=y({},o),o.pedantic=y({},o.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=y({},o.normal,{escape:k(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),o.gfm.url=k(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=y({},o.gfm,{br:k(o.br).replace("{2,}","*").getRegex(),text:k(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ue$1(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function N(s){let e="",t,n;const l=s.length;for(t=0;t<l;t++)n=s.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}let A$1=class Po{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||C$1,this.options.tokenizer=this.options.tokenizer||new D$1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:h$1.normal,inline:o.normal};this.options.pedantic?(t.block=h$1.pedantic,t.inline=o.pedantic):this.options.gfm&&(t.block=h$1.gfm,this.options.breaks?t.inline=o.breaks:t.inline=o.gfm),this.tokenizer.rules=t}static get rules(){return{block:h$1,inline:o}}static lex(e,t){return new Po(t).lex(e)}static lexInline(e,t){return new Po(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(p,I,g)=>I+"    ".repeat(g.length));let n,l,r,f;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(n=p.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+n.raw,l.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const I=e.slice(1);let g;this.options.extensions.startBlock.forEach(function(Xn){g=Xn.call({lexer:this},I),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(r=e.substring(0,p+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){l=t[t.length-1],f&&l.type==="paragraph"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(n),f=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),l=t[t.length-1],l&&l.type==="text"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(n);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,l,r,f=e,p,I,g;if(this.tokens.links){const Xn=Object.keys(this.tokens.links);if(Xn.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)Xn.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,p.index)+"["+P("a",p[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,p.index)+"["+P("a",p[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.escapedEmSt.exec(f))!=null;)f=f.slice(0,p.index+p[0].length-2)+"++"+f.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(I||(g=""),I=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Xn=>(n=Xn.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),l=t[t.length-1],l&&n.type==="text"&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),l=t[t.length-1],l&&n.type==="text"&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,f,g)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,N)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,N))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let Xn=1/0;const Yn=e.slice(1);let nr;this.options.extensions.startInline.forEach(function(Wn){nr=Wn.call({lexer:this},Yn),typeof nr=="number"&&nr>=0&&(Xn=Math.min(Xn,nr))}),Xn<1/0&&Xn>=0&&(r=e.substring(0,Xn+1))}if(n=this.tokenizer.inlineText(r,ue$1)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(g=n.raw.slice(-1)),I=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):t.push(n);continue}if(e){const Xn="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Xn);break}else throw new Error(Xn)}}return t}};class O{constructor(e){this.options=e||C$1}code(e,t,n){const l=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,l);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+b(l)+'">'+(n?e:b(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:b(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,l){if(this.options.headerIds){const r=this.options.headerPrefix+l.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const l=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+l+r+`>
`+e+"</"+l+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=M(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>",l}image(e,t,n){if(e=M(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let l=`<img src="${e}" alt="${n}"`;return t&&(l+=` title="${t}"`),l+=this.options.xhtml?"/>":">",l}text(e){return e}}class H{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}let J$1=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,l=0;if(this.seen.hasOwnProperty(n)){l=this.seen[e];do l++,n=e+"-"+l;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=l,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};class S{constructor(e){this.options=e||C$1,this.options.renderer=this.options.renderer||new O,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new H,this.slugger=new J$1}static parse(e,t){return new S(t).parse(e)}static parseInline(e,t){return new S(t).parseInline(e)}parse(e,t=!0){let n="",l,r,f,p,I,g,Xn,Yn,nr,Wn,or,Qn,lr,er,zn,sr,rr,ir,ar;const fr=e.length;for(l=0;l<fr;l++){if(Wn=e[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Wn.type]&&(ar=this.options.extensions.renderers[Wn.type].call({parser:this},Wn),ar!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Wn.type))){n+=ar||"";continue}switch(Wn.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(Wn.tokens),Wn.depth,G$1(this.parseInline(Wn.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(Wn.text,Wn.lang,Wn.escaped);continue}case"table":{for(Yn="",Xn="",p=Wn.header.length,r=0;r<p;r++)Xn+=this.renderer.tablecell(this.parseInline(Wn.header[r].tokens),{header:!0,align:Wn.align[r]});for(Yn+=this.renderer.tablerow(Xn),nr="",p=Wn.rows.length,r=0;r<p;r++){for(g=Wn.rows[r],Xn="",I=g.length,f=0;f<I;f++)Xn+=this.renderer.tablecell(this.parseInline(g[f].tokens),{header:!1,align:Wn.align[f]});nr+=this.renderer.tablerow(Xn)}n+=this.renderer.table(Yn,nr);continue}case"blockquote":{nr=this.parse(Wn.tokens),n+=this.renderer.blockquote(nr);continue}case"list":{for(or=Wn.ordered,Qn=Wn.start,lr=Wn.loose,p=Wn.items.length,nr="",r=0;r<p;r++)zn=Wn.items[r],sr=zn.checked,rr=zn.task,er="",zn.task&&(ir=this.renderer.checkbox(sr),lr?zn.tokens.length>0&&zn.tokens[0].type==="paragraph"?(zn.tokens[0].text=ir+" "+zn.tokens[0].text,zn.tokens[0].tokens&&zn.tokens[0].tokens.length>0&&zn.tokens[0].tokens[0].type==="text"&&(zn.tokens[0].tokens[0].text=ir+" "+zn.tokens[0].tokens[0].text)):zn.tokens.unshift({type:"text",text:ir}):er+=ir),er+=this.parse(zn.tokens,lr),nr+=this.renderer.listitem(er,rr,sr);n+=this.renderer.list(nr,or,Qn);continue}case"html":{n+=this.renderer.html(Wn.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(Wn.tokens));continue}case"text":{for(nr=Wn.tokens?this.parseInline(Wn.tokens):Wn.text;l+1<fr&&e[l+1].type==="text";)Wn=e[++l],nr+=`
`+(Wn.tokens?this.parseInline(Wn.tokens):Wn.text);n+=t?this.renderer.paragraph(nr):nr;continue}default:{const hr='Token with "'+Wn.type+'" type was not found.';if(this.options.silent){console.error(hr);return}else throw new Error(hr)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",l,r,f;const p=e.length;for(l=0;l<p;l++){if(r=e[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(f=this.options.extensions.renderers[r.type].call({parser:this},r),f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=f||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const I='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return n}}function u(s,e,t){if(typeof s=="undefined"||s===null)throw new Error("marked(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=y({},u.defaults,e||{}),V$1(e),t){const l=e.highlight;let r;try{r=A$1.lex(s,e)}catch(I){return t(I)}const f=function(I){let g;if(!I)try{e.walkTokens&&u.walkTokens(r,e.walkTokens),g=S.parse(r,e)}catch(Xn){I=Xn}return e.highlight=l,I?t(I):t(null,g)};if(!l||l.length<3||(delete e.highlight,!r.length))return f();let p=0;u.walkTokens(r,function(I){I.type==="code"&&(p++,setTimeout(()=>{l(I.text,I.lang,function(g,Xn){if(g)return f(g);Xn!=null&&Xn!==I.text&&(I.text=Xn,I.escaped=!0),p--,p===0&&f()})},0))}),p===0&&f();return}function n(l){if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+b(l.message+"",!0)+"</pre>";throw l}try{const l=A$1.lex(s,e);if(e.walkTokens){if(e.async)return Promise.all(u.walkTokens(l,e.walkTokens)).then(()=>S.parse(l,e)).catch(n);u.walkTokens(l,e.walkTokens)}return S.parse(l,e)}catch(l){n(l)}}u.options=u.setOptions=function(s){return y(u.defaults,s),K$1(u.defaults),u},u.getDefaults=F$1,u.defaults=C$1,u.use=function(...s){const e=u.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const n=y({},t);if(n.async=u.defaults.async||n.async,t.extensions&&(t.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){const r=e.renderers[l.name];r?e.renderers[l.name]=function(...f){let p=l.renderer.apply(this,f);return p===!1&&(p=r.apply(this,f)),p}:e.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[l.level]?e[l.level].unshift(l.tokenizer):e[l.level]=[l.tokenizer],l.start&&(l.level==="block"?e.startBlock?e.startBlock.push(l.start):e.startBlock=[l.start]:l.level==="inline"&&(e.startInline?e.startInline.push(l.start):e.startInline=[l.start]))}l.childTokens&&(e.childTokens[l.name]=l.childTokens)}),n.extensions=e),t.renderer){const l=u.defaults.renderer||new O;for(const r in t.renderer){const f=l[r];l[r]=(...p)=>{let I=t.renderer[r].apply(l,p);return I===!1&&(I=f.apply(l,p)),I}}n.renderer=l}if(t.tokenizer){const l=u.defaults.tokenizer||new D$1;for(const r in t.tokenizer){const f=l[r];l[r]=(...p)=>{let I=t.tokenizer[r].apply(l,p);return I===!1&&(I=f.apply(l,p)),I}}n.tokenizer=l}if(t.walkTokens){const l=u.defaults.walkTokens;n.walkTokens=function(r){let f=[];return f.push(t.walkTokens.call(this,r)),l&&(f=f.concat(l.call(this,r))),f}}u.setOptions(n)})},u.walkTokens=function(s,e){let t=[];for(const n of s)switch(t=t.concat(e.call(u,n)),n.type){case"table":{for(const l of n.header)t=t.concat(u.walkTokens(l.tokens,e));for(const l of n.rows)for(const r of l)t=t.concat(u.walkTokens(r.tokens,e));break}case"list":{t=t.concat(u.walkTokens(n.items,e));break}default:u.defaults.extensions&&u.defaults.extensions.childTokens&&u.defaults.extensions.childTokens[n.type]?u.defaults.extensions.childTokens[n.type].forEach(function(l){t=t.concat(u.walkTokens(n[l],e))}):n.tokens&&(t=t.concat(u.walkTokens(n.tokens,e)))}return t},u.parseInline=function(s,e){if(typeof s=="undefined"||s===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");e=y({},u.defaults,e||{}),V$1(e);try{const t=A$1.lexInline(s,e);return e.walkTokens&&u.walkTokens(t,e.walkTokens),S.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+b(t.message+"",!0)+"</pre>";throw t}},u.Parser=S,u.parser=S.parse,u.Renderer=O,u.TextRenderer=H,u.Lexer=A$1,u.lexer=A$1.lex,u.Tokenizer=D$1,u.Slugger=J$1,u.parse=u,u.options,u.setOptions,u.use,u.walkTokens,u.parseInline,S.parse,A$1.lex;const marked_esmFba9d439=Object.freeze(Object.defineProperty({__proto__:null,Lexer:A$1,Parser:S,Renderer:O,Slugger:J$1,TextRenderer:H,Tokenizer:D$1,get defaults(){return C$1},getDefaults:F$1,marked:u},Symbol.toStringTag,{value:"Module"}));function ii(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in s)){const r=Object.getOwnPropertyDescriptor(n,l);r&&Object.defineProperty(s,l,r.get?r:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}function ti(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var li=function(){function s(n,l){function r(){this.constructor=n}r.prototype=l.prototype,n.prototype=new r}function e(n,l,r,f,p,I){this.message=n,this.expected=l,this.found=r,this.offset=f,this.line=p,this.column=I,this.name="SyntaxError"}s(e,Error);function t(n){var l=arguments.length>1?arguments[1]:{},r={},f={start:si},p=si,I=function(){return Ci},g=r,Xn="#",Yn={type:"literal",value:"#",description:'"#"'},nr=void 0,Wn={type:"any",description:"any character"},or="[",Qn={type:"literal",value:"[",description:'"["'},lr="]",er={type:"literal",value:"]",description:'"]"'},zn=function(c){Oo(Yr("ObjectPath",c,Jr,Qr))},sr=function(c){Oo(Yr("ArrayPath",c,Jr,Qr))},rr=function(c,Tt){return c.concat(Tt)},ir=function(c){return[c]},ar=function(c){return c},fr=".",hr={type:"literal",value:".",description:'"."'},wr="=",Sr={type:"literal",value:"=",description:'"="'},Ar=function(c,Tt){Oo(Yr("Assign",Tt,Jr,Qr,c))},Fr=function(c){return c.join("")},_r=function(c){return c.value},xr='"""',Ur={type:"literal",value:'"""',description:'"\\"\\"\\""'},Dr=null,Hr=function(c){return Yr("String",c.join(""),Jr,Qr)},Xr='"',Vr={type:"literal",value:'"',description:'"\\""'},Mr="'''",Lr={type:"literal",value:"'''",description:`"'''"`},Zn="'",cr={type:"literal",value:"'",description:`"'"`},mr=function(c){return c},kr=function(c){return c},yr="\\",dr={type:"literal",value:"\\",description:'"\\\\"'},Tr=function(){return""},Or="e",Pr={type:"literal",value:"e",description:'"e"'},Cr="E",Nr={type:"literal",value:"E",description:'"E"'},zr=function(c,Tt){return Yr("Float",parseFloat(c+"e"+Tt),Jr,Qr)},oo=function(c){return Yr("Float",parseFloat(c),Jr,Qr)},Zr="+",Cs={type:"literal",value:"+",description:'"+"'},yo=function(c){return c.join("")},co="-",uo={type:"literal",value:"-",description:'"-"'},Lo=function(c){return"-"+c.join("")},qi=function(c){return Yr("Integer",parseInt(c,10),Jr,Qr)},jo="true",Hi={type:"literal",value:"true",description:'"true"'},Bi=function(){return Yr("Boolean",!0,Jr,Qr)},No="false",Ki={type:"literal",value:"false",description:'"false"'},zi=function(){return Yr("Boolean",!1,Jr,Qr)},Gi=function(){return Yr("Array",[],Jr,Qr)},Xi=function(c){return Yr("Array",c?[c]:[],Jr,Qr)},Wi=function(c){return Yr("Array",c,Jr,Qr)},Vi=function(c,Tt){return Yr("Array",c.concat(Tt),Jr,Qr)},Uo=function(c){return c},Fo=",",Do={type:"literal",value:",",description:'","'},Ji="{",Qi={type:"literal",value:"{",description:'"{"'},Yi="}",Zi={type:"literal",value:"}",description:'"}"'},ea=function(c){return Yr("InlineTable",c,Jr,Qr)},Mo=function(c,Tt){return Yr("InlineTableValue",Tt,Jr,Qr,c)},ta=function(c){return"."+c},na=function(c){return c.join("")},fo=":",ho={type:"literal",value:":",description:'":"'},qo=function(c){return c.join("")},Ho="T",Bo={type:"literal",value:"T",description:'"T"'},ra="Z",sa={type:"literal",value:"Z",description:'"Z"'},oa=function(c,Tt){return Yr("Date",new Date(c+"T"+Tt+"Z"),Jr,Qr)},ia=function(c,Tt){return Yr("Date",new Date(c+"T"+Tt),Jr,Qr)},aa=/^[ \t]/,la={type:"class",value:"[ \\t]",description:"[ \\t]"},Ko=`
`,zo={type:"literal",value:`
`,description:'"\\n"'},ca="\r",ua={type:"literal",value:"\r",description:'"\\r"'},fa=/^[0-9a-f]/i,ha={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},da=/^[0-9]/,pa={type:"class",value:"[0-9]",description:"[0-9]"},ga="_",ma={type:"literal",value:"_",description:'"_"'},ya=function(){return""},va=/^[A-Za-z0-9_\-]/,ba={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},ka=function(c){return c.join("")},Go='\\"',wa={type:"literal",value:'\\"',description:'"\\\\\\""'},xa=function(){return'"'},Xo="\\\\",Ea={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Sa=function(){return"\\"},Wo="\\b",Aa={type:"literal",value:"\\b",description:'"\\\\b"'},Ta=function(){return"\b"},Vo="\\t",_a={type:"literal",value:"\\t",description:'"\\\\t"'},Oa=function(){return"	"},Jo="\\n",$a={type:"literal",value:"\\n",description:'"\\\\n"'},Ca=function(){return`
`},Qo="\\f",Ia={type:"literal",value:"\\f",description:'"\\\\f"'},Ra=function(){return"\f"},Yo="\\r",Pa={type:"literal",value:"\\r",description:'"\\\\r"'},La=function(){return"\r"},Zo="\\U",ja={type:"literal",value:"\\U",description:'"\\\\U"'},ei=function(c){return nl(c.join(""))},ri="\\u",Na={type:"literal",value:"\\u",description:'"\\\\u"'},d=0,Rr=0,po=0,Eo={line:1,column:1,seenCR:!1},vo=0,So=[],vr=0,br={},bo;if("startRule"in l){if(!(l.startRule in f))throw new Error(`Can't start parsing from rule "`+l.startRule+'".');p=f[l.startRule]}function Jr(){return Ao(Rr).line}function Qr(){return Ao(Rr).column}function Ao(c){function Tt(xn,Hn,tr){var ur,pr;for(ur=Hn;ur<tr;ur++)pr=n.charAt(ur),pr===`
`?(xn.seenCR||xn.line++,xn.column=1,xn.seenCR=!1):pr==="\r"||pr==="\u2028"||pr==="\u2029"?(xn.line++,xn.column=1,xn.seenCR=!0):(xn.column++,xn.seenCR=!1)}return po!==c&&(po>c&&(po=0,Eo={line:1,column:1,seenCR:!1}),Tt(Eo,po,c),po=c),Eo}function Er(c){d<vo||(d>vo&&(vo=d,So=[]),So.push(c))}function Ua(c,Tt,xn){function Hn($r){var jr=1;for($r.sort(function(Kr,qr){return Kr.description<qr.description?-1:Kr.description>qr.description?1:0});jr<$r.length;)$r[jr-1]===$r[jr]?$r.splice(jr,1):jr++}function tr($r,jr){function Kr(lo){function io(to){return to.charCodeAt(0).toString(16).toUpperCase()}return lo.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(to){return"\\x0"+io(to)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(to){return"\\x"+io(to)}).replace(/[\u0180-\u0FFF]/g,function(to){return"\\u0"+io(to)}).replace(/[\u1080-\uFFFF]/g,function(to){return"\\u"+io(to)})}var qr=new Array($r.length),Gr,Wr,eo;for(eo=0;eo<$r.length;eo++)qr[eo]=$r[eo].description;return Gr=$r.length>1?qr.slice(0,-1).join(", ")+" or "+qr[$r.length-1]:qr[0],Wr=jr?'"'+Kr(jr)+'"':"end of input","Expected "+Gr+" but "+Wr+" found."}var ur=Ao(xn),pr=xn<n.length?n.charAt(xn):null;return Tt!==null&&Hn(Tt),new e(c!==null?c:tr(Tt,pr),Tt,pr,xn,ur.line,ur.column)}function si(){var c,Tt,xn,Hn=d*49+0,tr=br[Hn];if(tr)return d=tr.nextPos,tr.result;for(c=d,Tt=[],xn=hi();xn!==r;)Tt.push(xn),xn=hi();return Tt!==r&&(Rr=c,Tt=I()),c=Tt,br[Hn]={nextPos:d,result:c},c}function hi(){var c,Tt,xn,Hn,tr,ur,pr,$r=d*49+1,jr=br[$r];if(jr)return d=jr.nextPos,jr.result;for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=Fa(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();if(Hn!==r){for(tr=[],ur=ko();ur!==r;)tr.push(ur),ur=ko();if(tr!==r){if(ur=[],pr=ro(),pr!==r)for(;pr!==r;)ur.push(pr),pr=ro();else ur=g;ur===r&&(ur=xo()),ur!==r?(Tt=[Tt,xn,Hn,tr,ur],c=Tt):(d=c,c=g)}else d=c,c=g}else d=c,c=g}else d=c,c=g;else d=c,c=g;if(c===r){if(c=d,Tt=[],xn=Ir(),xn!==r)for(;xn!==r;)Tt.push(xn),xn=Ir();else Tt=g;if(Tt!==r){if(xn=[],Hn=ro(),Hn!==r)for(;Hn!==r;)xn.push(Hn),Hn=ro();else xn=g;xn===r&&(xn=xo()),xn!==r?(Tt=[Tt,xn],c=Tt):(d=c,c=g)}else d=c,c=g;c===r&&(c=ro())}return br[$r]={nextPos:d,result:c},c}function Fa(){var c,Tt=d*49+2,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(c=ko(),c===r&&(c=Da(),c===r&&(c=Ma(),c===r&&(c=qa()))),br[Tt]={nextPos:d,result:c},c)}function ko(){var c,Tt,xn,Hn,tr,ur,pr=d*49+3,$r=br[pr];if($r)return d=$r.nextPos,$r.result;if(c=d,n.charCodeAt(d)===35?(Tt=Xn,d++):(Tt=r,vr===0&&Er(Yn)),Tt!==r){for(xn=[],Hn=d,tr=d,vr++,ur=ro(),ur===r&&(ur=xo()),vr--,ur===r?tr=nr:(d=tr,tr=g),tr!==r?(n.length>d?(ur=n.charAt(d),d++):(ur=r,vr===0&&Er(Wn)),ur!==r?(tr=[tr,ur],Hn=tr):(d=Hn,Hn=g)):(d=Hn,Hn=g);Hn!==r;)xn.push(Hn),Hn=d,tr=d,vr++,ur=ro(),ur===r&&(ur=xo()),vr--,ur===r?tr=nr:(d=tr,tr=g),tr!==r?(n.length>d?(ur=n.charAt(d),d++):(ur=r,vr===0&&Er(Wn)),ur!==r?(tr=[tr,ur],Hn=tr):(d=Hn,Hn=g)):(d=Hn,Hn=g);xn!==r?(Tt=[Tt,xn],c=Tt):(d=c,c=g)}else d=c,c=g;return br[pr]={nextPos:d,result:c},c}function Da(){var c,Tt,xn,Hn,tr,ur,pr=d*49+4,$r=br[pr];if($r)return d=$r.nextPos,$r.result;if(c=d,n.charCodeAt(d)===91?(Tt=or,d++):(Tt=r,vr===0&&Er(Qn)),Tt!==r){for(xn=[],Hn=Ir();Hn!==r;)xn.push(Hn),Hn=Ir();if(xn!==r)if(Hn=di(),Hn!==r){for(tr=[],ur=Ir();ur!==r;)tr.push(ur),ur=Ir();tr!==r?(n.charCodeAt(d)===93?(ur=lr,d++):(ur=r,vr===0&&Er(er)),ur!==r?(Rr=c,Tt=zn(Hn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;return br[pr]={nextPos:d,result:c},c}function Ma(){var c,Tt,xn,Hn,tr,ur,pr,$r,jr=d*49+5,Kr=br[jr];if(Kr)return d=Kr.nextPos,Kr.result;if(c=d,n.charCodeAt(d)===91?(Tt=or,d++):(Tt=r,vr===0&&Er(Qn)),Tt!==r)if(n.charCodeAt(d)===91?(xn=or,d++):(xn=r,vr===0&&Er(Qn)),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();if(Hn!==r)if(tr=di(),tr!==r){for(ur=[],pr=Ir();pr!==r;)ur.push(pr),pr=Ir();ur!==r?(n.charCodeAt(d)===93?(pr=lr,d++):(pr=r,vr===0&&Er(er)),pr!==r?(n.charCodeAt(d)===93?($r=lr,d++):($r=r,vr===0&&Er(er)),$r!==r?(Rr=c,Tt=sr(tr),c=Tt):(d=c,c=g)):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g;return br[jr]={nextPos:d,result:c},c}function di(){var c,Tt,xn,Hn=d*49+6,tr=br[Hn];if(tr)return d=tr.nextPos,tr.result;if(c=d,Tt=[],xn=gi(),xn!==r)for(;xn!==r;)Tt.push(xn),xn=gi();else Tt=g;return Tt!==r?(xn=pi(),xn!==r?(Rr=c,Tt=rr(Tt,xn),c=Tt):(d=c,c=g)):(d=c,c=g),c===r&&(c=d,Tt=pi(),Tt!==r&&(Rr=c,Tt=ir(Tt)),c=Tt),br[Hn]={nextPos:d,result:c},c}function pi(){var c,Tt,xn,Hn,tr,ur=d*49+7,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=go(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();Hn!==r?(Rr=c,Tt=ar(xn),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g;if(c===r){for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=To(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();Hn!==r?(Rr=c,Tt=ar(xn),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g}return br[ur]={nextPos:d,result:c},c}function gi(){var c,Tt,xn,Hn,tr,ur,pr,$r=d*49+8,jr=br[$r];if(jr)return d=jr.nextPos,jr.result;for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=go(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();if(Hn!==r)if(n.charCodeAt(d)===46?(tr=fr,d++):(tr=r,vr===0&&Er(hr)),tr!==r){for(ur=[],pr=Ir();pr!==r;)ur.push(pr),pr=Ir();ur!==r?(Rr=c,Tt=ar(xn),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g;if(c===r){for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=To(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();if(Hn!==r)if(n.charCodeAt(d)===46?(tr=fr,d++):(tr=r,vr===0&&Er(hr)),tr!==r){for(ur=[],pr=Ir();pr!==r;)ur.push(pr),pr=Ir();ur!==r?(Rr=c,Tt=ar(xn),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g}return br[$r]={nextPos:d,result:c},c}function qa(){var c,Tt,xn,Hn,tr,ur,pr=d*49+9,$r=br[pr];if($r)return d=$r.nextPos,$r.result;if(c=d,Tt=go(),Tt!==r){for(xn=[],Hn=Ir();Hn!==r;)xn.push(Hn),Hn=Ir();if(xn!==r)if(n.charCodeAt(d)===61?(Hn=wr,d++):(Hn=r,vr===0&&Er(Sr)),Hn!==r){for(tr=[],ur=Ir();ur!==r;)tr.push(ur),ur=Ir();tr!==r?(ur=ao(),ur!==r?(Rr=c,Tt=Ar(Tt,ur),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;if(c===r)if(c=d,Tt=To(),Tt!==r){for(xn=[],Hn=Ir();Hn!==r;)xn.push(Hn),Hn=Ir();if(xn!==r)if(n.charCodeAt(d)===61?(Hn=wr,d++):(Hn=r,vr===0&&Er(Sr)),Hn!==r){for(tr=[],ur=Ir();ur!==r;)tr.push(ur),ur=Ir();tr!==r?(ur=ao(),ur!==r?(Rr=c,Tt=Ar(Tt,ur),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;return br[pr]={nextPos:d,result:c},c}function go(){var c,Tt,xn,Hn=d*49+10,tr=br[Hn];if(tr)return d=tr.nextPos,tr.result;if(c=d,Tt=[],xn=Oi(),xn!==r)for(;xn!==r;)Tt.push(xn),xn=Oi();else Tt=g;return Tt!==r&&(Rr=c,Tt=Fr(Tt)),c=Tt,br[Hn]={nextPos:d,result:c},c}function To(){var c,Tt,xn=d*49+11,Hn=br[xn];return Hn?(d=Hn.nextPos,Hn.result):(c=d,Tt=mi(),Tt!==r&&(Rr=c,Tt=_r(Tt)),c=Tt,c===r&&(c=d,Tt=yi(),Tt!==r&&(Rr=c,Tt=_r(Tt)),c=Tt),br[xn]={nextPos:d,result:c},c)}function ao(){var c,Tt=d*49+12,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(c=Ha(),c===r&&(c=Za(),c===r&&(c=Ga(),c===r&&(c=Xa(),c===r&&(c=Wa(),c===r&&(c=Va(),c===r&&(c=Ja())))))),br[Tt]={nextPos:d,result:c},c)}function Ha(){var c,Tt=d*49+13,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(c=Ba(),c===r&&(c=mi(),c===r&&(c=Ka(),c===r&&(c=yi()))),br[Tt]={nextPos:d,result:c},c)}function Ba(){var c,Tt,xn,Hn,tr,ur=d*49+14,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;if(c=d,n.substr(d,3)===xr?(Tt=xr,d+=3):(Tt=r,vr===0&&Er(Ur)),Tt!==r)if(xn=ro(),xn===r&&(xn=Dr),xn!==r){for(Hn=[],tr=ki();tr!==r;)Hn.push(tr),tr=ki();Hn!==r?(n.substr(d,3)===xr?(tr=xr,d+=3):(tr=r,vr===0&&Er(Ur)),tr!==r?(Rr=c,Tt=Hr(Hn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g;return br[ur]={nextPos:d,result:c},c}function mi(){var c,Tt,xn,Hn,tr=d*49+15,ur=br[tr];if(ur)return d=ur.nextPos,ur.result;if(c=d,n.charCodeAt(d)===34?(Tt=Xr,d++):(Tt=r,vr===0&&Er(Vr)),Tt!==r){for(xn=[],Hn=vi();Hn!==r;)xn.push(Hn),Hn=vi();xn!==r?(n.charCodeAt(d)===34?(Hn=Xr,d++):(Hn=r,vr===0&&Er(Vr)),Hn!==r?(Rr=c,Tt=Hr(xn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;return br[tr]={nextPos:d,result:c},c}function Ka(){var c,Tt,xn,Hn,tr,ur=d*49+16,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;if(c=d,n.substr(d,3)===Mr?(Tt=Mr,d+=3):(Tt=r,vr===0&&Er(Lr)),Tt!==r)if(xn=ro(),xn===r&&(xn=Dr),xn!==r){for(Hn=[],tr=wi();tr!==r;)Hn.push(tr),tr=wi();Hn!==r?(n.substr(d,3)===Mr?(tr=Mr,d+=3):(tr=r,vr===0&&Er(Lr)),tr!==r?(Rr=c,Tt=Hr(Hn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g;return br[ur]={nextPos:d,result:c},c}function yi(){var c,Tt,xn,Hn,tr=d*49+17,ur=br[tr];if(ur)return d=ur.nextPos,ur.result;if(c=d,n.charCodeAt(d)===39?(Tt=Zn,d++):(Tt=r,vr===0&&Er(cr)),Tt!==r){for(xn=[],Hn=bi();Hn!==r;)xn.push(Hn),Hn=bi();xn!==r?(n.charCodeAt(d)===39?(Hn=Zn,d++):(Hn=r,vr===0&&Er(cr)),Hn!==r?(Rr=c,Tt=Hr(xn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;return br[tr]={nextPos:d,result:c},c}function vi(){var c,Tt,xn,Hn=d*49+18,tr=br[Hn];return tr?(d=tr.nextPos,tr.result):(c=$i(),c===r&&(c=d,Tt=d,vr++,n.charCodeAt(d)===34?(xn=Xr,d++):(xn=r,vr===0&&Er(Vr)),vr--,xn===r?Tt=nr:(d=Tt,Tt=g),Tt!==r?(n.length>d?(xn=n.charAt(d),d++):(xn=r,vr===0&&Er(Wn)),xn!==r?(Rr=c,Tt=mr(xn),c=Tt):(d=c,c=g)):(d=c,c=g)),br[Hn]={nextPos:d,result:c},c)}function bi(){var c,Tt,xn,Hn=d*49+19,tr=br[Hn];return tr?(d=tr.nextPos,tr.result):(c=d,Tt=d,vr++,n.charCodeAt(d)===39?(xn=Zn,d++):(xn=r,vr===0&&Er(cr)),vr--,xn===r?Tt=nr:(d=Tt,Tt=g),Tt!==r?(n.length>d?(xn=n.charAt(d),d++):(xn=r,vr===0&&Er(Wn)),xn!==r?(Rr=c,Tt=mr(xn),c=Tt):(d=c,c=g)):(d=c,c=g),br[Hn]={nextPos:d,result:c},c)}function ki(){var c,Tt,xn,Hn=d*49+20,tr=br[Hn];return tr?(d=tr.nextPos,tr.result):(c=$i(),c===r&&(c=za(),c===r&&(c=d,Tt=d,vr++,n.substr(d,3)===xr?(xn=xr,d+=3):(xn=r,vr===0&&Er(Ur)),vr--,xn===r?Tt=nr:(d=Tt,Tt=g),Tt!==r?(n.length>d?(xn=n.charAt(d),d++):(xn=r,vr===0&&Er(Wn)),xn!==r?(Rr=c,Tt=kr(xn),c=Tt):(d=c,c=g)):(d=c,c=g))),br[Hn]={nextPos:d,result:c},c)}function za(){var c,Tt,xn,Hn,tr,ur=d*49+21,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;if(c=d,n.charCodeAt(d)===92?(Tt=yr,d++):(Tt=r,vr===0&&Er(dr)),Tt!==r)if(xn=ro(),xn!==r){for(Hn=[],tr=_i();tr!==r;)Hn.push(tr),tr=_i();Hn!==r?(Rr=c,Tt=Tr(),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g;return br[ur]={nextPos:d,result:c},c}function wi(){var c,Tt,xn,Hn=d*49+22,tr=br[Hn];return tr?(d=tr.nextPos,tr.result):(c=d,Tt=d,vr++,n.substr(d,3)===Mr?(xn=Mr,d+=3):(xn=r,vr===0&&Er(Lr)),vr--,xn===r?Tt=nr:(d=Tt,Tt=g),Tt!==r?(n.length>d?(xn=n.charAt(d),d++):(xn=r,vr===0&&Er(Wn)),xn!==r?(Rr=c,Tt=mr(xn),c=Tt):(d=c,c=g)):(d=c,c=g),br[Hn]={nextPos:d,result:c},c)}function Ga(){var c,Tt,xn,Hn,tr=d*49+23,ur=br[tr];return ur?(d=ur.nextPos,ur.result):(c=d,Tt=xi(),Tt===r&&(Tt=_o()),Tt!==r?(n.charCodeAt(d)===101?(xn=Or,d++):(xn=r,vr===0&&Er(Pr)),xn===r&&(n.charCodeAt(d)===69?(xn=Cr,d++):(xn=r,vr===0&&Er(Nr))),xn!==r?(Hn=_o(),Hn!==r?(Rr=c,Tt=zr(Tt,Hn),c=Tt):(d=c,c=g)):(d=c,c=g)):(d=c,c=g),c===r&&(c=d,Tt=xi(),Tt!==r&&(Rr=c,Tt=oo(Tt)),c=Tt),br[tr]={nextPos:d,result:c},c)}function xi(){var c,Tt,xn,Hn,tr,ur,pr=d*49+24,$r=br[pr];return $r?(d=$r.nextPos,$r.result):(c=d,n.charCodeAt(d)===43?(Tt=Zr,d++):(Tt=r,vr===0&&Er(Cs)),Tt===r&&(Tt=Dr),Tt!==r?(xn=d,Hn=mo(),Hn!==r?(n.charCodeAt(d)===46?(tr=fr,d++):(tr=r,vr===0&&Er(hr)),tr!==r?(ur=mo(),ur!==r?(Hn=[Hn,tr,ur],xn=Hn):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g),xn!==r?(Rr=c,Tt=yo(xn),c=Tt):(d=c,c=g)):(d=c,c=g),c===r&&(c=d,n.charCodeAt(d)===45?(Tt=co,d++):(Tt=r,vr===0&&Er(uo)),Tt!==r?(xn=d,Hn=mo(),Hn!==r?(n.charCodeAt(d)===46?(tr=fr,d++):(tr=r,vr===0&&Er(hr)),tr!==r?(ur=mo(),ur!==r?(Hn=[Hn,tr,ur],xn=Hn):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g),xn!==r?(Rr=c,Tt=Lo(xn),c=Tt):(d=c,c=g)):(d=c,c=g)),br[pr]={nextPos:d,result:c},c)}function Xa(){var c,Tt,xn=d*49+25,Hn=br[xn];return Hn?(d=Hn.nextPos,Hn.result):(c=d,Tt=_o(),Tt!==r&&(Rr=c,Tt=qi(Tt)),c=Tt,br[xn]={nextPos:d,result:c},c)}function _o(){var c,Tt,xn,Hn,tr,ur=d*49+26,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;if(c=d,n.charCodeAt(d)===43?(Tt=Zr,d++):(Tt=r,vr===0&&Er(Cs)),Tt===r&&(Tt=Dr),Tt!==r){if(xn=[],Hn=Br(),Hn!==r)for(;Hn!==r;)xn.push(Hn),Hn=Br();else xn=g;xn!==r?(Hn=d,vr++,n.charCodeAt(d)===46?(tr=fr,d++):(tr=r,vr===0&&Er(hr)),vr--,tr===r?Hn=nr:(d=Hn,Hn=g),Hn!==r?(Rr=c,Tt=yo(xn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;if(c===r)if(c=d,n.charCodeAt(d)===45?(Tt=co,d++):(Tt=r,vr===0&&Er(uo)),Tt!==r){if(xn=[],Hn=Br(),Hn!==r)for(;Hn!==r;)xn.push(Hn),Hn=Br();else xn=g;xn!==r?(Hn=d,vr++,n.charCodeAt(d)===46?(tr=fr,d++):(tr=r,vr===0&&Er(hr)),vr--,tr===r?Hn=nr:(d=Hn,Hn=g),Hn!==r?(Rr=c,Tt=Lo(xn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;return br[ur]={nextPos:d,result:c},c}function Wa(){var c,Tt,xn=d*49+27,Hn=br[xn];return Hn?(d=Hn.nextPos,Hn.result):(c=d,n.substr(d,4)===jo?(Tt=jo,d+=4):(Tt=r,vr===0&&Er(Hi)),Tt!==r&&(Rr=c,Tt=Bi()),c=Tt,c===r&&(c=d,n.substr(d,5)===No?(Tt=No,d+=5):(Tt=r,vr===0&&Er(Ki)),Tt!==r&&(Rr=c,Tt=zi()),c=Tt),br[xn]={nextPos:d,result:c},c)}function Va(){var c,Tt,xn,Hn,tr,ur=d*49+28,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;if(c=d,n.charCodeAt(d)===91?(Tt=or,d++):(Tt=r,vr===0&&Er(Qn)),Tt!==r){for(xn=[],Hn=no();Hn!==r;)xn.push(Hn),Hn=no();xn!==r?(n.charCodeAt(d)===93?(Hn=lr,d++):(Hn=r,vr===0&&Er(er)),Hn!==r?(Rr=c,Tt=Gi(),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;if(c===r&&(c=d,n.charCodeAt(d)===91?(Tt=or,d++):(Tt=r,vr===0&&Er(Qn)),Tt!==r?(xn=Ei(),xn===r&&(xn=Dr),xn!==r?(n.charCodeAt(d)===93?(Hn=lr,d++):(Hn=r,vr===0&&Er(er)),Hn!==r?(Rr=c,Tt=Xi(xn),c=Tt):(d=c,c=g)):(d=c,c=g)):(d=c,c=g),c===r)){if(c=d,n.charCodeAt(d)===91?(Tt=or,d++):(Tt=r,vr===0&&Er(Qn)),Tt!==r){if(xn=[],Hn=wo(),Hn!==r)for(;Hn!==r;)xn.push(Hn),Hn=wo();else xn=g;xn!==r?(n.charCodeAt(d)===93?(Hn=lr,d++):(Hn=r,vr===0&&Er(er)),Hn!==r?(Rr=c,Tt=Wi(xn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;if(c===r)if(c=d,n.charCodeAt(d)===91?(Tt=or,d++):(Tt=r,vr===0&&Er(Qn)),Tt!==r){if(xn=[],Hn=wo(),Hn!==r)for(;Hn!==r;)xn.push(Hn),Hn=wo();else xn=g;xn!==r?(Hn=Ei(),Hn!==r?(n.charCodeAt(d)===93?(tr=lr,d++):(tr=r,vr===0&&Er(er)),tr!==r?(Rr=c,Tt=Vi(xn,Hn),c=Tt):(d=c,c=g)):(d=c,c=g)):(d=c,c=g)}else d=c,c=g}return br[ur]={nextPos:d,result:c},c}function Ei(){var c,Tt,xn,Hn,tr,ur=d*49+29,pr=br[ur];if(pr)return d=pr.nextPos,pr.result;for(c=d,Tt=[],xn=no();xn!==r;)Tt.push(xn),xn=no();if(Tt!==r)if(xn=ao(),xn!==r){for(Hn=[],tr=no();tr!==r;)Hn.push(tr),tr=no();Hn!==r?(Rr=c,Tt=Uo(xn),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g;return br[ur]={nextPos:d,result:c},c}function wo(){var c,Tt,xn,Hn,tr,ur,pr,$r=d*49+30,jr=br[$r];if(jr)return d=jr.nextPos,jr.result;for(c=d,Tt=[],xn=no();xn!==r;)Tt.push(xn),xn=no();if(Tt!==r)if(xn=ao(),xn!==r){for(Hn=[],tr=no();tr!==r;)Hn.push(tr),tr=no();if(Hn!==r)if(n.charCodeAt(d)===44?(tr=Fo,d++):(tr=r,vr===0&&Er(Do)),tr!==r){for(ur=[],pr=no();pr!==r;)ur.push(pr),pr=no();ur!==r?(Rr=c,Tt=Uo(xn),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g;return br[$r]={nextPos:d,result:c},c}function no(){var c,Tt=d*49+31,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(c=Ir(),c===r&&(c=ro(),c===r&&(c=ko())),br[Tt]={nextPos:d,result:c},c)}function Ja(){var c,Tt,xn,Hn,tr,ur,pr=d*49+32,$r=br[pr];if($r)return d=$r.nextPos,$r.result;if(c=d,n.charCodeAt(d)===123?(Tt=Ji,d++):(Tt=r,vr===0&&Er(Qi)),Tt!==r){for(xn=[],Hn=Ir();Hn!==r;)xn.push(Hn),Hn=Ir();if(xn!==r){for(Hn=[],tr=Si();tr!==r;)Hn.push(tr),tr=Si();if(Hn!==r){for(tr=[],ur=Ir();ur!==r;)tr.push(ur),ur=Ir();tr!==r?(n.charCodeAt(d)===125?(ur=Yi,d++):(ur=r,vr===0&&Er(Zi)),ur!==r?(Rr=c,Tt=ea(Hn),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g}else d=c,c=g}else d=c,c=g;return br[pr]={nextPos:d,result:c},c}function Si(){var c,Tt,xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr=d*49+33,Wr=br[Gr];if(Wr)return d=Wr.nextPos,Wr.result;for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=go(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();if(Hn!==r)if(n.charCodeAt(d)===61?(tr=wr,d++):(tr=r,vr===0&&Er(Sr)),tr!==r){for(ur=[],pr=Ir();pr!==r;)ur.push(pr),pr=Ir();if(ur!==r)if(pr=ao(),pr!==r){for($r=[],jr=Ir();jr!==r;)$r.push(jr),jr=Ir();if($r!==r)if(n.charCodeAt(d)===44?(jr=Fo,d++):(jr=r,vr===0&&Er(Do)),jr!==r){for(Kr=[],qr=Ir();qr!==r;)Kr.push(qr),qr=Ir();Kr!==r?(Rr=c,Tt=Mo(xn,pr),c=Tt):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g;if(c===r){for(c=d,Tt=[],xn=Ir();xn!==r;)Tt.push(xn),xn=Ir();if(Tt!==r)if(xn=go(),xn!==r){for(Hn=[],tr=Ir();tr!==r;)Hn.push(tr),tr=Ir();if(Hn!==r)if(n.charCodeAt(d)===61?(tr=wr,d++):(tr=r,vr===0&&Er(Sr)),tr!==r){for(ur=[],pr=Ir();pr!==r;)ur.push(pr),pr=Ir();ur!==r?(pr=ao(),pr!==r?(Rr=c,Tt=Mo(xn,pr),c=Tt):(d=c,c=g)):(d=c,c=g)}else d=c,c=g;else d=c,c=g}else d=c,c=g;else d=c,c=g}return br[Gr]={nextPos:d,result:c},c}function Ai(){var c,Tt,xn,Hn=d*49+34,tr=br[Hn];return tr?(d=tr.nextPos,tr.result):(c=d,n.charCodeAt(d)===46?(Tt=fr,d++):(Tt=r,vr===0&&Er(hr)),Tt!==r?(xn=mo(),xn!==r?(Rr=c,Tt=ta(xn),c=Tt):(d=c,c=g)):(d=c,c=g),br[Hn]={nextPos:d,result:c},c)}function Ti(){var c,Tt,xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr,Wr=d*49+35,eo=br[Wr];return eo?(d=eo.nextPos,eo.result):(c=d,Tt=d,xn=Br(),xn!==r?(Hn=Br(),Hn!==r?(tr=Br(),tr!==r?(ur=Br(),ur!==r?(n.charCodeAt(d)===45?(pr=co,d++):(pr=r,vr===0&&Er(uo)),pr!==r?($r=Br(),$r!==r?(jr=Br(),jr!==r?(n.charCodeAt(d)===45?(Kr=co,d++):(Kr=r,vr===0&&Er(uo)),Kr!==r?(qr=Br(),qr!==r?(Gr=Br(),Gr!==r?(xn=[xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr],Tt=xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r&&(Rr=c,Tt=na(Tt)),c=Tt,br[Wr]={nextPos:d,result:c},c)}function Qa(){var c,Tt,xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr=d*49+36,Wr=br[Gr];return Wr?(d=Wr.nextPos,Wr.result):(c=d,Tt=d,xn=Br(),xn!==r?(Hn=Br(),Hn!==r?(n.charCodeAt(d)===58?(tr=fo,d++):(tr=r,vr===0&&Er(ho)),tr!==r?(ur=Br(),ur!==r?(pr=Br(),pr!==r?(n.charCodeAt(d)===58?($r=fo,d++):($r=r,vr===0&&Er(ho)),$r!==r?(jr=Br(),jr!==r?(Kr=Br(),Kr!==r?(qr=Ai(),qr===r&&(qr=Dr),qr!==r?(xn=[xn,Hn,tr,ur,pr,$r,jr,Kr,qr],Tt=xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r&&(Rr=c,Tt=qo(Tt)),c=Tt,br[Gr]={nextPos:d,result:c},c)}function Ya(){var c,Tt,xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr,Wr,eo,lo,io,to,Ii=d*49+37,$o=br[Ii];return $o?(d=$o.nextPos,$o.result):(c=d,Tt=d,xn=Br(),xn!==r?(Hn=Br(),Hn!==r?(n.charCodeAt(d)===58?(tr=fo,d++):(tr=r,vr===0&&Er(ho)),tr!==r?(ur=Br(),ur!==r?(pr=Br(),pr!==r?(n.charCodeAt(d)===58?($r=fo,d++):($r=r,vr===0&&Er(ho)),$r!==r?(jr=Br(),jr!==r?(Kr=Br(),Kr!==r?(qr=Ai(),qr===r&&(qr=Dr),qr!==r?(n.charCodeAt(d)===45?(Gr=co,d++):(Gr=r,vr===0&&Er(uo)),Gr===r&&(n.charCodeAt(d)===43?(Gr=Zr,d++):(Gr=r,vr===0&&Er(Cs))),Gr!==r?(Wr=Br(),Wr!==r?(eo=Br(),eo!==r?(n.charCodeAt(d)===58?(lo=fo,d++):(lo=r,vr===0&&Er(ho)),lo!==r?(io=Br(),io!==r?(to=Br(),to!==r?(xn=[xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr,Wr,eo,lo,io,to],Tt=xn):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g)):(d=Tt,Tt=g),Tt!==r&&(Rr=c,Tt=qo(Tt)),c=Tt,br[Ii]={nextPos:d,result:c},c)}function Za(){var c,Tt,xn,Hn,tr,ur=d*49+38,pr=br[ur];return pr?(d=pr.nextPos,pr.result):(c=d,Tt=Ti(),Tt!==r?(n.charCodeAt(d)===84?(xn=Ho,d++):(xn=r,vr===0&&Er(Bo)),xn!==r?(Hn=Qa(),Hn!==r?(n.charCodeAt(d)===90?(tr=ra,d++):(tr=r,vr===0&&Er(sa)),tr!==r?(Rr=c,Tt=oa(Tt,Hn),c=Tt):(d=c,c=g)):(d=c,c=g)):(d=c,c=g)):(d=c,c=g),c===r&&(c=d,Tt=Ti(),Tt!==r?(n.charCodeAt(d)===84?(xn=Ho,d++):(xn=r,vr===0&&Er(Bo)),xn!==r?(Hn=Ya(),Hn!==r?(Rr=c,Tt=ia(Tt,Hn),c=Tt):(d=c,c=g)):(d=c,c=g)):(d=c,c=g)),br[ur]={nextPos:d,result:c},c)}function Ir(){var c,Tt=d*49+39,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(aa.test(n.charAt(d))?(c=n.charAt(d),d++):(c=r,vr===0&&Er(la)),br[Tt]={nextPos:d,result:c},c)}function ro(){var c,Tt,xn,Hn=d*49+40,tr=br[Hn];return tr?(d=tr.nextPos,tr.result):(n.charCodeAt(d)===10?(c=Ko,d++):(c=r,vr===0&&Er(zo)),c===r&&(c=d,n.charCodeAt(d)===13?(Tt=ca,d++):(Tt=r,vr===0&&Er(ua)),Tt!==r?(n.charCodeAt(d)===10?(xn=Ko,d++):(xn=r,vr===0&&Er(zo)),xn!==r?(Tt=[Tt,xn],c=Tt):(d=c,c=g)):(d=c,c=g)),br[Hn]={nextPos:d,result:c},c)}function _i(){var c,Tt=d*49+41,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(c=ro(),c===r&&(c=Ir()),br[Tt]={nextPos:d,result:c},c)}function xo(){var c,Tt,xn=d*49+42,Hn=br[xn];return Hn?(d=Hn.nextPos,Hn.result):(c=d,vr++,n.length>d?(Tt=n.charAt(d),d++):(Tt=r,vr===0&&Er(Wn)),vr--,Tt===r?c=nr:(d=c,c=g),br[xn]={nextPos:d,result:c},c)}function so(){var c,Tt=d*49+43,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(fa.test(n.charAt(d))?(c=n.charAt(d),d++):(c=r,vr===0&&Er(ha)),br[Tt]={nextPos:d,result:c},c)}function Br(){var c,Tt,xn=d*49+44,Hn=br[xn];return Hn?(d=Hn.nextPos,Hn.result):(da.test(n.charAt(d))?(c=n.charAt(d),d++):(c=r,vr===0&&Er(pa)),c===r&&(c=d,n.charCodeAt(d)===95?(Tt=ga,d++):(Tt=r,vr===0&&Er(ma)),Tt!==r&&(Rr=c,Tt=ya()),c=Tt),br[xn]={nextPos:d,result:c},c)}function Oi(){var c,Tt=d*49+45,xn=br[Tt];return xn?(d=xn.nextPos,xn.result):(va.test(n.charAt(d))?(c=n.charAt(d),d++):(c=r,vr===0&&Er(ba)),br[Tt]={nextPos:d,result:c},c)}function mo(){var c,Tt,xn,Hn=d*49+46,tr=br[Hn];if(tr)return d=tr.nextPos,tr.result;if(c=d,Tt=[],xn=Br(),xn!==r)for(;xn!==r;)Tt.push(xn),xn=Br();else Tt=g;return Tt!==r&&(Rr=c,Tt=ka(Tt)),c=Tt,br[Hn]={nextPos:d,result:c},c}function $i(){var c,Tt,xn=d*49+47,Hn=br[xn];return Hn?(d=Hn.nextPos,Hn.result):(c=d,n.substr(d,2)===Go?(Tt=Go,d+=2):(Tt=r,vr===0&&Er(wa)),Tt!==r&&(Rr=c,Tt=xa()),c=Tt,c===r&&(c=d,n.substr(d,2)===Xo?(Tt=Xo,d+=2):(Tt=r,vr===0&&Er(Ea)),Tt!==r&&(Rr=c,Tt=Sa()),c=Tt,c===r&&(c=d,n.substr(d,2)===Wo?(Tt=Wo,d+=2):(Tt=r,vr===0&&Er(Aa)),Tt!==r&&(Rr=c,Tt=Ta()),c=Tt,c===r&&(c=d,n.substr(d,2)===Vo?(Tt=Vo,d+=2):(Tt=r,vr===0&&Er(_a)),Tt!==r&&(Rr=c,Tt=Oa()),c=Tt,c===r&&(c=d,n.substr(d,2)===Jo?(Tt=Jo,d+=2):(Tt=r,vr===0&&Er($a)),Tt!==r&&(Rr=c,Tt=Ca()),c=Tt,c===r&&(c=d,n.substr(d,2)===Qo?(Tt=Qo,d+=2):(Tt=r,vr===0&&Er(Ia)),Tt!==r&&(Rr=c,Tt=Ra()),c=Tt,c===r&&(c=d,n.substr(d,2)===Yo?(Tt=Yo,d+=2):(Tt=r,vr===0&&Er(Pa)),Tt!==r&&(Rr=c,Tt=La()),c=Tt,c===r&&(c=el()))))))),br[xn]={nextPos:d,result:c},c)}function el(){var c,Tt,xn,Hn,tr,ur,pr,$r,jr,Kr,qr,Gr=d*49+48,Wr=br[Gr];return Wr?(d=Wr.nextPos,Wr.result):(c=d,n.substr(d,2)===Zo?(Tt=Zo,d+=2):(Tt=r,vr===0&&Er(ja)),Tt!==r?(xn=d,Hn=so(),Hn!==r?(tr=so(),tr!==r?(ur=so(),ur!==r?(pr=so(),pr!==r?($r=so(),$r!==r?(jr=so(),jr!==r?(Kr=so(),Kr!==r?(qr=so(),qr!==r?(Hn=[Hn,tr,ur,pr,$r,jr,Kr,qr],xn=Hn):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g),xn!==r?(Rr=c,Tt=ei(xn),c=Tt):(d=c,c=g)):(d=c,c=g),c===r&&(c=d,n.substr(d,2)===ri?(Tt=ri,d+=2):(Tt=r,vr===0&&Er(Na)),Tt!==r?(xn=d,Hn=so(),Hn!==r?(tr=so(),tr!==r?(ur=so(),ur!==r?(pr=so(),pr!==r?(Hn=[Hn,tr,ur,pr],xn=Hn):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g)):(d=xn,xn=g),xn!==r?(Rr=c,Tt=ei(xn),c=Tt):(d=c,c=g)):(d=c,c=g)),br[Gr]={nextPos:d,result:c},c)}var Ci=[];function tl(c,Tt,xn){var Hn=new Error(c);throw Hn.line=Tt,Hn.column=xn,Hn}function Oo(c){Ci.push(c)}function Yr(c,Tt,xn,Hn,tr){var ur={type:c,value:Tt,line:xn(),column:Hn()};return tr&&(ur.key=tr),ur}function nl(c,Tt,xn){var Hn=parseInt("0x"+c);if(!isFinite(Hn)||Math.floor(Hn)!=Hn||Hn<0||Hn>1114111||Hn>55295&&Hn<57344)tl("Invalid Unicode escape code: "+c,Tt,xn);else return rl(Hn)}function rl(){var c=16384,Tt=[],xn,Hn,tr=-1,ur=arguments.length;if(!ur)return"";for(var pr="";++tr<ur;){var $r=Number(arguments[tr]);$r<=65535?Tt.push($r):($r-=65536,xn=($r>>10)+55296,Hn=$r%1024+56320,Tt.push(xn,Hn)),(tr+1==ur||Tt.length>c)&&(pr+=String.fromCharCode.apply(null,Tt),Tt.length=0)}return pr}if(bo=p(),bo!==r&&d===n.length)return bo;throw bo!==r&&d<n.length&&Er({type:"end",description:"end of input"}),Ua(null,So,vo)}return{SyntaxError:e,parse:t}}();function fi(s){var e=[],t=[],n="",l=Object.create(null),r=l;return f(s);function f(er){for(var zn,sr=0;sr<er.length;sr++)switch(zn=er[sr],zn.type){case"Assign":I(zn);break;case"ObjectPath":nr(zn);break;case"ArrayPath":Wn(zn);break}return l}function p(er,zn,sr){var rr=new Error(er);throw rr.line=zn,rr.column=sr,rr}function I(er){var zn=er.key,sr=er.value,rr=er.line,ir=er.column,ar;n?ar=n+"."+zn:ar=zn,typeof r[zn]!="undefined"&&p("Cannot redefine existing key '"+ar+"'.",rr,ir),r[zn]=Xn(sr),g(ar)||(e.push(ar),t.push(ar))}function g(er){return e.indexOf(er)!==-1}function Xn(er){return er.type==="Array"?Qn(er.value):er.type==="InlineTable"?Yn(er.value):er.value}function Yn(er){for(var zn=Object.create(null),sr=0;sr<er.length;sr++){var rr=er[sr];rr.value.type==="InlineTable"?zn[rr.key]=Yn(rr.value.value):rr.type==="InlineTableValue"&&(zn[rr.key]=Xn(rr.value))}return zn}function nr(er){var zn=er.value,sr=zn.map(lr).join("."),rr=er.line,ir=er.column;g(sr)&&p("Cannot redefine existing key '"+zn+"'.",rr,ir),e.push(sr),r=or(l,zn,Object.create(null),rr,ir),n=zn}function Wn(er){var zn=er.value,sr=zn.map(lr).join("."),rr=er.line,ir=er.column;if(g(sr)||e.push(sr),e=e.filter(function(fr){return fr.indexOf(sr)!==0}),e.push(sr),r=or(l,zn,[],rr,ir),n=sr,r instanceof Array){var ar=Object.create(null);r.push(ar),r=ar}else p("Cannot redefine existing key '"+zn+"'.",rr,ir)}function or(er,zn,sr,rr,ir){var ar=[],fr="";zn.join(".");for(var hr=er,wr=0;wr<zn.length;wr++){var Sr=zn[wr];ar.push(Sr),fr=ar.join("."),typeof hr[Sr]=="undefined"?wr===zn.length-1?hr[Sr]=sr:hr[Sr]=Object.create(null):wr!==zn.length-1&&t.indexOf(fr)>-1&&p("Cannot redefine existing key '"+fr+"'.",rr,ir),hr=hr[Sr],hr instanceof Array&&hr.length&&wr<zn.length-1&&(hr=hr[hr.length-1])}return hr}function Qn(er){for(var zn=null,sr=0;sr<er.length;sr++){var rr=er[sr];zn===null?zn=rr.type:rr.type!==zn&&p("Cannot add value of type "+rr.type+" to array of type "+zn+".",rr.line,rr.column)}return er.map(Xn)}function lr(er){return er.indexOf(".")>-1?'"'+er+'"':er}}var ni={compile:fi},ai=li,ci=ni,Fs$1={parse:function(s){var e=ai.parse(s.toString());return ci.compile(e)}};const ui=ti(Fs$1),oi=ii({__proto__:null,default:ui},[Fs$1]),index76ab5c48=Object.freeze(Object.defineProperty({__proto__:null,i:oi},Symbol.toStringTag,{value:"Module"}));var xe=(s,e)=>{if(e=Symbol[s])return e;throw Error("Symbol."+s+" is not defined")},et=(s,e,t)=>new Promise((n,l)=>{var r=I=>{try{p(t.next(I))}catch(g){l(g)}},f=I=>{try{p(t.throw(I))}catch(g){l(g)}},p=I=>I.done?n(I.value):Promise.resolve(I.value).then(r,f);p((t=t.apply(s,e)).next())}),vs=function(s,e){this[0]=s,this[1]=e},h=s=>{var e=s[xe("asyncIterator")],t=!1,n,l={};return e==null?(e=s[xe("iterator")](),n=r=>l[r]=f=>e[r](f)):(e=e.call(s),n=r=>l[r]=f=>{if(t){if(t=!1,r==="throw")throw f;return f}return t=!0,{done:!1,value:new vs(new Promise(p=>{var I=e[r](f);if(!(I instanceof Object))throw TypeError("Object expected");p(I)}),1)}}),l[xe("iterator")]=()=>l,n("next"),"throw"in e?n("throw"):l.throw=r=>{throw r},"return"in e&&n("return"),l};const dt=Symbol.for("yaml.alias"),at=Symbol.for("yaml.document"),G=Symbol.for("yaml.map"),Ft=Symbol.for("yaml.pair"),J=Symbol.for("yaml.scalar"),ue=Symbol.for("yaml.seq"),D=Symbol.for("yaml.node.type"),ee=s=>!!s&&typeof s=="object"&&s[D]===dt,Oe=s=>!!s&&typeof s=="object"&&s[D]===at,te=s=>!!s&&typeof s=="object"&&s[D]===G,L=s=>!!s&&typeof s=="object"&&s[D]===Ft,E=s=>!!s&&typeof s=="object"&&s[D]===J,he=s=>!!s&&typeof s=="object"&&s[D]===ue;function T(s){if(s&&typeof s=="object")switch(s[D]){case G:case ue:return!0}return!1}function $(s){if(s&&typeof s=="object")switch(s[D]){case dt:case G:case J:case ue:return!0}return!1}const Bs=s=>(E(s)||T(s))&&!!s.anchor;class pt{constructor(e){Object.defineProperty(this,D,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const B=Symbol("break visit"),Ut=Symbol("skip children"),U=Symbol("remove node");function Q(s,e){const t=Rt(e);Oe(s)?re(null,s.contents,t,Object.freeze([s]))===U&&(s.contents=null):re(null,s,t,Object.freeze([]))}Q.BREAK=B,Q.SKIP=Ut,Q.REMOVE=U;function re(s,e,t,n){const l=Vt(s,e,t,n);if($(l)||L(l))return Jt(s,n,l),re(s,l,t,n);if(typeof l!="symbol"){if(T(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const f=re(r,e.items[r],t,n);if(typeof f=="number")r=f-1;else{if(f===B)return B;f===U&&(e.items.splice(r,1),r-=1)}}}else if(L(e)){n=Object.freeze(n.concat(e));const r=re("key",e.key,t,n);if(r===B)return B;r===U&&(e.key=null);const f=re("value",e.value,t,n);if(f===B)return B;f===U&&(e.value=null)}}return l}function De(s,e){return et(this,null,function*(){const t=Rt(e);Oe(s)?(yield oe(null,s.contents,t,Object.freeze([s])))===U&&(s.contents=null):yield oe(null,s,t,Object.freeze([]))})}De.BREAK=B,De.SKIP=Ut,De.REMOVE=U;function oe(s,e,t,n){return et(this,null,function*(){const l=yield Vt(s,e,t,n);if($(l)||L(l))return Jt(s,n,l),oe(s,l,t,n);if(typeof l!="symbol"){if(T(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const f=yield oe(r,e.items[r],t,n);if(typeof f=="number")r=f-1;else{if(f===B)return B;f===U&&(e.items.splice(r,1),r-=1)}}}else if(L(e)){n=Object.freeze(n.concat(e));const r=yield oe("key",e.key,t,n);if(r===B)return B;r===U&&(e.key=null);const f=yield oe("value",e.value,t,n);if(f===B)return B;f===U&&(e.value=null)}}return l})}function Rt(s){return typeof s=="object"&&(s.Collection||s.Node||s.Value)?Object.assign({Alias:s.Node,Map:s.Node,Scalar:s.Node,Seq:s.Node},s.Value&&{Map:s.Value,Scalar:s.Value,Seq:s.Value},s.Collection&&{Map:s.Collection,Seq:s.Collection},s):s}function Vt(s,e,t,n){var l,r,f,p,I;if(typeof t=="function")return t(s,e,n);if(te(e))return(l=t.Map)==null?void 0:l.call(t,s,e,n);if(he(e))return(r=t.Seq)==null?void 0:r.call(t,s,e,n);if(L(e))return(f=t.Pair)==null?void 0:f.call(t,s,e,n);if(E(e))return(p=t.Scalar)==null?void 0:p.call(t,s,e,n);if(ee(e))return(I=t.Alias)==null?void 0:I.call(t,s,e,n)}function Jt(s,e,t){const n=e[e.length-1];if(T(n))n.items[s]=t;else if(L(n))s==="key"?n.key=t:n.value=t;else if(Oe(n))n.contents=t;else{const l=ee(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${l} parent`)}}const Ms={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Ps=s=>s.replace(/[!,[\]{}]/g,e=>Ms[e]);class v{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},v.defaultYaml,e),this.tags=Object.assign({},v.defaultTags,t)}clone(){const e=new v(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new v(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:v.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},v.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:v.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},v.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),l=n.shift();switch(l){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[r,f]=n;return this.tags[r]=f,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const f=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,f),!1}}default:return t(0,`Unknown directive ${l}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const f=e.slice(2,-1);return f==="!"||f==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),f)}const[,n,l]=e.match(/^(.*!)([^!]*)$/);l||t(`The ${e} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(l):n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+Ps(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let l;if(e&&n.length>0&&$(e.contents)){const r={};Q(e.contents,(f,p)=>{$(p)&&p.tag&&(r[p.tag]=!0)}),l=Object.keys(r)}else l=[];for(const[r,f]of n)r==="!!"&&f==="tag:yaml.org,2002:"||(!e||l.some(p=>p.startsWith(f)))&&t.push(`%TAG ${r} ${f}`);return t.join(`
`)}}v.defaultYaml={explicit:!1,version:"1.2"},v.defaultTags={"!!":"tag:yaml.org,2002:"};function Yt(s){if(/[\x00-\x19\s,[\]{}]/.test(s)){const e=`Anchor must not contain whitespace or control characters: ${JSON.stringify(s)}`;throw new Error(e)}return!0}function Gt(s){const e=new Set;return Q(s,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function Qt(s,e){for(let t=1;;++t){const n=`${s}${t}`;if(!e.has(n))return n}}function js(s,e){const t=[],n=new Map;let l=null;return{onAnchor:r=>{t.push(r),l||(l=Gt(s));const f=Qt(e,l);return l.add(f),f},setAnchors:()=>{for(const r of t){const f=n.get(r);if(typeof f=="object"&&f.anchor&&(E(f.node)||T(f.node)))f.node.anchor=f.anchor;else{const p=new Error("Failed to resolve repeated object (this should not happen)");throw p.source=r,p}}},sourceObjects:n}}class qe extends pt{constructor(e){super(dt),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Q(e,{Node:(n,l)=>{if(l===this)return Q.BREAK;l.anchor===this.source&&(t=l)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:l,maxAliasCount:r}=t,f=this.resolve(l);if(!f){const I=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(I)}const p=n.get(f);if(!p||p.res===void 0){const I="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(I)}if(r>=0&&(p.count+=1,p.aliasCount===0&&(p.aliasCount=_e(l,f,n)),p.count*p.aliasCount>r)){const I="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(I)}return p.res}toString(e,t,n){const l=`*${this.source}`;if(e){if(Yt(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${l} `}return l}}function _e(s,e,t){if(ee(e)){const n=e.resolve(s),l=t&&n&&t.get(n);return l?l.count*l.aliasCount:0}else if(T(e)){let n=0;for(const l of e.items){const r=_e(s,l,t);r>n&&(n=r)}return n}else if(L(e)){const n=_e(s,e.key,t),l=_e(s,e.value,t);return Math.max(n,l)}return 1}function R(s,e,t){if(Array.isArray(s))return s.map((n,l)=>R(n,String(l),t));if(s&&typeof s.toJSON=="function"){if(!t||!Bs(s))return s.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(s,n),t.onCreate=r=>{n.res=r,delete t.onCreate};const l=s.toJSON(e,t);return t.onCreate&&t.onCreate(l),l}return typeof s=="bigint"&&!(t!=null&&t.keep)?Number(s):s}const Wt=s=>!s||typeof s!="function"&&typeof s!="object";class A extends pt{constructor(e){super(J),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:R(this.value,e,t)}toString(){return String(this.value)}}A.BLOCK_FOLDED="BLOCK_FOLDED",A.BLOCK_LITERAL="BLOCK_LITERAL",A.PLAIN="PLAIN",A.QUOTE_DOUBLE="QUOTE_DOUBLE",A.QUOTE_SINGLE="QUOTE_SINGLE";const Ks="tag:yaml.org,2002:";function Ds(s,e,t){var n;if(e){const l=t.filter(f=>f.tag===e),r=(n=l.find(f=>!f.format))!=null?n:l[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(l=>{var r;return((r=l.identify)==null?void 0:r.call(l,s))&&!l.format})}function Se(s,e,t){var n,l;if(Oe(s)&&(s=s.contents),$(s))return s;if(L(s)){const Wn=(l=(n=t.schema[G]).createNode)==null?void 0:l.call(n,t.schema,null,t);return Wn.items.push(s),Wn}(s instanceof String||s instanceof Number||s instanceof Boolean||typeof BigInt!="undefined"&&s instanceof BigInt)&&(s=s.valueOf());const{aliasDuplicateObjects:r,onAnchor:f,onTagObj:p,schema:I,sourceObjects:g}=t;let Xn;if(r&&s&&typeof s=="object"){if(Xn=g.get(s),Xn)return Xn.anchor||(Xn.anchor=f(s)),new qe(Xn.anchor);Xn={anchor:null,node:null},g.set(s,Xn)}e!=null&&e.startsWith("!!")&&(e=Ks+e.slice(2));let Yn=Ds(s,e,I.tags);if(!Yn){if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),!s||typeof s!="object"){const Wn=new A(s);return Xn&&(Xn.node=Wn),Wn}Yn=s instanceof Map?I[G]:Symbol.iterator in Object(s)?I[ue]:I[G]}p&&(p(Yn),delete t.onTagObj);const nr=Yn!=null&&Yn.createNode?Yn.createNode(t.schema,s,t):new A(s);return e&&(nr.tag=e),Xn&&(Xn.node=nr),nr}function Me(s,e,t){let n=t;for(let l=e.length-1;l>=0;--l){const r=e[l];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const f=[];f[r]=n,n=f}else n=new Map([[r,n]])}return Se(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:s,sourceObjects:new Map})}const ge=s=>s==null||typeof s=="object"&&!!s[Symbol.iterator]().next().done;class Fe extends pt{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>$(n)||L(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(ge(e))this.add(t);else{const[n,...l]=e,r=this.get(n,!0);if(T(r))r.addIn(l,t);else if(r===void 0&&this.schema)this.set(n,Me(this.schema,l,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${l}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const l=this.get(t,!0);if(T(l))return l.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...l]=e,r=this.get(n,!0);return l.length===0?!t&&E(r)?r.value:r:T(r)?r.getIn(l,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!L(t))return!1;const n=t.value;return n==null||e&&E(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const l=this.get(t,!0);return T(l)?l.hasIn(n):!1}setIn(e,t){const[n,...l]=e;if(l.length===0)this.set(n,t);else{const r=this.get(n,!0);if(T(r))r.setIn(l,t);else if(r===void 0&&this.schema)this.set(n,Me(this.schema,l,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${l}`)}}}Fe.maxFlowStringSingleLineLength=60;const qs=s=>s.replace(/^(?!$)(?: $)?/gm,"#");function V(s,e){return/^\n+$/.test(s)?s.substring(1):e?s.replace(/^(?! *$)/gm,e):s}const Y=(s,e,t)=>s.endsWith(`
`)?V(t,e):t.includes(`
`)?`
`+V(t,e):(s.endsWith(" ")?"":" ")+t,Ht="flow",ct="block",Ce="quoted";function Ue(s,e,t="flow",{indentAtStart:n,lineWidth:l=80,minContentWidth:r=20,onFold:f,onOverflow:p}={}){if(!l||l<0)return s;const I=Math.max(1+r,1+l-e.length);if(s.length<=I)return s;const g=[],Xn={};let Yn=l-e.length;typeof n=="number"&&(n>l-Math.max(2,r)?g.push(0):Yn=l-n);let nr,Wn,or=!1,Qn=-1,lr=-1,er=-1;t===ct&&(Qn=$t(s,Qn),Qn!==-1&&(Yn=Qn+I));for(let sr;sr=s[Qn+=1];){if(t===Ce&&sr==="\\"){switch(lr=Qn,s[Qn+1]){case"x":Qn+=3;break;case"u":Qn+=5;break;case"U":Qn+=9;break;default:Qn+=1}er=Qn}if(sr===`
`)t===ct&&(Qn=$t(s,Qn)),Yn=Qn+I,nr=void 0;else{if(sr===" "&&Wn&&Wn!==" "&&Wn!==`
`&&Wn!=="	"){const rr=s[Qn+1];rr&&rr!==" "&&rr!==`
`&&rr!=="	"&&(nr=Qn)}if(Qn>=Yn)if(nr)g.push(nr),Yn=nr+I,nr=void 0;else if(t===Ce){for(;Wn===" "||Wn==="	";)Wn=sr,sr=s[Qn+=1],or=!0;const rr=Qn>er+1?Qn-2:lr-1;if(Xn[rr])return s;g.push(rr),Xn[rr]=!0,Yn=rr+I,nr=void 0}else or=!0}Wn=sr}if(or&&p&&p(),g.length===0)return s;f&&f();let zn=s.slice(0,g[0]);for(let sr=0;sr<g.length;++sr){const rr=g[sr],ir=g[sr+1]||s.length;rr===0?zn=`
${e}${s.slice(0,ir)}`:(t===Ce&&Xn[rr]&&(zn+=`${s[rr]}\\`),zn+=`
${e}${s.slice(rr+1,ir)}`)}return zn}function $t(s,e){let t=s[e+1];for(;t===" "||t==="	";){do t=s[e+=1];while(t&&t!==`
`);t=s[e+1]}return e}const Re=s=>({indentAtStart:s.indentAtStart,lineWidth:s.options.lineWidth,minContentWidth:s.options.minContentWidth}),Ve=s=>/^(%|---|\.\.\.)/m.test(s);function Fs(s,e,t){if(!e||e<0)return!1;const n=e-t,l=s.length;if(l<=n)return!1;for(let r=0,f=0;r<l;++r)if(s[r]===`
`){if(r-f>n)return!0;if(f=r+1,l-f<=n)return!1}return!0}function we(s,e){const t=JSON.stringify(s);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,l=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Ve(s)?"  ":"");let f="",p=0;for(let I=0,g=t[I];g;g=t[++I])if(g===" "&&t[I+1]==="\\"&&t[I+2]==="n"&&(f+=t.slice(p,I)+"\\ ",I+=1,p=I,g="\\"),g==="\\")switch(t[I+1]){case"u":{f+=t.slice(p,I);const Xn=t.substr(I+2,4);switch(Xn){case"0000":f+="\\0";break;case"0007":f+="\\a";break;case"000b":f+="\\v";break;case"001b":f+="\\e";break;case"0085":f+="\\N";break;case"00a0":f+="\\_";break;case"2028":f+="\\L";break;case"2029":f+="\\P";break;default:Xn.substr(0,2)==="00"?f+="\\x"+Xn.substr(2):f+=t.substr(I,6)}I+=5,p=I+1}break;case"n":if(n||t[I+2]==='"'||t.length<l)I+=1;else{for(f+=t.slice(p,I)+`

`;t[I+2]==="\\"&&t[I+3]==="n"&&t[I+4]!=='"';)f+=`
`,I+=2;f+=r,t[I+2]===" "&&(f+="\\"),I+=1,p=I+1}break;default:I+=1}return f=p?f+t.slice(p):t,n?f:Ue(f,r,Ce,Re(e))}function ft(s,e){if(e.options.singleQuote===!1||e.implicitKey&&s.includes(`
`)||/[ \t]\n|\n[ \t]/.test(s))return we(s,e);const t=e.indent||(Ve(s)?"  ":""),n="'"+s.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Ue(n,t,Ht,Re(e))}function le(s,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=we;else{const l=s.includes('"'),r=s.includes("'");l&&!r?n=ft:r&&!l?n=we:n=t?ft:we}return n(s,e)}function ve({comment:s,type:e,value:t},n,l,r){const{blockQuote:f,commentString:p,lineWidth:I}=n.options;if(!f||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return le(t,n);const g=n.indent||(n.forceBlockIndent||Ve(t)?"  ":""),Xn=f==="literal"?!0:f==="folded"||e===A.BLOCK_FOLDED?!1:e===A.BLOCK_LITERAL?!0:!Fs(t,I,g.length);if(!t)return Xn?`|
`:`>
`;let Yn,nr;for(nr=t.length;nr>0;--nr){const ir=t[nr-1];if(ir!==`
`&&ir!=="	"&&ir!==" ")break}let Wn=t.substring(nr);const or=Wn.indexOf(`
`);or===-1?Yn="-":t===Wn||or!==Wn.length-1?(Yn="+",r&&r()):Yn="",Wn&&(t=t.slice(0,-Wn.length),Wn[Wn.length-1]===`
`&&(Wn=Wn.slice(0,-1)),Wn=Wn.replace(/\n+(?!\n|$)/g,`$&${g}`));let Qn=!1,lr,er=-1;for(lr=0;lr<t.length;++lr){const ir=t[lr];if(ir===" ")Qn=!0;else if(ir===`
`)er=lr;else break}let zn=t.substring(0,er<lr?er+1:lr);zn&&(t=t.substring(zn.length),zn=zn.replace(/\n+/g,`$&${g}`));let sr=(Xn?"|":">")+(Qn?g?"2":"1":"")+Yn;if(s&&(sr+=" "+p(s.replace(/ ?[\r\n]+/g," ")),l&&l()),Xn)return t=t.replace(/\n+/g,`$&${g}`),`${sr}
${g}${zn}${t}${Wn}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${g}`);const rr=Ue(`${zn}${t}${Wn}`,g,ct,Re(n));return`${sr}
${g}${rr}`}function Us(s,e,t,n){const{type:l,value:r}=s,{actualString:f,implicitKey:p,indent:I,indentStep:g,inFlow:Xn}=e;if(p&&/[\n[\]{},]/.test(r)||Xn&&/[[\]{},]/.test(r))return le(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return p||Xn||!r.includes(`
`)?le(r,e):ve(s,e,t,n);if(!p&&!Xn&&l!==A.PLAIN&&r.includes(`
`))return ve(s,e,t,n);if(Ve(r)){if(I==="")return e.forceBlockIndent=!0,ve(s,e,t,n);if(p&&I===g)return le(r,e)}const Yn=r.replace(/\n+/g,`$&
${I}`);if(f){const nr=Qn=>{var lr;return Qn.default&&Qn.tag!=="tag:yaml.org,2002:str"&&((lr=Qn.test)==null?void 0:lr.test(Yn))},{compat:Wn,tags:or}=e.doc.schema;if(or.some(nr)||Wn!=null&&Wn.some(nr))return le(r,e)}return p?Yn:Ue(Yn,I,Ht,Re(e))}function Ae(s,e,t,n){const{implicitKey:l,inFlow:r}=e,f=typeof s.value=="string"?s:Object.assign({},s,{value:String(s.value)});let{type:p}=s;p!==A.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(f.value)&&(p=A.QUOTE_DOUBLE);const I=Xn=>{switch(Xn){case A.BLOCK_FOLDED:case A.BLOCK_LITERAL:return l||r?le(f.value,e):ve(f,e,t,n);case A.QUOTE_DOUBLE:return we(f.value,e);case A.QUOTE_SINGLE:return ft(f.value,e);case A.PLAIN:return Us(f,e,t,n);default:return null}};let g=I(p);if(g===null){const{defaultKeyType:Xn,defaultStringType:Yn}=e.options,nr=l&&Xn||Yn;if(g=I(nr),g===null)throw new Error(`Unsupported default string type ${nr}`)}return g}function Xt(s,e){const t=Object.assign({blockQuote:!0,commentString:qs,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},s.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:s,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Rs(s,e){var t,n,l,r;if(e.tag){const I=s.filter(g=>g.tag===e.tag);if(I.length>0)return(t=I.find(g=>g.format===e.format))!=null?t:I[0]}let f,p;if(E(e)){p=e.value;const I=s.filter(g=>{var Xn;return(Xn=g.identify)==null?void 0:Xn.call(g,p)});f=(n=I.find(g=>g.format===e.format))!=null?n:I.find(g=>!g.format)}else p=e,f=s.find(I=>I.nodeClass&&p instanceof I.nodeClass);if(!f){const I=(r=(l=p==null?void 0:p.constructor)==null?void 0:l.name)!=null?r:typeof p;throw new Error(`Tag not resolved for ${I} value`)}return f}function Vs(s,e,{anchors:t,doc:n}){if(!n.directives)return"";const l=[],r=(E(s)||T(s))&&s.anchor;r&&Yt(r)&&(t.add(r),l.push(`&${r}`));const f=s.tag?s.tag:e.default?null:e.tag;return f&&l.push(n.directives.tagString(f)),l.join(" ")}function Z(s,e,t,n){var l,r;if(L(s))return s.toString(e,t,n);if(ee(s)){if(e.doc.directives)return s.toString(e);if((l=e.resolvedAliases)!=null&&l.has(s))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(s):e.resolvedAliases=new Set([s]),s=s.resolve(e.doc)}let f;const p=$(s)?s:e.doc.createNode(s,{onTagObj:Xn=>f=Xn});f||(f=Rs(e.doc.schema.tags,p));const I=Vs(p,f,e);I.length>0&&(e.indentAtStart=((r=e.indentAtStart)!=null?r:0)+I.length+1);const g=typeof f.stringify=="function"?f.stringify(p,e,t,n):E(p)?Ae(p,e,t,n):p.toString(e,t,n);return I?E(p)||g[0]==="{"||g[0]==="["?`${I} ${g}`:`${I}
${e.indent}${g}`:g}function Js({key:s,value:e},t,n,l){var r,f;const{allNullValues:p,doc:I,indent:g,indentStep:Xn,options:{commentString:Yn,indentSeq:nr,simpleKeys:Wn}}=t;let or=$(s)&&s.comment||null;if(Wn){if(or)throw new Error("With simple keys, key nodes cannot have comments");if(T(s)){const wr="With simple keys, collection cannot be used as a key value";throw new Error(wr)}}let Qn=!Wn&&(!s||or&&e==null&&!t.inFlow||T(s)||(E(s)?s.type===A.BLOCK_FOLDED||s.type===A.BLOCK_LITERAL:typeof s=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!Qn&&(Wn||!p),indent:g+Xn});let lr=!1,er=!1,zn=Z(s,t,()=>lr=!0,()=>er=!0);if(!Qn&&!t.inFlow&&zn.length>1024){if(Wn)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");Qn=!0}if(t.inFlow){if(p||e==null)return lr&&n&&n(),zn===""?"?":Qn?`? ${zn}`:zn}else if(p&&!Wn||e==null&&Qn)return zn=`? ${zn}`,or&&!lr?zn+=Y(zn,t.indent,Yn(or)):er&&l&&l(),zn;lr&&(or=null),Qn?(or&&(zn+=Y(zn,t.indent,Yn(or))),zn=`? ${zn}
${g}:`):(zn=`${zn}:`,or&&(zn+=Y(zn,t.indent,Yn(or))));let sr,rr,ir;$(e)?(sr=!!e.spaceBefore,rr=e.commentBefore,ir=e.comment):(sr=!1,rr=null,ir=null,e&&typeof e=="object"&&(e=I.createNode(e))),t.implicitKey=!1,!Qn&&!or&&E(e)&&(t.indentAtStart=zn.length+1),er=!1,!nr&&Xn.length>=2&&!t.inFlow&&!Qn&&he(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let ar=!1;const fr=Z(e,t,()=>ar=!0,()=>er=!0);let hr=" ";if(or||sr||rr){if(hr=sr?`
`:"",rr){const wr=Yn(rr);hr+=`
${V(wr,t.indent)}`}fr===""&&!t.inFlow?hr===`
`&&(hr=`

`):hr+=`
${t.indent}`}else if(!Qn&&T(e)){const wr=fr[0],Sr=fr.indexOf(`
`),Ar=Sr!==-1,Fr=(f=(r=t.inFlow)!=null?r:e.flow)!=null?f:e.items.length===0;if(Ar||!Fr){let _r=!1;if(Ar&&(wr==="&"||wr==="!")){let xr=fr.indexOf(" ");wr==="&"&&xr!==-1&&xr<Sr&&fr[xr+1]==="!"&&(xr=fr.indexOf(" ",xr+1)),(xr===-1||Sr<xr)&&(_r=!0)}_r||(hr=`
${t.indent}`)}}else(fr===""||fr[0]===`
`)&&(hr="");return zn+=hr+fr,t.inFlow?ar&&n&&n():ir&&!ar?zn+=Y(zn,t.indent,Yn(ir)):er&&l&&l(),zn}function zt(s,e){(s==="debug"||s==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const _t="<<";function Zt(s,e,{key:t,value:n}){if(s!=null&&s.doc.schema.merge&&Ys(t))if(n=ee(n)?n.resolve(s.doc):n,he(n))for(const l of n.items)tt(s,e,l);else if(Array.isArray(n))for(const l of n)tt(s,e,l);else tt(s,e,n);else{const l=R(t,"",s);if(e instanceof Map)e.set(l,R(n,l,s));else if(e instanceof Set)e.add(l);else{const r=Gs(t,l,s),f=R(n,r,s);r in e?Object.defineProperty(e,r,{value:f,writable:!0,enumerable:!0,configurable:!0}):e[r]=f}}return e}const Ys=s=>s===_t||E(s)&&s.value===_t&&(!s.type||s.type===A.PLAIN);function tt(s,e,t){const n=s&&ee(t)?t.resolve(s.doc):t;if(!te(n))throw new Error("Merge sources must be maps or map aliases");const l=n.toJSON(null,s,Map);for(const[r,f]of l)e instanceof Map?e.has(r)||e.set(r,f):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:f,writable:!0,enumerable:!0,configurable:!0});return e}function Gs(s,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if($(s)&&t&&t.doc){const n=Xt(t.doc,{});n.anchors=new Set;for(const r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;const l=s.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(l);r.length>40&&(r=r.substring(0,36)+'..."'),zt(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return l}return JSON.stringify(e)}function mt(s,e,t){const n=Se(s,void 0,t),l=Se(e,void 0,t);return new C(n,l)}class C{constructor(e,t=null){Object.defineProperty(this,D,{value:Ft}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return $(t)&&(t=t.clone(e)),$(n)&&(n=n.clone(e)),new C(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return Zt(t,n,this)}toString(e,t,n){return e!=null&&e.doc?Js(this,e,t,n):JSON.stringify(this)}}function xt(s,e,t){var n;return(((n=e.inFlow)!=null?n:s.flow)?Ws:Qs)(s,e,t)}function Qs({comment:s,items:e},t,{blockItemPrefix:n,flowChars:l,itemIndent:r,onChompKeep:f,onComment:p}){const{indent:I,options:{commentString:g}}=t,Xn=Object.assign({},t,{indent:r,type:null});let Yn=!1;const nr=[];for(let or=0;or<e.length;++or){const Qn=e[or];let lr=null;if($(Qn))!Yn&&Qn.spaceBefore&&nr.push(""),Pe(t,nr,Qn.commentBefore,Yn),Qn.comment&&(lr=Qn.comment);else if(L(Qn)){const zn=$(Qn.key)?Qn.key:null;zn&&(!Yn&&zn.spaceBefore&&nr.push(""),Pe(t,nr,zn.commentBefore,Yn))}Yn=!1;let er=Z(Qn,Xn,()=>lr=null,()=>Yn=!0);lr&&(er+=Y(er,r,g(lr))),Yn&&lr&&(Yn=!1),nr.push(n+er)}let Wn;if(nr.length===0)Wn=l.start+l.end;else{Wn=nr[0];for(let or=1;or<nr.length;++or){const Qn=nr[or];Wn+=Qn?`
${I}${Qn}`:`
`}}return s?(Wn+=`
`+V(g(s),I),p&&p()):Yn&&f&&f(),Wn}function Ws({comment:s,items:e},t,{flowChars:n,itemIndent:l,onComment:r}){const{indent:f,indentStep:p,flowCollectionPadding:I,options:{commentString:g}}=t;l+=p;const Xn=Object.assign({},t,{indent:l,inFlow:!0,type:null});let Yn=!1,nr=0;const Wn=[];for(let er=0;er<e.length;++er){const zn=e[er];let sr=null;if($(zn))zn.spaceBefore&&Wn.push(""),Pe(t,Wn,zn.commentBefore,!1),zn.comment&&(sr=zn.comment);else if(L(zn)){const ir=$(zn.key)?zn.key:null;ir&&(ir.spaceBefore&&Wn.push(""),Pe(t,Wn,ir.commentBefore,!1),ir.comment&&(Yn=!0));const ar=$(zn.value)?zn.value:null;ar?(ar.comment&&(sr=ar.comment),ar.commentBefore&&(Yn=!0)):zn.value==null&&ir&&ir.comment&&(sr=ir.comment)}sr&&(Yn=!0);let rr=Z(zn,Xn,()=>sr=null);er<e.length-1&&(rr+=","),sr&&(rr+=Y(rr,l,g(sr))),!Yn&&(Wn.length>nr||rr.includes(`
`))&&(Yn=!0),Wn.push(rr),nr=Wn.length}let or;const{start:Qn,end:lr}=n;if(Wn.length===0)or=Qn+lr;else if(Yn||(Yn=Wn.reduce((er,zn)=>er+zn.length+2,2)>Fe.maxFlowStringSingleLineLength),Yn){or=Qn;for(const er of Wn)or+=er?`
${p}${f}${er}`:`
`;or+=`
${f}${lr}`}else or=`${Qn}${I}${Wn.join(" ")}${I}${lr}`;return s&&(or+=Y(or,g(s),f),r&&r()),or}function Pe({indent:s,options:{commentString:e}},t,n,l){if(n&&l&&(n=n.replace(/^\n+/,"")),n){const r=V(e(n),s);t.push(r.trimStart())}}function X(s,e){const t=E(e)?e.value:e;for(const n of s)if(L(n)&&(n.key===e||n.key===t||E(n.key)&&n.key.value===t))return n}class K extends Fe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(G,e),this.items=[]}add(e,t){var n;let l;L(e)?l=e:!e||typeof e!="object"||!("key"in e)?l=new C(e,e==null?void 0:e.value):l=new C(e.key,e.value);const r=X(this.items,l.key),f=(n=this.schema)==null?void 0:n.sortMapEntries;if(r){if(!t)throw new Error(`Key ${l.key} already set`);E(r.value)&&Wt(l.value)?r.value.value=l.value:r.value=l.value}else if(f){const p=this.items.findIndex(I=>f(l,I)<0);p===-1?this.items.push(l):this.items.splice(p,0,l)}else this.items.push(l)}delete(e){const t=X(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){var n;const l=X(this.items,e),r=l==null?void 0:l.value;return(n=!t&&E(r)?r.value:r)!=null?n:void 0}has(e){return!!X(this.items,e)}set(e,t){this.add(new C(e,t),!0)}toJSON(e,t,n){const l=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(l);for(const r of this.items)Zt(t,l,r);return l}toString(e,t,n){if(!e)return JSON.stringify(this);for(const l of this.items)if(!L(l))throw new Error(`Map items must all be pairs; found ${JSON.stringify(l)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),xt(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}function Hs(s,e,t){const{keepUndefined:n,replacer:l}=t,r=new K(s),f=(p,I)=>{if(typeof l=="function")I=l.call(e,p,I);else if(Array.isArray(l)&&!l.includes(p))return;(I!==void 0||n)&&r.items.push(mt(p,I,t))};if(e instanceof Map)for(const[p,I]of e)f(p,I);else if(e&&typeof e=="object")for(const p of Object.keys(e))f(p,e[p]);return typeof s.sortMapEntries=="function"&&r.items.sort(s.sortMapEntries),r}const de={collection:"map",createNode:Hs,default:!0,nodeClass:K,tag:"tag:yaml.org,2002:map",resolve(s,e){return te(s)||e("Expected a mapping for this tag"),s}};class se extends Fe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ue,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Le(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=Le(e);if(typeof n!="number")return;const l=this.items[n];return!t&&E(l)?l.value:l}has(e){const t=Le(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=Le(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const l=this.items[n];E(l)&&Wt(t)?l.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let l=0;for(const r of this.items)n.push(R(r,String(l++),t));return n}toString(e,t,n){return e?xt(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function Le(s){let e=E(s)?s.value:s;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function Xs(s,e,t){const{replacer:n}=t,l=new se(s);if(e&&Symbol.iterator in Object(e)){let r=0;for(let f of e){if(typeof n=="function"){const p=e instanceof Set?f:String(r++);f=n.call(e,p,f)}l.items.push(Se(f,void 0,t))}}return l}const pe={collection:"seq",createNode:Xs,default:!0,nodeClass:se,tag:"tag:yaml.org,2002:seq",resolve(s,e){return he(s)||e("Expected a sequence for this tag"),s}},Je={identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify(s,e,t,n){return e=Object.assign({actualString:!0},e),Ae(s,e,t,n)}},Ye={identify:s=>s==null,createNode:()=>new A(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new A(null),stringify:({source:s},e)=>typeof s=="string"&&Ye.test.test(s)?s:e.options.nullStr},yt={identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s=>new A(s[0]==="t"||s[0]==="T"),stringify({source:s,value:e},t){if(s&&yt.test.test(s)){const n=s[0]==="t"||s[0]==="T";if(e===n)return s}return e?t.options.trueStr:t.options.falseStr}};function F({format:s,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);const l=typeof n=="number"?n:Number(n);if(!isFinite(l))return isNaN(l)?".nan":l<0?"-.inf":".inf";let r=JSON.stringify(n);if(!s&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let f=r.indexOf(".");f<0&&(f=r.length,r+=".");let p=e-(r.length-f-1);for(;p-- >0;)r+="0"}return r}const es={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:F},ts={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():F(s)}},ss={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(s){const e=new A(parseFloat(s)),t=s.indexOf(".");return t!==-1&&s[s.length-1]==="0"&&(e.minFractionDigits=s.length-t-1),e},stringify:F},Ge=s=>typeof s=="bigint"||Number.isInteger(s),gt=(s,e,t,{intAsBigInt:n})=>n?BigInt(s):parseInt(s.substring(e),t);function ns(s,e,t){const{value:n}=s;return Ge(n)&&n>=0?t+n.toString(e):F(s)}const is={identify:s=>Ge(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(s,e,t)=>gt(s,2,8,t),stringify:s=>ns(s,8,"0o")},rs={identify:Ge,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(s,e,t)=>gt(s,0,10,t),stringify:F},os={identify:s=>Ge(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(s,e,t)=>gt(s,2,16,t),stringify:s=>ns(s,16,"0x")},zs=[de,pe,Je,Ye,yt,is,rs,os,es,ts,ss];function Ct(s){return typeof s=="bigint"||Number.isInteger(s)}const Te=({value:s})=>JSON.stringify(s),Zs=[{identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify:Te},{identify:s=>s==null,createNode:()=>new A(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Te},{identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:s=>s==="true",stringify:Te},{identify:Ct,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(s,e,{intAsBigInt:t})=>t?BigInt(s):parseInt(s,10),stringify:({value:s})=>Ct(s)?s.toString():JSON.stringify(s)},{identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s=>parseFloat(s),stringify:Te}],xs={default:!0,tag:"",test:/^/,resolve(s,e){return e(`Unresolved plain scalar ${JSON.stringify(s)}`),s}},en=[de,pe].concat(Zs,xs),bt={identify:s=>s instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(s,e){if(typeof Buffer=="function")return Buffer.from(s,"base64");if(typeof atob=="function"){const t=atob(s.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let l=0;l<t.length;++l)n[l]=t.charCodeAt(l);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),s},stringify({comment:s,type:e,value:t},n,l,r){const f=t;let p;if(typeof Buffer=="function")p=f instanceof Buffer?f.toString("base64"):Buffer.from(f.buffer).toString("base64");else if(typeof btoa=="function"){let I="";for(let g=0;g<f.length;++g)I+=String.fromCharCode(f[g]);p=btoa(I)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=A.BLOCK_LITERAL),e!==A.QUOTE_DOUBLE){const I=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),g=Math.ceil(p.length/I),Xn=new Array(g);for(let Yn=0,nr=0;Yn<g;++Yn,nr+=I)Xn[Yn]=p.substr(nr,I);p=Xn.join(e===A.BLOCK_LITERAL?`
`:" ")}return Ae({comment:s,type:e,value:p},n,l,r)}};function ls(s,e){var t;if(he(s))for(let n=0;n<s.items.length;++n){let l=s.items[n];if(!L(l)){if(te(l)){l.items.length>1&&e("Each pair must have its own sequence indicator");const r=l.items[0]||new C(new A(null));if(l.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${l.commentBefore}
${r.key.commentBefore}`:l.commentBefore),l.comment){const f=(t=r.value)!=null?t:r.key;f.comment=f.comment?`${l.comment}
${f.comment}`:l.comment}l=r}s.items[n]=L(l)?l:new C(l)}}else e("Expected a sequence for this tag");return s}function as(s,e,t){const{replacer:n}=t,l=new se(s);l.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let f of e){typeof n=="function"&&(f=n.call(e,String(r++),f));let p,I;if(Array.isArray(f))if(f.length===2)p=f[0],I=f[1];else throw new TypeError(`Expected [key, value] tuple: ${f}`);else if(f&&f instanceof Object){const g=Object.keys(f);if(g.length===1)p=g[0],I=f[p];else throw new TypeError(`Expected { key: value } tuple: ${f}`)}else p=f;l.items.push(mt(p,I,t))}return l}const wt={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ls,createNode:as};class ae extends se{constructor(){super(),this.add=K.prototype.add.bind(this),this.delete=K.prototype.delete.bind(this),this.get=K.prototype.get.bind(this),this.has=K.prototype.has.bind(this),this.set=K.prototype.set.bind(this),this.tag=ae.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const l of this.items){let r,f;if(L(l)?(r=R(l.key,"",t),f=R(l.value,r,t)):r=R(l,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,f)}return n}}ae.tag="tag:yaml.org,2002:omap";const St={collection:"seq",identify:s=>s instanceof Map,nodeClass:ae,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){const t=ls(s,e),n=[];for(const{key:l}of t.items)E(l)&&(n.includes(l.value)?e(`Ordered maps must not include duplicate keys: ${l.value}`):n.push(l.value));return Object.assign(new ae,t)},createNode(s,e,t){const n=as(s,e,t),l=new ae;return l.items=n.items,l}};function cs({value:s,source:e},t){return e&&(s?fs:us).test.test(e)?e:s?t.options.trueStr:t.options.falseStr}const fs={identify:s=>s===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new A(!0),stringify:cs},us={identify:s=>s===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new A(!1),stringify:cs},tn={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:F},sn={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s.replace(/_/g,"")),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():F(s)}},nn={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(s){const e=new A(parseFloat(s.replace(/_/g,""))),t=s.indexOf(".");if(t!==-1){const n=s.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:F},Ee=s=>typeof s=="bigint"||Number.isInteger(s);function Qe(s,e,t,{intAsBigInt:n}){const l=s[0];if((l==="-"||l==="+")&&(e+=1),s=s.substring(e).replace(/_/g,""),n){switch(t){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`;break}const f=BigInt(s);return l==="-"?BigInt(-1)*f:f}const r=parseInt(s,t);return l==="-"?-1*r:r}function kt(s,e,t){const{value:n}=s;if(Ee(n)){const l=n.toString(e);return n<0?"-"+t+l.substr(1):t+l}return F(s)}const rn={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(s,e,t)=>Qe(s,2,2,t),stringify:s=>kt(s,2,"0b")},on={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(s,e,t)=>Qe(s,1,8,t),stringify:s=>kt(s,8,"0")},ln={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(s,e,t)=>Qe(s,0,10,t),stringify:F},an={identify:Ee,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(s,e,t)=>Qe(s,2,16,t),stringify:s=>kt(s,16,"0x")};class ce extends K{constructor(e){super(e),this.tag=ce.tag}add(e){let t;L(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new C(e.key,null):t=new C(e,null),X(this.items,t.key)||this.items.push(t)}get(e,t){const n=X(this.items,e);return!t&&L(n)?E(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=X(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new C(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}ce.tag="tag:yaml.org,2002:set";const Nt={collection:"map",identify:s=>s instanceof Set,nodeClass:ce,default:!1,tag:"tag:yaml.org,2002:set",resolve(s,e){if(te(s)){if(s.hasAllNullValues(!0))return Object.assign(new ce,s);e("Set items must all have null values")}else e("Expected a mapping for this tag");return s},createNode(s,e,t){const{replacer:n}=t,l=new ce(s);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof n=="function"&&(r=n.call(e,r,r)),l.items.push(mt(r,null,t));return l}};function Ot(s,e){const t=s[0],n=t==="-"||t==="+"?s.substring(1):s,l=f=>e?BigInt(f):Number(f),r=n.replace(/_/g,"").split(":").reduce((f,p)=>f*l(60)+l(p),l(0));return t==="-"?l(-1)*r:r}function hs(s){let{value:e}=s,t=f=>f;if(typeof e=="bigint")t=f=>BigInt(f);else if(isNaN(e)||!isFinite(e))return F(s);let n="";e<0&&(n="-",e*=t(-1));const l=t(60),r=[e%l];return e<60?r.unshift(0):(e=(e-r[0])/l,r.unshift(e%l),e>=60&&(e=(e-r[0])/l,r.unshift(e))),n+r.map(f=>f<10?"0"+String(f):String(f)).join(":").replace(/000000\d*$/,"")}const ds={identify:s=>typeof s=="bigint"||Number.isInteger(s),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(s,e,{intAsBigInt:t})=>Ot(s,t),stringify:hs},ps={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s=>Ot(s,!1),stringify:hs},We={identify:s=>s instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(s){const e=s.match(We.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,n,l,r,f,p]=e.map(Number),I=e[7]?Number((e[7]+"00").substr(1,3)):0;let g=Date.UTC(t,n-1,l,r||0,f||0,p||0,I);const Xn=e[8];if(Xn&&Xn!=="Z"){let Yn=Ot(Xn,!1);Math.abs(Yn)<30&&(Yn*=60),g-=6e4*Yn}return new Date(g)},stringify:({value:s})=>s.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},vt=[de,pe,Je,Ye,fs,us,rn,on,ln,an,tn,sn,nn,bt,St,wt,Nt,ds,ps,We],Bt=new Map([["core",zs],["failsafe",[de,pe,Je]],["json",en],["yaml11",vt],["yaml-1.1",vt]]),Mt={binary:bt,bool:yt,float:ss,floatExp:ts,floatNaN:es,floatTime:ps,int:rs,intHex:os,intOct:is,intTime:ds,map:de,null:Ye,omap:St,pairs:wt,seq:pe,set:Nt,timestamp:We},cn={"tag:yaml.org,2002:binary":bt,"tag:yaml.org,2002:omap":St,"tag:yaml.org,2002:pairs":wt,"tag:yaml.org,2002:set":Nt,"tag:yaml.org,2002:timestamp":We};function st(s,e){let t=Bt.get(e);if(!t)if(Array.isArray(s))t=[];else{const n=Array.from(Bt.keys()).filter(l=>l!=="yaml11").map(l=>JSON.stringify(l)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(s))for(const n of s)t=t.concat(n);else typeof s=="function"&&(t=s(t.slice()));return t.map(n=>{if(typeof n!="string")return n;const l=Mt[n];if(l)return l;const r=Object.keys(Mt).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${r}`)})}const fn=(s,e)=>s.key<e.key?-1:s.key>e.key?1:0;class He{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:l,schema:r,sortMapEntries:f,toStringDefaults:p}){this.compat=Array.isArray(e)?st(e,"compat"):e?st(null,e):null,this.merge=!!n,this.name=typeof r=="string"&&r||"core",this.knownTags=l?cn:{},this.tags=st(t,this.name),this.toStringOptions=p!=null?p:null,Object.defineProperty(this,G,{value:de}),Object.defineProperty(this,J,{value:Je}),Object.defineProperty(this,ue,{value:pe}),this.sortMapEntries=typeof f=="function"?f:f===!0?fn:null}clone(){const e=Object.create(He.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function un(s,e){var t;const n=[];let l=e.directives===!0;if(e.directives!==!1&&s.directives){const g=s.directives.toString(s);g?(n.push(g),l=!0):s.directives.docStart&&(l=!0)}l&&n.push("---");const r=Xt(s,e),{commentString:f}=r.options;if(s.commentBefore){n.length!==1&&n.unshift("");const g=f(s.commentBefore);n.unshift(V(g,""))}let p=!1,I=null;if(s.contents){if($(s.contents)){if(s.contents.spaceBefore&&l&&n.push(""),s.contents.commentBefore){const Yn=f(s.contents.commentBefore);n.push(V(Yn,""))}r.forceBlockIndent=!!s.comment,I=s.contents.comment}const g=I?void 0:()=>p=!0;let Xn=Z(s.contents,r,()=>I=null,g);I&&(Xn+=Y(Xn,"",f(I))),(Xn[0]==="|"||Xn[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${Xn}`:n.push(Xn)}else n.push(Z(s.contents,r));if((t=s.directives)!=null&&t.docEnd)if(s.comment){const g=f(s.comment);g.includes(`
`)?(n.push("..."),n.push(V(g,""))):n.push(`... ${g}`)}else n.push("...");else{let g=s.comment;g&&p&&(g=g.replace(/^\n+/,"")),g&&((!p||I)&&n[n.length-1]!==""&&n.push(""),n.push(V(f(g),"")))}return n.join(`
`)+`
`}function be(s,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let l=0,r=n.length;l<r;++l){const f=n[l],p=be(s,n,String(l),f);p===void 0?delete n[l]:p!==f&&(n[l]=p)}else if(n instanceof Map)for(const l of Array.from(n.keys())){const r=n.get(l),f=be(s,n,l,r);f===void 0?n.delete(l):f!==r&&n.set(l,f)}else if(n instanceof Set)for(const l of Array.from(n)){const r=be(s,n,l,l);r===void 0?n.delete(l):r!==l&&(n.delete(l),n.add(r))}else for(const[l,r]of Object.entries(n)){const f=be(s,n,l,r);f===void 0?delete n[l]:f!==r&&(n[l]=f)}return s.call(e,t,n)}class me{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,D,{value:at});let l=null;typeof t=="function"||Array.isArray(t)?l=t:n===void 0&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:f}=r;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(f=this.directives.yaml.version)):this.directives=new v({version:f}),this.setSchema(f,n),e===void 0?this.contents=null:this.contents=this.createNode(e,l,n)}clone(){const e=Object.create(me.prototype,{[D]:{value:at}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=$(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ne(this.contents)&&this.contents.add(e)}addIn(e,t){ne(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Gt(this);e.anchor=!t||n.has(t)?Qt(t||"a",n):t}return new qe(e.anchor)}createNode(e,t,n){let l;if(typeof t=="function")e=t.call({"":e},"",e),l=t;else if(Array.isArray(t)){const lr=zn=>typeof zn=="number"||zn instanceof String||zn instanceof Number,er=t.filter(lr).map(String);er.length>0&&(t=t.concat(er)),l=t}else n===void 0&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:f,flow:p,keepUndefined:I,onTagObj:g,tag:Xn}=n!=null?n:{},{onAnchor:Yn,setAnchors:nr,sourceObjects:Wn}=js(this,f||"a"),or={aliasDuplicateObjects:r!=null?r:!0,keepUndefined:I!=null?I:!1,onAnchor:Yn,onTagObj:g,replacer:l,schema:this.schema,sourceObjects:Wn},Qn=Se(e,Xn,or);return p&&T(Qn)&&(Qn.flow=!0),nr(),Qn}createPair(e,t,n={}){const l=this.createNode(e,null,n),r=this.createNode(t,null,n);return new C(l,r)}delete(e){return ne(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ge(e)?this.contents==null?!1:(this.contents=null,!0):ne(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return T(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ge(e)?!t&&E(this.contents)?this.contents.value:this.contents:T(this.contents)?this.contents.getIn(e,t):void 0}has(e){return T(this.contents)?this.contents.has(e):!1}hasIn(e){return ge(e)?this.contents!==void 0:T(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Me(this.schema,[e],t):ne(this.contents)&&this.contents.set(e,t)}setIn(e,t){ge(e)?this.contents=t:this.contents==null?this.contents=Me(this.schema,Array.from(e),t):ne(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new v({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new v({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const l=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${l}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new He(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:l,onAnchor:r,reviver:f}={}){const p={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof l=="number"?l:100,stringify:Z},I=R(this.contents,t!=null?t:"",p);if(typeof r=="function")for(const{count:g,res:Xn}of p.anchors.values())r(Xn,g);return typeof f=="function"?be(f,{"":I},"",I):I}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return un(this,e)}}function ne(s){if(T(s))return!0;throw new Error("Expected a YAML collection as document contents")}class At extends Error{constructor(e,t,n,l){super(),this.name=e,this.code=n,this.message=l,this.pos=t}}class z extends At{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class ms extends At{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const je=(s,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(p=>e.linePos(p));const{line:n,col:l}=t.linePos[0];t.message+=` at line ${n}, column ${l}`;let r=l-1,f=s.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&f.length>80){const p=Math.min(r-39,f.length-79);f=""+f.substring(p),r-=p-1}if(f.length>80&&(f=f.substring(0,79)+""),n>1&&/^ *$/.test(f.substring(0,r))){let p=s.substring(e.lineStarts[n-2],e.lineStarts[n-1]);p.length>80&&(p=p.substring(0,79)+`
`),f=p+f}if(/[^ ]/.test(f)){let p=1;const I=t.linePos[1];I&&I.line===n&&I.col>l&&(p=Math.min(I.col-l,80-r));const g=" ".repeat(r)+"^".repeat(p);t.message+=`:

${f}
${g}
`}};function fe(s,{flow:e,indicator:t,next:n,offset:l,onError:r,startOnNewline:f}){let p=!1,I=f,g=f,Xn="",Yn="",nr=!1,Wn=!1,or=!1,Qn=null,lr=null,er=null,zn=null,sr=null;for(const ar of s)switch(or&&(ar.type!=="space"&&ar.type!=="newline"&&ar.type!=="comma"&&r(ar.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),or=!1),ar.type){case"space":!e&&I&&t!=="doc-start"&&ar.source[0]==="	"&&r(ar,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=!0;break;case"comment":{g||r(ar,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const fr=ar.source.substring(1)||" ";Xn?Xn+=Yn+fr:Xn=fr,Yn="",I=!1;break}case"newline":I?Xn?Xn+=ar.source:p=!0:Yn+=ar.source,I=!0,nr=!0,(Qn||lr)&&(Wn=!0),g=!0;break;case"anchor":Qn&&r(ar,"MULTIPLE_ANCHORS","A node can have at most one anchor"),ar.source.endsWith(":")&&r(ar.offset+ar.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),Qn=ar,sr===null&&(sr=ar.offset),I=!1,g=!1,or=!0;break;case"tag":{lr&&r(ar,"MULTIPLE_TAGS","A node can have at most one tag"),lr=ar,sr===null&&(sr=ar.offset),I=!1,g=!1,or=!0;break}case t:(Qn||lr)&&r(ar,"BAD_PROP_ORDER",`Anchors and tags must be after the ${ar.source} indicator`),zn&&r(ar,"UNEXPECTED_TOKEN",`Unexpected ${ar.source} in ${e!=null?e:"collection"}`),zn=ar,I=!1,g=!1;break;case"comma":if(e){er&&r(ar,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),er=ar,I=!1,g=!1;break}default:r(ar,"UNEXPECTED_TOKEN",`Unexpected ${ar.type} token`),I=!1,g=!1}const rr=s[s.length-1],ir=rr?rr.offset+rr.source.length:l;return or&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:er,found:zn,spaceBefore:p,comment:Xn,hasNewline:nr,hasNewlineAfterProp:Wn,anchor:Qn,tag:lr,end:ir,start:sr!=null?sr:ir}}function ke(s){if(!s)return null;switch(s.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(s.source.includes(`
`))return!0;if(s.end){for(const e of s.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of s.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(ke(e.key)||ke(e.value))return!0}return!1;default:return!0}}function ut(s,e,t){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===s&&(n.source==="]"||n.source==="}")&&ke(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ys(s,e,t){const{uniqueKeys:n}=s.options;if(n===!1)return!1;const l=typeof n=="function"?n:(r,f)=>r===f||E(r)&&E(f)&&r.value===f.value&&!(r.value==="<<"&&s.schema.merge);return e.some(r=>l(r.key,t))}const Pt="All mapping items must start at the same column";function hn({composeNode:s,composeEmptyNode:e},t,n,l){var r;const f=new K(t.schema);t.atRoot&&(t.atRoot=!1);let p=n.offset,I=null;for(const g of n.items){const{start:Xn,key:Yn,sep:nr,value:Wn}=g,or=fe(Xn,{indicator:"explicit-key-ind",next:Yn!=null?Yn:nr==null?void 0:nr[0],offset:p,onError:l,startOnNewline:!0}),Qn=!or.found;if(Qn){if(Yn&&(Yn.type==="block-seq"?l(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in Yn&&Yn.indent!==n.indent&&l(p,"BAD_INDENT",Pt)),!or.anchor&&!or.tag&&!nr){I=or.end,or.comment&&(f.comment?f.comment+=`
`+or.comment:f.comment=or.comment);continue}(or.hasNewlineAfterProp||ke(Yn))&&l(Yn!=null?Yn:Xn[Xn.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((r=or.found)==null?void 0:r.indent)!==n.indent&&l(p,"BAD_INDENT",Pt);const lr=or.end,er=Yn?s(t,Yn,or,l):e(t,lr,Xn,null,or,l);t.schema.compat&&ut(n.indent,Yn,l),ys(t,f.items,er)&&l(lr,"DUPLICATE_KEY","Map keys must be unique");const zn=fe(nr!=null?nr:[],{indicator:"map-value-ind",next:Wn,offset:er.range[2],onError:l,startOnNewline:!Yn||Yn.type==="block-scalar"});if(p=zn.end,zn.found){Qn&&((Wn==null?void 0:Wn.type)==="block-map"&&!zn.hasNewline&&l(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&or.start<zn.found.offset-1024&&l(er.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const sr=Wn?s(t,Wn,zn,l):e(t,p,nr,null,zn,l);t.schema.compat&&ut(n.indent,Wn,l),p=sr.range[2];const rr=new C(er,sr);t.options.keepSourceTokens&&(rr.srcToken=g),f.items.push(rr)}else{Qn&&l(er.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),zn.comment&&(er.comment?er.comment+=`
`+zn.comment:er.comment=zn.comment);const sr=new C(er);t.options.keepSourceTokens&&(sr.srcToken=g),f.items.push(sr)}}return I&&I<p&&l(I,"IMPOSSIBLE","Map comment with trailing content"),f.range=[n.offset,p,I!=null?I:p],f}function dn({composeNode:s,composeEmptyNode:e},t,n,l){const r=new se(t.schema);t.atRoot&&(t.atRoot=!1);let f=n.offset,p=null;for(const{start:I,value:g}of n.items){const Xn=fe(I,{indicator:"seq-item-ind",next:g,offset:f,onError:l,startOnNewline:!0});if(!Xn.found)if(Xn.anchor||Xn.tag||g)g&&g.type==="block-seq"?l(Xn.end,"BAD_INDENT","All sequence items must start at the same column"):l(f,"MISSING_CHAR","Sequence item without - indicator");else{p=Xn.end,Xn.comment&&(r.comment=Xn.comment);continue}const Yn=g?s(t,g,Xn,l):e(t,Xn.end,I,null,Xn,l);t.schema.compat&&ut(n.indent,g,l),f=Yn.range[2],r.items.push(Yn)}return r.range=[n.offset,f,p!=null?p:f],r}function Ie(s,e,t,n){let l="";if(s){let r=!1,f="";for(const p of s){const{source:I,type:g}=p;switch(g){case"space":r=!0;break;case"comment":{t&&!r&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Xn=I.substring(1)||" ";l?l+=f+Xn:l=Xn,f="";break}case"newline":l&&(f+=I),r=!0;break;default:n(p,"UNEXPECTED_TOKEN",`Unexpected ${g} at node end`)}e+=I.length}}return{comment:l,offset:e}}const nt="Block collections are not allowed within flow collections",it=s=>s&&(s.type==="block-map"||s.type==="block-seq");function pn({composeNode:s,composeEmptyNode:e},t,n,l){var r;const f=n.start.source==="{",p=f?"flow map":"flow sequence",I=f?new K(t.schema):new se(t.schema);I.flow=!0;const g=t.atRoot;g&&(t.atRoot=!1);let Xn=n.offset+n.start.source.length;for(let Qn=0;Qn<n.items.length;++Qn){const lr=n.items[Qn],{start:er,key:zn,sep:sr,value:rr}=lr,ir=fe(er,{flow:p,indicator:"explicit-key-ind",next:zn!=null?zn:sr==null?void 0:sr[0],offset:Xn,onError:l,startOnNewline:!1});if(!ir.found){if(!ir.anchor&&!ir.tag&&!sr&&!rr){Qn===0&&ir.comma?l(ir.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${p}`):Qn<n.items.length-1&&l(ir.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${p}`),ir.comment&&(I.comment?I.comment+=`
`+ir.comment:I.comment=ir.comment),Xn=ir.end;continue}!f&&t.options.strict&&ke(zn)&&l(zn,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(Qn===0)ir.comma&&l(ir.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${p}`);else if(ir.comma||l(ir.start,"MISSING_CHAR",`Missing , between ${p} items`),ir.comment){let ar="";e:for(const fr of er)switch(fr.type){case"comma":case"space":break;case"comment":ar=fr.source.substring(1);break e;default:break e}if(ar){let fr=I.items[I.items.length-1];L(fr)&&(fr=(r=fr.value)!=null?r:fr.key),fr.comment?fr.comment+=`
`+ar:fr.comment=ar,ir.comment=ir.comment.substring(ar.length+1)}}if(!f&&!sr&&!ir.found){const ar=rr?s(t,rr,ir,l):e(t,ir.end,sr,null,ir,l);I.items.push(ar),Xn=ar.range[2],it(rr)&&l(ar.range,"BLOCK_IN_FLOW",nt)}else{const ar=ir.end,fr=zn?s(t,zn,ir,l):e(t,ar,er,null,ir,l);it(zn)&&l(fr.range,"BLOCK_IN_FLOW",nt);const hr=fe(sr!=null?sr:[],{flow:p,indicator:"map-value-ind",next:rr,offset:fr.range[2],onError:l,startOnNewline:!1});if(hr.found){if(!f&&!ir.found&&t.options.strict){if(sr)for(const Ar of sr){if(Ar===hr.found)break;if(Ar.type==="newline"){l(Ar,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}ir.start<hr.found.offset-1024&&l(hr.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else rr&&("source"in rr&&rr.source&&rr.source[0]===":"?l(rr,"MISSING_CHAR",`Missing space after : in ${p}`):l(hr.start,"MISSING_CHAR",`Missing , or : between ${p} items`));const wr=rr?s(t,rr,hr,l):hr.found?e(t,hr.end,sr,null,hr,l):null;wr?it(rr)&&l(wr.range,"BLOCK_IN_FLOW",nt):hr.comment&&(fr.comment?fr.comment+=`
`+hr.comment:fr.comment=hr.comment);const Sr=new C(fr,wr);if(t.options.keepSourceTokens&&(Sr.srcToken=lr),f){const Ar=I;ys(t,Ar.items,fr)&&l(ar,"DUPLICATE_KEY","Map keys must be unique"),Ar.items.push(Sr)}else{const Ar=new K(t.schema);Ar.flow=!0,Ar.items.push(Sr),I.items.push(Ar)}Xn=wr?wr.range[2]:hr.end}}const Yn=f?"}":"]",[nr,...Wn]=n.end;let or=Xn;if(nr&&nr.source===Yn)or=nr.offset+nr.source.length;else{const Qn=p[0].toUpperCase()+p.substring(1),lr=g?`${Qn} must end with a ${Yn}`:`${Qn} in block collection must be sufficiently indented and end with a ${Yn}`;l(Xn,g?"MISSING_CHAR":"BAD_INDENT",lr),nr&&nr.source.length!==1&&Wn.unshift(nr)}if(Wn.length>0){const Qn=Ie(Wn,or,t.options.strict,l);Qn.comment&&(I.comment?I.comment+=`
`+Qn.comment:I.comment=Qn.comment),I.range=[n.offset,or,Qn.offset]}else I.range=[n.offset,or,or];return I}function mn(s,e,t,n,l){let r;switch(t.type){case"block-map":{r=hn(s,e,t,l);break}case"block-seq":{r=dn(s,e,t,l);break}case"flow-collection":{r=pn(s,e,t,l);break}}if(!n)return r;const f=e.directives.tagName(n.source,nr=>l(n,"TAG_RESOLVE_FAILED",nr));if(!f)return r;const p=r.constructor;if(f==="!"||f===p.tagName)return r.tag=p.tagName,r;const I=te(r)?"map":"seq";let g=e.schema.tags.find(nr=>nr.collection===I&&nr.tag===f);if(!g){const nr=e.schema.knownTags[f];if(nr&&nr.collection===I)e.schema.tags.push(Object.assign({},nr,{default:!1})),g=nr;else return l(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${f}`,!0),r.tag=f,r}const Xn=g.resolve(r,nr=>l(n,"TAG_RESOLVE_FAILED",nr),e.options),Yn=$(Xn)?Xn:new A(Xn);return Yn.range=r.range,Yn.tag=f,g!=null&&g.format&&(Yn.format=g.format),Yn}function gs(s,e,t){const n=s.offset,l=yn(s,e,t);if(!l)return{value:"",type:null,comment:"",range:[n,n,n]};const r=l.mode===">"?A.BLOCK_FOLDED:A.BLOCK_LITERAL,f=s.source?gn(s.source):[];let p=f.length;for(let Qn=f.length-1;Qn>=0;--Qn){const lr=f[Qn][1];if(lr===""||lr==="\r")p=Qn;else break}if(p===0){const Qn=l.chomp==="+"&&f.length>0?`
`.repeat(Math.max(1,f.length-1)):"";let lr=n+l.length;return s.source&&(lr+=s.source.length),{value:Qn,type:r,comment:l.comment,range:[n,lr,lr]}}let I=s.indent+l.indent,g=s.offset+l.length,Xn=0;for(let Qn=0;Qn<p;++Qn){const[lr,er]=f[Qn];if(er===""||er==="\r")l.indent===0&&lr.length>I&&(I=lr.length);else{if(lr.length<I){const zn="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(g+lr.length,"MISSING_CHAR",zn)}l.indent===0&&(I=lr.length),Xn=Qn;break}g+=lr.length+er.length+1}for(let Qn=f.length-1;Qn>=p;--Qn)f[Qn][0].length>I&&(p=Qn+1);let Yn="",nr="",Wn=!1;for(let Qn=0;Qn<Xn;++Qn)Yn+=f[Qn][0].slice(I)+`
`;for(let Qn=Xn;Qn<p;++Qn){let[lr,er]=f[Qn];g+=lr.length+er.length+1;const zn=er[er.length-1]==="\r";if(zn&&(er=er.slice(0,-1)),er&&lr.length<I){const sr=`Block scalar lines must not be less indented than their ${l.indent?"explicit indentation indicator":"first line"}`;t(g-er.length-(zn?2:1),"BAD_INDENT",sr),lr=""}r===A.BLOCK_LITERAL?(Yn+=nr+lr.slice(I)+er,nr=`
`):lr.length>I||er[0]==="	"?(nr===" "?nr=`
`:!Wn&&nr===`
`&&(nr=`

`),Yn+=nr+lr.slice(I)+er,nr=`
`,Wn=!0):er===""?nr===`
`?Yn+=`
`:nr=`
`:(Yn+=nr+er,nr=" ",Wn=!1)}switch(l.chomp){case"-":break;case"+":for(let Qn=p;Qn<f.length;++Qn)Yn+=`
`+f[Qn][0].slice(I);Yn[Yn.length-1]!==`
`&&(Yn+=`
`);break;default:Yn+=`
`}const or=n+l.length+s.source.length;return{value:Yn,type:r,comment:l.comment,range:[n,or,or]}}function yn({offset:s,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:l}=e[0],r=l[0];let f=0,p="",I=-1;for(let nr=1;nr<l.length;++nr){const Wn=l[nr];if(!p&&(Wn==="-"||Wn==="+"))p=Wn;else{const or=Number(Wn);!f&&or?f=or:I===-1&&(I=s+nr)}}I!==-1&&n(I,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${l}`);let g=!1,Xn="",Yn=l.length;for(let nr=1;nr<e.length;++nr){const Wn=e[nr];switch(Wn.type){case"space":g=!0;case"newline":Yn+=Wn.source.length;break;case"comment":t&&!g&&n(Wn,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),Yn+=Wn.source.length,Xn=Wn.source.substring(1);break;case"error":n(Wn,"UNEXPECTED_TOKEN",Wn.message),Yn+=Wn.source.length;break;default:{const or=`Unexpected token in block scalar header: ${Wn.type}`;n(Wn,"UNEXPECTED_TOKEN",or);const Qn=Wn.source;Qn&&typeof Qn=="string"&&(Yn+=Qn.length)}}}return{mode:r,indent:f,chomp:p,comment:Xn,length:Yn}}function gn(s){const e=s.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),l=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let r=1;r<e.length;r+=2)l.push([e[r],e[r+1]]);return l}function bs(s,e,t){const{offset:n,type:l,source:r,end:f}=s;let p,I;const g=(nr,Wn,or)=>t(n+nr,Wn,or);switch(l){case"scalar":p=A.PLAIN,I=bn(r,g);break;case"single-quoted-scalar":p=A.QUOTE_SINGLE,I=wn(r,g);break;case"double-quoted-scalar":p=A.QUOTE_DOUBLE,I=Sn(r,g);break;default:return t(s,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${l}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}const Xn=n+r.length,Yn=Ie(f,Xn,e,t);return{value:I,type:p,comment:Yn.comment,range:[n,Xn,Yn.offset]}}function bn(s,e){let t="";switch(s[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${s[0]}`;break}case"@":case"`":{t=`reserved character ${s[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),ws(s)}function wn(s,e){return(s[s.length-1]!=="'"||s.length===1)&&e(s.length,"MISSING_CHAR","Missing closing 'quote"),ws(s.slice(1,-1)).replace(/''/g,"'")}function ws(s){var e;let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch(g){t=new RegExp("(.*?)[ \\t]*\\r?\\n","sy"),n=new RegExp("[ \\t]*(.*?)[ \\t]*\\r?\\n","sy")}let l=t.exec(s);if(!l)return s;let r=l[1],f=" ",p=t.lastIndex;for(n.lastIndex=p;l=n.exec(s);)l[1]===""?f===`
`?r+=f:f=`
`:(r+=f+l[1],f=" "),p=n.lastIndex;const I=new RegExp("[ \\t]*(.*)","sy");return I.lastIndex=p,l=I.exec(s),r+f+((e=l==null?void 0:l[1])!=null?e:"")}function Sn(s,e){let t="";for(let n=1;n<s.length-1;++n){const l=s[n];if(!(l==="\r"&&s[n+1]===`
`))if(l===`
`){const{fold:r,offset:f}=kn(s,n);t+=r,n=f}else if(l==="\\"){let r=s[++n];const f=Nn[r];if(f)t+=f;else if(r===`
`)for(r=s[n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="\r"&&s[n+1]===`
`)for(r=s[++n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="x"||r==="u"||r==="U"){const p={x:2,u:4,U:8}[r];t+=On(s,n+1,p,e),n+=p}else{const p=s.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${p}`),t+=p}}else if(l===" "||l==="	"){const r=n;let f=s[n+1];for(;f===" "||f==="	";)f=s[++n+1];f!==`
`&&!(f==="\r"&&s[n+2]===`
`)&&(t+=n>r?s.slice(r,n+1):l)}else t+=l}return(s[s.length-1]!=='"'||s.length===1)&&e(s.length,"MISSING_CHAR",'Missing closing "quote'),t}function kn(s,e){let t="",n=s[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&s[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=s[e+1];return t||(t=" "),{fold:t,offset:e}}const Nn={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function On(s,e,t,n){const l=s.substr(e,t),r=l.length===t&&/^[0-9a-fA-F]+$/.test(l)?parseInt(l,16):NaN;if(isNaN(r)){const f=s.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${f}`),f}return String.fromCodePoint(r)}function Ss(s,e,t,n){const{value:l,type:r,comment:f,range:p}=e.type==="block-scalar"?gs(e,s.options.strict,n):bs(e,s.options.strict,n),I=t?s.directives.tagName(t.source,Yn=>n(t,"TAG_RESOLVE_FAILED",Yn)):null,g=t&&I?An(s.schema,l,I,t,n):e.type==="scalar"?En(s,l,e,n):s.schema[J];let Xn;try{const Yn=g.resolve(l,nr=>n(t!=null?t:e,"TAG_RESOLVE_FAILED",nr),s.options);Xn=E(Yn)?Yn:new A(Yn)}catch(Yn){const nr=Yn instanceof Error?Yn.message:String(Yn);n(t!=null?t:e,"TAG_RESOLVE_FAILED",nr),Xn=new A(l)}return Xn.range=p,Xn.source=l,r&&(Xn.type=r),I&&(Xn.tag=I),g.format&&(Xn.format=g.format),f&&(Xn.comment=f),Xn}function An(s,e,t,n,l){var r;if(t==="!")return s[J];const f=[];for(const I of s.tags)if(!I.collection&&I.tag===t)if(I.default&&I.test)f.push(I);else return I;for(const I of f)if((r=I.test)!=null&&r.test(e))return I;const p=s.knownTags[t];return p&&!p.collection?(s.tags.push(Object.assign({},p,{default:!1,test:void 0})),p):(l(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),s[J])}function En({directives:s,schema:e},t,n,l){var r;const f=e.tags.find(p=>{var I;return p.default&&((I=p.test)==null?void 0:I.test(t))})||e[J];if(e.compat){const p=(r=e.compat.find(I=>{var g;return I.default&&((g=I.test)==null?void 0:g.test(t))}))!=null?r:e[J];if(f.tag!==p.tag){const I=s.tagString(f.tag),g=s.tagString(p.tag),Xn=`Value may be parsed as either ${I} or ${g}`;l(n,"TAG_RESOLVE_FAILED",Xn,!0)}}return f}function In(s,e,t){if(e){t===null&&(t=e.length);for(let n=t-1;n>=0;--n){let l=e[n];switch(l.type){case"space":case"comment":case"newline":s-=l.source.length;continue}for(l=e[++n];(l==null?void 0:l.type)==="space";)s+=l.source.length,l=e[++n];break}}return s}const Ln={composeNode:ks,composeEmptyNode:Et};function ks(s,e,t,n){const{spaceBefore:l,comment:r,anchor:f,tag:p}=t;let I,g=!0;switch(e.type){case"alias":I=Tn(s,e,n),(f||p)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":I=Ss(s,e,p,n),f&&(I.anchor=f.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":I=mn(Ln,s,e,p,n),f&&(I.anchor=f.source.substring(1));break;default:{const Xn=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",Xn),I=Et(s,e.offset,void 0,null,t,n),g=!1}}return f&&I.anchor===""&&n(f,"BAD_ALIAS","Anchor cannot be an empty string"),l&&(I.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?I.comment=r:I.commentBefore=r),s.options.keepSourceTokens&&g&&(I.srcToken=e),I}function Et(s,e,t,n,{spaceBefore:l,comment:r,anchor:f,tag:p,end:I},g){const Xn={type:"scalar",offset:In(e,t,n),indent:-1,source:""},Yn=Ss(s,Xn,p,g);return f&&(Yn.anchor=f.source.substring(1),Yn.anchor===""&&g(f,"BAD_ALIAS","Anchor cannot be an empty string")),l&&(Yn.spaceBefore=!0),r&&(Yn.comment=r,Yn.range[2]=I),Yn}function Tn({options:s},{offset:e,source:t,end:n},l){const r=new qe(t.substring(1));r.source===""&&l(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&l(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const f=e+t.length,p=Ie(n,f,s.strict,l);return r.range=[e,f,p.offset],p.comment&&(r.comment=p.comment),r}function $n(s,e,{offset:t,start:n,value:l,end:r},f){const p=Object.assign({_directives:e},s),I=new me(void 0,p),g={atRoot:!0,directives:I.directives,options:I.options,schema:I.schema},Xn=fe(n,{indicator:"doc-start",next:l!=null?l:r==null?void 0:r[0],offset:t,onError:f,startOnNewline:!0});Xn.found&&(I.directives.docStart=!0,l&&(l.type==="block-map"||l.type==="block-seq")&&!Xn.hasNewline&&f(Xn.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),I.contents=l?ks(g,l,Xn,f):Et(g,Xn.end,n,null,Xn,f);const Yn=I.contents.range[2],nr=Ie(r,Yn,!1,f);return nr.comment&&(I.comment=nr.comment),I.range=[t,Yn,nr.offset],I}function ye(s){if(typeof s=="number")return[s,s+1];if(Array.isArray(s))return s.length===2?s:[s[0],s[1]];const{offset:e,source:t}=s;return[e,e+(typeof t=="string"?t.length:1)]}function jt(s){var e;let t="",n=!1,l=!1;for(let r=0;r<s.length;++r){const f=s[r];switch(f[0]){case"#":t+=(t===""?"":l?`

`:`
`)+(f.substring(1)||" "),n=!0,l=!1;break;case"%":((e=s[r+1])==null?void 0:e[0])!=="#"&&(r+=1),n=!1;break;default:n||(l=!0),n=!1}}return{comment:t,afterEmptyLine:l}}class It{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,l,r)=>{const f=ye(t);r?this.warnings.push(new ms(f,n,l)):this.errors.push(new z(f,n,l))},this.directives=new v({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:l}=jt(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(l||e.directives.docStart||!r)e.commentBefore=n;else if(T(r)&&!r.flow&&r.items.length>0){let f=r.items[0];L(f)&&(f=f.key);const p=f.commentBefore;f.commentBefore=p?`${n}
${p}`:n}else{const f=r.commentBefore;r.commentBefore=f?`${n}
${f}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:jt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const l of e)yield*gr(h(this.next(l)));yield*gr(h(this.end(t,n)))}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,l)=>{const r=ye(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,l)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=$n(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new z(ye(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new z(ye(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const t=Ie(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new z(ye(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),l=new me(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),l.range=[0,t,t],this.decorate(l,!1),yield l}}}function _n(s,e=!0,t){if(s){const n=(l,r,f)=>{const p=typeof l=="number"?l:Array.isArray(l)?l[0]:l.offset;if(t)t(p,r,f);else throw new z([p,p+1],r,f)};switch(s.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return bs(s,e,n);case"block-scalar":return gs(s,e,n)}}return null}function Cn(s,e){var t;const{implicitKey:n=!1,indent:l,inFlow:r=!1,offset:f=-1,type:p="PLAIN"}=e,I=Ae({type:p,value:s},{implicitKey:n,indent:l>0?" ".repeat(l):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),g=(t=e.end)!=null?t:[{type:"newline",offset:-1,indent:l,source:`
`}];switch(I[0]){case"|":case">":{const Xn=I.indexOf(`
`),Yn=I.substring(0,Xn),nr=I.substring(Xn+1)+`
`,Wn=[{type:"block-scalar-header",offset:f,indent:l,source:Yn}];return Ns(Wn,g)||Wn.push({type:"newline",offset:-1,indent:l,source:`
`}),{type:"block-scalar",offset:f,indent:l,props:Wn,source:nr}}case'"':return{type:"double-quoted-scalar",offset:f,indent:l,source:I,end:g};case"'":return{type:"single-quoted-scalar",offset:f,indent:l,source:I,end:g};default:return{type:"scalar",offset:f,indent:l,source:I,end:g}}}function vn(s,e,t={}){let{afterKey:n=!1,implicitKey:l=!1,inFlow:r=!1,type:f}=t,p="indent"in s?s.indent:null;if(n&&typeof p=="number"&&(p+=2),!f)switch(s.type){case"single-quoted-scalar":f="QUOTE_SINGLE";break;case"double-quoted-scalar":f="QUOTE_DOUBLE";break;case"block-scalar":{const g=s.props[0];if(g.type!=="block-scalar-header")throw new Error("Invalid block scalar header");f=g.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:f="PLAIN"}const I=Ae({type:f,value:e},{implicitKey:l||p===null,indent:p!==null&&p>0?" ".repeat(p):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(I[0]){case"|":case">":Bn(s,I);break;case'"':rt(s,I,"double-quoted-scalar");break;case"'":rt(s,I,"single-quoted-scalar");break;default:rt(s,I,"scalar")}}function Bn(s,e){const t=e.indexOf(`
`),n=e.substring(0,t),l=e.substring(t+1)+`
`;if(s.type==="block-scalar"){const r=s.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=n,s.source=l}else{const{offset:r}=s,f="indent"in s?s.indent:-1,p=[{type:"block-scalar-header",offset:r,indent:f,source:n}];Ns(p,"end"in s?s.end:void 0)||p.push({type:"newline",offset:-1,indent:f,source:`
`});for(const I of Object.keys(s))I!=="type"&&I!=="offset"&&delete s[I];Object.assign(s,{type:"block-scalar",indent:f,props:p,source:l})}}function Ns(s,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":s.push(t);break;case"newline":return s.push(t),!0}return!1}function rt(s,e,t){switch(s.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":s.type=t,s.source=e;break;case"block-scalar":{const n=s.props.slice(1);let l=e.length;s.props[0].type==="block-scalar-header"&&(l-=s.props[0].source.length);for(const r of n)r.offset+=l;delete s.props,Object.assign(s,{type:t,source:e,end:n});break}case"block-map":case"block-seq":{const n={type:"newline",offset:s.offset+e.length,indent:s.indent,source:`
`};delete s.items,Object.assign(s,{type:t,source:e,end:[n]});break}default:{const n="indent"in s?s.indent:-1,l="end"in s&&Array.isArray(s.end)?s.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(s))r!=="type"&&r!=="offset"&&delete s[r];Object.assign(s,{type:t,indent:n,source:e,end:l})}}}const Mn=s=>"type"in s?Ke(s):Be(s);function Ke(s){switch(s.type){case"block-scalar":{let e="";for(const t of s.props)e+=Ke(t);return e+s.source}case"block-map":case"block-seq":{let e="";for(const t of s.items)e+=Be(t);return e}case"flow-collection":{let e=s.start.source;for(const t of s.items)e+=Be(t);for(const t of s.end)e+=t.source;return e}case"document":{let e=Be(s);if(s.end)for(const t of s.end)e+=t.source;return e}default:{let e=s.source;if("end"in s&&s.end)for(const t of s.end)e+=t.source;return e}}}function Be({start:s,key:e,sep:t,value:n}){let l="";for(const r of s)l+=r.source;if(e&&(l+=Ke(e)),t)for(const r of t)l+=r.source;return n&&(l+=Ke(n)),l}const ht=Symbol("break visit"),Pn=Symbol("skip children"),Os=Symbol("remove item");function x(s,e){"type"in s&&s.type==="document"&&(s={start:s.start,value:s.value}),As(Object.freeze([]),s,e)}x.BREAK=ht,x.SKIP=Pn,x.REMOVE=Os,x.itemAtPath=(s,e)=>{let t=s;for(const[n,l]of e){const r=t==null?void 0:t[n];if(r&&"items"in r)t=r.items[l];else return}return t},x.parentCollection=(s,e)=>{const t=x.itemAtPath(s,e.slice(0,-1)),n=e[e.length-1][0],l=t==null?void 0:t[n];if(l&&"items"in l)return l;throw new Error("Parent collection not found")};function As(s,e,t){let n=t(e,s);if(typeof n=="symbol")return n;for(const l of["key","value"]){const r=e[l];if(r&&"items"in r){for(let f=0;f<r.items.length;++f){const p=As(Object.freeze(s.concat([[l,f]])),r.items[f],t);if(typeof p=="number")f=p-1;else{if(p===ht)return ht;p===Os&&(r.items.splice(f,1),f-=1)}}typeof n=="function"&&l==="key"&&(n=n(e,s))}}return typeof n=="function"?n(e,s):n}const Xe="\uFEFF",ze="",Ze="",Ne="",jn=s=>!!s&&"items"in s,Kn=s=>!!s&&(s.type==="scalar"||s.type==="single-quoted-scalar"||s.type==="double-quoted-scalar"||s.type==="block-scalar");function Dn(s){switch(s){case Xe:return"<BOM>";case ze:return"<DOC>";case Ze:return"<FLOW_END>";case Ne:return"<SCALAR>";default:return JSON.stringify(s)}}function Es(s){switch(s){case Xe:return"byte-order-mark";case ze:return"doc-mode";case Ze:return"flow-error-end";case Ne:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(s[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const qn=Object.freeze(Object.defineProperty({__proto__:null,BOM:Xe,DOCUMENT:ze,FLOW_END:Ze,SCALAR:Ne,createScalarToken:Cn,isCollection:jn,isScalar:Kn,prettyToken:Dn,resolveAsScalar:_n,setScalarValue:vn,stringify:Mn,tokenType:Es,visit:x},Symbol.toStringTag,{value:"Module"}));function j(s){switch(s){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Kt="0123456789ABCDEFabcdef".split(""),Fn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),ot=",[]{}".split(""),Un=` ,[]{}
\r	`.split(""),lt=s=>!s||Un.includes(s);class Is{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){var n;e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let l=(n=this.next)!=null?n:"stream";for(;l&&(t||this.hasChars(1));)l=yield*gr(h(this.parseNext(l)))}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){const l=this.buffer[n+e+1];if(l===`
`||!l&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&j(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*gr(h(this.parseStream()));case"line-start":return yield*gr(h(this.parseLineStart()));case"block-start":return yield*gr(h(this.parseBlockStart()));case"doc":return yield*gr(h(this.parseDocument()));case"flow":return yield*gr(h(this.parseFlowCollection()));case"quoted-scalar":return yield*gr(h(this.parseQuotedScalar()));case"block-scalar":return yield*gr(h(this.parseBlockScalar()));case"plain-scalar":return yield*gr(h(this.parsePlainScalar()))}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Xe&&(yield*gr(h(this.pushCount(1))),e=e.substring(1)),e[0]==="%"){let t=e.length;const n=e.indexOf("#");if(n!==-1){const r=e[n-1];(r===" "||r==="	")&&(t=n-1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const l=(yield*gr(h(this.pushCount(t))))+(yield*gr(h(this.pushSpaces(!0))));return yield*gr(h(this.pushCount(e.length-l))),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*gr(h(this.pushSpaces(!0)));return yield*gr(h(this.pushCount(e.length-t))),yield*gr(h(this.pushNewline())),"stream"}return yield ze,yield*gr(h(this.parseLineStart()))}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&j(this.charAt(3)))return yield*gr(h(this.pushCount(3))),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&j(this.charAt(3)))return yield*gr(h(this.pushCount(3))),"stream"}return this.indentValue=yield*gr(h(this.pushSpaces(!1))),this.indentNext>this.indentValue&&!j(this.charAt(1))&&(this.indentNext=this.indentValue),yield*gr(h(this.parseBlockStart()))}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&j(t)){const n=(yield*gr(h(this.pushCount(1))))+(yield*gr(h(this.pushSpaces(!0))));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*gr(h(this.parseBlockStart()))}return"doc"}*parseDocument(){yield*gr(h(this.pushSpaces(!0)));const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*gr(h(this.pushIndicators()));switch(e[t]){case"#":yield*gr(h(this.pushCount(e.length-t)));case void 0:return yield*gr(h(this.pushNewline())),yield*gr(h(this.parseLineStart()));case"{":case"[":return yield*gr(h(this.pushCount(1))),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*gr(h(this.pushCount(1))),"doc";case"*":return yield*gr(h(this.pushUntil(lt))),"doc";case'"':case"'":return yield*gr(h(this.parseQuotedScalar()));case"|":case">":return t+=yield*gr(h(this.parseBlockScalarHeader())),t+=yield*gr(h(this.pushSpaces(!0))),yield*gr(h(this.pushCount(e.length-t))),yield*gr(h(this.pushNewline())),yield*gr(h(this.parseBlockScalar()));default:return yield*gr(h(this.parsePlainScalar()))}}*parseFlowCollection(){let e,t,n=-1;do e=yield*gr(h(this.pushNewline())),e>0?(t=yield*gr(h(this.pushSpaces(!1))),this.indentValue=n=t):t=0,t+=yield*gr(h(this.pushSpaces(!0)));while(e+t>0);const l=this.getLine();if(l===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&l[0]!=="#"||n===0&&(l.startsWith("---")||l.startsWith("..."))&&j(l[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(l[0]==="]"||l[0]==="}")))return this.flowLevel=0,yield Ze,yield*gr(h(this.parseLineStart()));let r=0;for(;l[r]===",";)r+=yield*gr(h(this.pushCount(1))),r+=yield*gr(h(this.pushSpaces(!0))),this.flowKey=!1;switch(r+=yield*gr(h(this.pushIndicators())),l[r]){case void 0:return"flow";case"#":return yield*gr(h(this.pushCount(l.length-r))),"flow";case"{":case"[":return yield*gr(h(this.pushCount(1))),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*gr(h(this.pushCount(1))),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*gr(h(this.pushUntil(lt))),"flow";case'"':case"'":return this.flowKey=!0,yield*gr(h(this.parseQuotedScalar()));case":":{const f=this.charAt(1);if(this.flowKey||j(f)||f===",")return this.flowKey=!1,yield*gr(h(this.pushCount(1))),yield*gr(h(this.pushSpaces(!0))),"flow"}default:return this.flowKey=!1,yield*gr(h(this.parsePlainScalar()))}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let l=n.indexOf(`
`,this.pos);if(l!==-1){for(;l!==-1;){const r=this.continueScalar(l+1);if(r===-1)break;l=n.indexOf(`
`,r)}l!==-1&&(t=l-(n[l-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*gr(h(this.pushToIndex(t+1,!1))),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*gr(h(this.pushUntil(t=>j(t)||t==="#")))}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let l=this.pos;n=this.buffer[l];++l)switch(n){case" ":t+=1;break;case`
`:e=l,t=0;break;case"\r":{const r=this.buffer[l+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const l=this.continueScalar(e+1);if(l===-1)break;e=this.buffer.indexOf(`
`,l)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let l=e-1,r=this.buffer[l];r==="\r"&&(r=this.buffer[--l]);const f=l;for(;r===" "||r==="	";)r=this.buffer[--l];if(r===`
`&&l>=this.pos&&l+1+t>f)e=l;else break}while(!0);return yield Ne,yield*gr(h(this.pushToIndex(e+1,!0))),yield*gr(h(this.parseLineStart()))}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,n=this.pos-1,l;for(;l=this.buffer[++n];)if(l===":"){const r=this.buffer[n+1];if(j(r)||e&&r===",")break;t=n}else if(j(l)){let r=this.buffer[n+1];if(l==="\r"&&(r===`
`?(n+=1,l=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&ot.includes(r))break;if(l===`
`){const f=this.continueScalar(n+1);if(f===-1)break;n=Math.max(n,f-2)}}else{if(e&&ot.includes(l))break;t=n}return!l&&!this.atEnd?this.setNext("plain-scalar"):(yield Ne,yield*gr(h(this.pushToIndex(t+1,!0))),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*gr(h(this.pushTag())))+(yield*gr(h(this.pushSpaces(!0))))+(yield*gr(h(this.pushIndicators())));case"&":return(yield*gr(h(this.pushUntil(lt))))+(yield*gr(h(this.pushSpaces(!0))))+(yield*gr(h(this.pushIndicators())));case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(j(t)||e&&ot.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*gr(h(this.pushCount(1))))+(yield*gr(h(this.pushSpaces(!0))))+(yield*gr(h(this.pushIndicators())))}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!j(t)&&t!==">";)t=this.buffer[++e];return yield*gr(h(this.pushToIndex(t===">"?e+1:e,!1)))}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Fn.includes(t))t=this.buffer[++e];else if(t==="%"&&Kt.includes(this.buffer[e+1])&&Kt.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*gr(h(this.pushToIndex(e,!1)))}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*gr(h(this.pushCount(1))):e==="\r"&&this.charAt(1)===`
`?yield*gr(h(this.pushCount(2))):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");const l=t-this.pos;return l>0&&(yield this.buffer.substr(this.pos,l),this.pos=t),l}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*gr(h(this.pushToIndex(t,!1)))}}class Ls{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const l=this.lineStarts[t-1];return{line:t,col:e-l+1}}}}function q(s,e){for(let t=0;t<s.length;++t)if(s[t].type===e)return!0;return!1}function Dt(s){for(let e=0;e<s.length;++e)switch(s[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ts(s){switch(s==null?void 0:s.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function $e(s){var e;switch(s.type){case"document":return s.start;case"block-map":{const t=s.items[s.items.length-1];return(e=t.sep)!=null?e:t.start}case"block-seq":return s.items[s.items.length-1].start;default:return[]}}function ie(s){var e;if(s.length===0)return[];let t=s.length;e:for(;--t>=0;)switch(s[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((e=s[++t])==null?void 0:e.type)==="space";);return s.splice(t,s.length)}function qt(s){if(s.start.type==="flow-seq-start")for(const e of s.items)e.sep&&!e.value&&!q(e.start,"explicit-key-ind")&&!q(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Ts(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Lt{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Is,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*gr(h(this.next(n)));t||(yield*gr(h(this.end())))}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*gr(h(this.step())),this.offset+=e.length;return}const t=Es(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*gr(h(this.step())),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*gr(h(this.pop({type:"error",offset:this.offset,message:n,source:e}))),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*gr(h(this.pop()))}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*gr(h(this.pop()));this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*gr(h(this.stream()));switch(e.type){case"document":return yield*gr(h(this.document(e)));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*gr(h(this.scalar(e)));case"block-scalar":return yield*gr(h(this.blockScalar(e)));case"block-map":return yield*gr(h(this.blockMap(e)));case"block-seq":return yield*gr(h(this.blockSequence(e)));case"flow-collection":return yield*gr(h(this.flowCollection(e)));case"doc-end":return yield*gr(h(this.documentEnd(e)))}yield*gr(h(this.pop()))}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e!=null?e:this.stack.pop();if(t)if(this.stack.length===0)yield t;else{const n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&qt(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{const l=n.items[n.items.length-1];if(l.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(l.sep)l.value=t;else{Object.assign(l,{key:t,sep:[]}),this.onKeyLine=!q(l.start,"explicit-key-ind");return}break}case"block-seq":{const l=n.items[n.items.length-1];l.value?n.items.push({start:[],value:t}):l.value=t;break}case"flow-collection":{const l=n.items[n.items.length-1];!l||l.value?n.items.push({start:[],key:t,sep:[]}):l.sep?l.value=t:Object.assign(l,{key:t,sep:[]});return}default:yield*gr(h(this.pop())),yield*gr(h(this.pop(t)))}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const l=t.items[t.items.length-1];l&&!l.sep&&!l.value&&l.start.length>0&&Dt(l.start)===-1&&(t.indent===0||l.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=l.start:n.items.push({start:l.start}),t.items.splice(-1,1))}}else{const n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*gr(h(this.lineEnd(e)));switch(this.type){case"doc-start":{Dt(e.start)!==-1?(yield*gr(h(this.pop())),yield*gr(h(this.step()))):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=$e(this.peek(2)),n=ie(t);let l;e.end?(l=e.end,l.push(this.sourceToken),delete e.end):l=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:l}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*gr(h(this.lineEnd(e)))}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*gr(h(this.pop()));break;default:yield*gr(h(this.pop())),yield*gr(h(this.step()))}}*blockMap(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const l="end"in n.value?n.value.end:void 0,r=Array.isArray(l)?l[l.length-1]:void 0;(r==null?void 0:r.type)==="comment"?l==null||l.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const l=e.items[e.items.length-2],r=(t=l==null?void 0:l.value)==null?void 0:t.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const l=!this.onKeyLine&&this.indent===e.indent&&n.sep;let r=[];if(l&&n.sep&&!n.value){const f=[];for(let p=0;p<n.sep.length;++p){const I=n.sep[p];switch(I.type){case"newline":f.push(p);break;case"space":break;case"comment":I.indent>e.indent&&(f.length=0);break;default:f.length=0}}f.length>=2&&(r=n.sep.splice(f[1]))}switch(this.type){case"anchor":case"tag":l||n.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!q(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):l||n.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(q(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(q(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Ts(n.key)&&!q(n.sep,"newline")){const f=ie(n.start),p=n.key,I=n.sep;I.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:f,key:p,sep:I}]})}else r.length>0?n.sep=n.sep.concat(r,this.sourceToken):n.sep.push(this.sourceToken);else if(q(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const f=ie(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:f,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||l?e.items.push({start:r,key:null,sep:[this.sourceToken]}):q(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const f=this.flowScalar(this.type);l||n.value?(e.items.push({start:r,key:f,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(f):(Object.assign(n,{key:f,sep:[]}),this.onKeyLine=!0);return}default:{const f=this.startBlockValue(e);if(f){l&&f.type!=="block-seq"&&q(n.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(f);return}}}}yield*gr(h(this.pop())),yield*gr(h(this.step()))}*blockSequence(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const l="end"in n.value?n.value.end:void 0,r=Array.isArray(l)?l[l.length-1]:void 0;(r==null?void 0:r.type)==="comment"?l==null||l.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const l=e.items[e.items.length-2],r=(t=l==null?void 0:l.value)==null?void 0:t.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||q(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const l=this.startBlockValue(e);if(l){this.stack.push(l);return}}yield*gr(h(this.pop())),yield*gr(h(this.step()))}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*gr(h(this.pop())),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:l,sep:[]}):t.sep?this.stack.push(l):Object.assign(t,{key:l,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*gr(h(this.pop())),yield*gr(h(this.step())))}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*gr(h(this.pop())),yield*gr(h(this.step()));else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const l=$e(n),r=ie(l);qt(e);const f=e.end.splice(1,e.end.length);f.push(this.sourceToken);const p={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:f}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=p}else yield*gr(h(this.lineEnd(e)))}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=$e(e),n=ie(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const t=$e(e),n=ie(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*gr(h(this.pop()))))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*gr(h(this.pop())),yield*gr(h(this.step()));break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*gr(h(this.pop())))}}}function $s(s){const e=s.prettyErrors!==!1;return{lineCounter:s.lineCounter||e&&new Ls||null,prettyErrors:e}}function Rn(s,e={}){const{lineCounter:t,prettyErrors:n}=$s(e),l=new Lt(t==null?void 0:t.addNewLine),r=new It(e),f=Array.from(r.compose(l.parse(s)));if(n&&t)for(const p of f)p.errors.forEach(je(s,t)),p.warnings.forEach(je(s,t));return f.length>0?f:Object.assign([],{empty:!0},r.streamInfo())}function _s(s,e={}){const{lineCounter:t,prettyErrors:n}=$s(e),l=new Lt(t==null?void 0:t.addNewLine),r=new It(e);let f=null;for(const p of r.compose(l.parse(s),!0,s.length))if(!f)f=p;else if(f.options.logLevel!=="silent"){f.errors.push(new z(p.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(f.errors.forEach(je(s,t)),f.warnings.forEach(je(s,t))),f}function Vn(s,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);const l=_s(s,t);if(!l)return null;if(l.warnings.forEach(r=>zt(l.options.logLevel,r)),l.errors.length>0){if(l.options.logLevel!=="silent")throw l.errors[0];l.errors=[]}return l.toJS(Object.assign({reviver:n},t))}function Jn(s,e,t){var n;let l=null;if(typeof e=="function"||Array.isArray(e)?l=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const r=Math.round(t);t=r<1?void 0:r>8?{indent:8}:{indent:r}}if(s===void 0){const{keepUndefined:r}=(n=t!=null?t:e)!=null?n:{};if(!r)return}return new me(s,l,t).toString(t)}const Gn=Object.freeze(Object.defineProperty({__proto__:null,Alias:qe,CST:qn,Composer:It,Document:me,Lexer:Is,LineCounter:Ls,Pair:C,Parser:Lt,Scalar:A,Schema:He,YAMLError:At,YAMLMap:K,YAMLParseError:z,YAMLSeq:se,YAMLWarning:ms,isAlias:ee,isCollection:T,isDocument:Oe,isMap:te,isNode:$,isPair:L,isScalar:E,isSeq:he,parse:Vn,parseAllDocuments:Rn,parseDocument:_s,stringify:Jn,visit:Q,visitAsync:De},Symbol.toStringTag,{value:"Module"})),indexF6886d83=Object.freeze(Object.defineProperty({__proto__:null,Alias:qe,CST:qn,Composer:It,Document:me,Lexer:Is,LineCounter:Ls,Pair:C,Parser:Lt,Scalar:A,Schema:He,YAMLError:At,YAMLMap:K,YAMLParseError:z,YAMLSeq:se,YAMLWarning:ms,default:Gn,isAlias:ee,isCollection:T,isDocument:Oe,isMap:te,isNode:$,isPair:L,isScalar:E,isSeq:he,parse:Vn,parseAllDocuments:Rn,parseDocument:_s,stringify:Jn,visit:Q,visitAsync:De},Symbol.toStringTag,{value:"Module"}))});
